<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="1.C语言概述 1.1第一个C语言项目 //标准的主函数写法 //&lt;&gt;表示导入系统的文件 &#34;&#34;表示自定义文件 //std 是一个标准库,i是input，o是output，所以stdio为标准输入输出库 //.h为头文件 #include &lt;stdio.h&gt; //int 数据类型为整型，如果出现在函数中，表示函数的返回值 //main 为程序的主函数，程序有且只有一个主函数 //()里面表示函数的参数，函数的参数可以有多个，用,分隔 int main() { return 0; } //{} 表示函数体 代码体 程序体 //printf 是stdio.h中系统提供的函数，表示在标准输出设备上打印字符串 //；一条语句的结束 //return 如果出现在其他函数中表示函数的结束，如果出现在main函数中表示程序结束 //0 表示函数的返回值 要和函数返回值类型对应 //int 代表整型，0代表整数，两者有呼应 //默认main函数是程序的入口 #include &lt;stdio.h&gt; int main() { printf(&#34;Hello world\\n&#34;); return 0; } //\\n是一个转义字符 表示换行 1.2数据类型 char //字符数据类型 short //短整型 int //整型 long //长整型 long long //更长的整型 float //单精度浮点数 double //双精度浮点数 1.3通过gcc编译代码 1.4system函数 格式一： #include &lt;stdlib.h&gt;//&lt;stdio.h&gt;包含system函数的库 int main() { //cmd命令 calc 计算器； notepad 记事本； mspaint 画图板 //system 可以打开一个外部的应用程序，如果带路径要用\\\\或者/ system(&#34;calc&#34;); return 0; } /*功能：在已经运行的程序中执行另外一个外部程序 参数：外部可执行的程序 返回值：成功 0 失败 任意数字*/ 格式二：">
<title>C</title>

<link rel='canonical' href='https://jiebaoccc.github.io/post/c/'>

<link rel="stylesheet" href="/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css"><meta property='og:title' content="C">
<meta property='og:description' content="1.C语言概述 1.1第一个C语言项目 //标准的主函数写法 //&lt;&gt;表示导入系统的文件 &#34;&#34;表示自定义文件 //std 是一个标准库,i是input，o是output，所以stdio为标准输入输出库 //.h为头文件 #include &lt;stdio.h&gt; //int 数据类型为整型，如果出现在函数中，表示函数的返回值 //main 为程序的主函数，程序有且只有一个主函数 //()里面表示函数的参数，函数的参数可以有多个，用,分隔 int main() { return 0; } //{} 表示函数体 代码体 程序体 //printf 是stdio.h中系统提供的函数，表示在标准输出设备上打印字符串 //；一条语句的结束 //return 如果出现在其他函数中表示函数的结束，如果出现在main函数中表示程序结束 //0 表示函数的返回值 要和函数返回值类型对应 //int 代表整型，0代表整数，两者有呼应 //默认main函数是程序的入口 #include &lt;stdio.h&gt; int main() { printf(&#34;Hello world\\n&#34;); return 0; } //\\n是一个转义字符 表示换行 1.2数据类型 char //字符数据类型 short //短整型 int //整型 long //长整型 long long //更长的整型 float //单精度浮点数 double //双精度浮点数 1.3通过gcc编译代码 1.4system函数 格式一： #include &lt;stdlib.h&gt;//&lt;stdio.h&gt;包含system函数的库 int main() { //cmd命令 calc 计算器； notepad 记事本； mspaint 画图板 //system 可以打开一个外部的应用程序，如果带路径要用\\\\或者/ system(&#34;calc&#34;); return 0; } /*功能：在已经运行的程序中执行另外一个外部程序 参数：外部可执行的程序 返回值：成功 0 失败 任意数字*/ 格式二：">
<meta property='og:url' content='https://jiebaoccc.github.io/post/c/'>
<meta property='og:site_name' content='Carp&#39;s blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-08-08T00:38:54&#43;08:00'/><meta property='article:modified_time' content='2024-08-08T00:38:54&#43;08:00'/>
<meta name="twitter:title" content="C">
<meta name="twitter:description" content="1.C语言概述 1.1第一个C语言项目 //标准的主函数写法 //&lt;&gt;表示导入系统的文件 &#34;&#34;表示自定义文件 //std 是一个标准库,i是input，o是output，所以stdio为标准输入输出库 //.h为头文件 #include &lt;stdio.h&gt; //int 数据类型为整型，如果出现在函数中，表示函数的返回值 //main 为程序的主函数，程序有且只有一个主函数 //()里面表示函数的参数，函数的参数可以有多个，用,分隔 int main() { return 0; } //{} 表示函数体 代码体 程序体 //printf 是stdio.h中系统提供的函数，表示在标准输出设备上打印字符串 //；一条语句的结束 //return 如果出现在其他函数中表示函数的结束，如果出现在main函数中表示程序结束 //0 表示函数的返回值 要和函数返回值类型对应 //int 代表整型，0代表整数，两者有呼应 //默认main函数是程序的入口 #include &lt;stdio.h&gt; int main() { printf(&#34;Hello world\\n&#34;); return 0; } //\\n是一个转义字符 表示换行 1.2数据类型 char //字符数据类型 short //短整型 int //整型 long //长整型 long long //更长的整型 float //单精度浮点数 double //双精度浮点数 1.3通过gcc编译代码 1.4system函数 格式一： #include &lt;stdlib.h&gt;//&lt;stdio.h&gt;包含system函数的库 int main() { //cmd命令 calc 计算器； notepad 记事本； mspaint 画图板 //system 可以打开一个外部的应用程序，如果带路径要用\\\\或者/ system(&#34;calc&#34;); return 0; } /*功能：在已经运行的程序中执行另外一个外部程序 参数：外部可执行的程序 返回值：成功 0 失败 任意数字*/ 格式二：">
  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu8602028200308506927.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Carp&#39;s blog</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/c/">C</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 08, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    46 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="1c语言概述">1.C语言概述
</h1><h3 id="11第一个c语言项目">1.1第一个C语言项目
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//标准的主函数写法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//&lt;&gt;表示导入系统的文件  &#34;&#34;表示自定义文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//std 是一个标准库,i是input，o是output，所以stdio为标准输入输出库
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//.h为头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//int 数据类型为整型，如果出现在函数中，表示函数的返回值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//main 为程序的主函数，程序有且只有一个主函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//()里面表示函数的参数，函数的参数可以有多个，用,分隔
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>; 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//{} 表示函数体 代码体 程序体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//printf 是stdio.h中系统提供的函数，表示在标准输出设备上打印字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//；一条语句的结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//return 如果出现在其他函数中表示函数的结束，如果出现在main函数中表示程序结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//0 表示函数的返回值 要和函数返回值类型对应
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//int 代表整型，0代表整数，两者有呼应
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//默认main函数是程序的入口
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Hello world</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//\n是一个转义字符 表示换行
</span></span></span></code></pre></div><h3 id="12数据类型">1.2数据类型
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#75715e">//字符数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">short</span> <span style="color:#75715e">//短整型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#75715e">//整型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> <span style="color:#75715e">//长整型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> <span style="color:#75715e">//更长的整型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">float</span> <span style="color:#75715e">//单精度浮点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">double</span> <span style="color:#75715e">//双精度浮点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span></code></pre></div><h3 id="13通过gcc编译代码">1.3通过gcc编译代码
</h3><p><img src="C:/Users/carp/OneDrive/%e6%a1%8c%e9%9d%a2/C%e8%af%ad%e8%a8%80/%e5%9b%be%e7%89%87/%e5%be%ae%e4%bf%a1%e5%9b%be%e7%89%87_20230917170205.png"
	
	
	
	loading="lazy"
	
		alt="微信图片_20230917170205"
	
	
></p>
<h3 id="14system函数">1.4system函数
</h3><p><strong>格式一：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;//&lt;stdio.h&gt;包含system函数的库</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//cmd命令 calc 计算器； notepad 记事本； mspaint 画图板
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//system 可以打开一个外部的应用程序，如果带路径要用\\或者/
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">system</span>(<span style="color:#e6db74">&#34;calc&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*功能：在已经运行的程序中执行另外一个外部程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">参数：外部可执行的程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">返回值：成功 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">       失败 任意数字*/</span>
</span></span></code></pre></div><p><strong>格式二：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value;
</span></span><span style="display:flex;"><span>    value <span style="color:#f92672">=</span> <span style="color:#a6e22e">system</span>(<span style="color:#e6db74">&#34;calc&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//%d是一个占位符，表示输出一个整型数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//占位符%f，表示输出一个浮点型，默认保留六位小数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//%.2f保留两位小数 %.3f保留两位小数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,value);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**ps:**一个文件夹中的main主函数只能有一个,如果有多个，要将main改成main01</p>
<h3 id="15c语言编译过程">1.5C语言编译过程
</h3><blockquote>
<p><strong>①C程序编译步骤：</strong></p>
<blockquote>
<p><strong>1.</strong> **预处理：**宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，这里不会检查语法</p>
<p>**2.编译：**检查语法，将预处理后的文件编译生成汇编文件</p>
<p>**3.汇编：**将汇编文件生成目标文件（二进制文件）</p>
<p>**4.链接：**C语言写的程序是需要依赖各种库的，所以编译之后还需要把库连接到最终的可执行程序中去</p>
</blockquote>
<p><strong>②gcc编译过程</strong>：</p>
<blockquote>
<ol>
<li>
<p>分布编译</p>
<pre tabindex="0"><code>预处理：gcc -E hello.c -o hello.i
编译： gcc -S hello.i -o hello.s
汇编： gcc -c hellp.s -o hello.o
链接：gcc     hello.o -o hello.exe
</code></pre><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-E     |</td>
<td style="text-align:center">只进行预处理         |</td>
</tr>
<tr>
<td style="text-align:center">-S（大写） |</td>
<td style="text-align:center">只进行预处理和编译      |</td>
</tr>
<tr>
<td style="text-align:center">-e  (小写) |</td>
<td style="text-align:center">只进行预处理、编译和汇编   |</td>
</tr>
<tr>
<td style="text-align:center">-o file   |</td>
<td style="text-align:center">指定生成的输出文件名为 file |</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">文件后缀</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.c    |</td>
<td style="text-align:center">C语言文件      |</td>
</tr>
<tr>
<td style="text-align:center">.i    |</td>
<td style="text-align:center">预处理后的C语言文件 |</td>
</tr>
<tr>
<td style="text-align:center">.s    |</td>
<td style="text-align:center">编译后的汇编文件   |</td>
</tr>
<tr>
<td style="text-align:center">.o    |</td>
<td style="text-align:center">编译后的目标文件   |</td>
</tr>
</tbody>
</table></div>
</li>
</ol>
</blockquote>
</blockquote>
<h3 id="16c语言嵌套汇编代码">1.6C语言嵌套汇编代码
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">//定义整型变量a,b,c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> c;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">__asm</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        mov a,<span style="color:#ae81ff">3</span>   <span style="color:#75715e">//3的值放在a对应内存的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        mov b,<span style="color:#ae81ff">4</span>   <span style="color:#75715e">//4的值放在b对应内存的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        mov eax,a <span style="color:#75715e">//把a内存的值放在eax寄存器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        add eax,b <span style="color:#75715e">//eax和b相加，结果放在eax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        mov c,eax <span style="color:#75715e">//eax的值放在c中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);<span style="color:#75715e">//把c的值输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//成功完成
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h1 id="2数据类型">2.数据类型
</h1><h2 id="21常量与变量">2.1常量与变量
</h2><h3 id="211关键字">2.1.1关键字
</h3><ul>
<li>
<p>数据类型关键字（12个）</p>
<p>char , short , int , long , float , double,</p>
<p>unsigned(无符号的), signed，struct , union, enum , void</p>
</li>
<li>
<p>控制语句关键字（12个）</p>
<p>if，else, switch , case , default,</p>
<p>for , do , while , break , continue , goto , return</p>
</li>
<li>
<p>存储类关键字（5个）</p>
<p>auto （局部变量①）, extern , register , static, const（使变量恒定不变）</p>
<p>①局部变量，也称内部变量，是指在一个函数内部或复合语句内部定义的变量 。 局部变量的作用域是定义该变量的函数或定义该变量的复合语句。 局部变量的生存期是从函数被调用的时刻算起到函数返回调用处的时刻结束。但是变量默认为局部变量，所以通常不加</p>
</li>
<li>
<p>其他关键字（3个）</p>
<p>sizeof , typedef , volatile</p>
</li>
</ul>
<h3 id="212-数据类型">2.1.2 数据类型
</h3><p><strong>基本类型：</strong></p>
<pre tabindex="0"><code>整型: int , short , long
字符型: char
浮点型：float （单精度实型）
      double (双精度实型)
</code></pre><p><strong>构造类型：</strong></p>
<pre tabindex="0"><code>数组类型
结构类型：struct
联合类型：union
枚举类型：enum
</code></pre><p><strong>指针类型：</strong></p>
<pre tabindex="0"><code>char *
int *
int **
</code></pre><h3 id="213-常量">2.1.3 常量
</h3><p><strong>常量：</strong></p>
<ul>
<li>在程序运行过程中，其值不能发生改变的量</li>
</ul>
<p><strong>定义常量的方式：</strong></p>
<ul>
<li>const 数据类型 常量名 = 值 （不安全）</li>
<li>#define 常量名 值</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//计算圆的面积与周长
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;srdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//宏定义常量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define PI 3.14159 （方法二,此方法常量名要大写，无等号无分号）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//常量 pi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//const float pi = 3.14159;  (方法一)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//在定义局部变量可以在数据类型前加修饰auto，也可以不加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//因为变量默认为局部变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">float</span> r <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.4</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> s <span style="color:#f92672">=</span> PI <span style="color:#f92672">*</span> r <span style="color:#f92672">*</span> r;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> l <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> PI <span style="color:#f92672">*</span> r;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//占位符 %f 表示输出以一个浮点型 float
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//%.2f 保留两位小数 %.3f保留两位小数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;圆的面积： %.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,s);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;圆的周长： %.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,l);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="214-变量">2.1.4 变量
</h3><p><strong>变量：</strong></p>
<ul>
<li>在程序运行过程中，其值可以发生变化的量</li>
</ul>
<p><strong>定义变量格式：</strong></p>
<ul>
<li>数据类型 变量 = 值</li>
</ul>
<h3 id="215-使用示例">2.1.5 使用示例
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX 10 </span><span style="color:#75715e">//声明了一个常量，名字叫MAX,值为10，常量的值一旦初始化不可改
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a; <span style="color:#75715e">//定义了一个变量，其类型为int，名字叫a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>; <span style="color:#75715e">//定义一个const常量 名叫b 值为10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//b = 11; //err。常量的值不能改变
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//MAX = 100;//err，常量的值不能改变
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> MAX; <span style="color:#75715e">//将a的值设置为MAX的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">123</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//标识符：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//1、不能使用系统关键字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//2、允许使用字母、数字、下划线组成
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//3、第一个字符必须为字母或下划线，不允许数字开头
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//4、标识符中字符区分大小写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//5、见名知意
</span></span></span></code></pre></div><h2 id="22整型int">2.2整型：int
</h2><h3 id="221-整型变量的定义和输出">2.2.1 整型变量的定义和输出
</h3><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">打印格式</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%d</td>
<td style="text-align:center">输出一个有符号的10进制int类型</td>
</tr>
<tr>
<td style="text-align:center">%o (字母o)</td>
<td style="text-align:center">输出8进制的int类型</td>
</tr>
<tr>
<td style="text-align:center">%x</td>
<td style="text-align:center">输出16进制的int类型，字母以小写输出</td>
</tr>
<tr>
<td style="text-align:center">%Xo</td>
<td style="text-align:center">输出16进制的int类型，字母以大写输出</td>
</tr>
<tr>
<td style="text-align:center">%u</td>
<td style="text-align:center">输出一个10进制的无符号数</td>
</tr>
<tr>
<td style="text-align:center">%hd</td>
<td style="text-align:center">输出一个短整型数据（short）</td>
</tr>
<tr>
<td style="text-align:center">%ld</td>
<td style="text-align:center">输出一个长整型数据（long）</td>
</tr>
<tr>
<td style="text-align:center">%lld</td>
<td style="text-align:center">输出一个长长整型数据（long long）</td>
</tr>
</tbody>
</table></div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//无符号 unsigned 有符号 signed (默认为有符号,可以省略)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//有符号即在数字前面可以加负号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//无符号的数据只能是正数，如果为负数，结果为乱码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%u</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//结果为一串乱码
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//定义八进制数据以0开头
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span><span style="color:#ae81ff">0777</span> ;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//定义十六进制数据，以0x开头
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x123</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//在计算机定义数据时，不可以直接定义二进制
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%o</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%x</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%o</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%x</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="222整型变量的输入">2.2.2整型变量的输入
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">int</span> a ;
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>     <span style="color:#75715e">//通过键盘输入赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#75715e">//&amp;运算符 表示取地址运算符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#75715e">//scanf函数不能加\n
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a);
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><p>**PS：**在VS中使用时会有警告出现 ,解决方法如下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">在开头加上</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define _CRT_SECURE_NO_WARNINGS </span><span style="color:#75715e">//这个宏定义最好放到C文件的第一行 （第一种）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#pragma warning(disable:4996) </span><span style="color:#75715e">//或者使用这个
</span></span></span></code></pre></div><h3 id="223-shortint-long-long-long">2.2.3 short、int 、long 、long long
</h3><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">数据类型</th>
<th style="text-align:center">占用空间</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">short（短整型）</td>
<td style="text-align:center">2字节</td>
</tr>
<tr>
<td style="text-align:center">int（整型）</td>
<td style="text-align:center">4字节</td>
</tr>
<tr>
<td style="text-align:center">long（长整型）</td>
<td style="text-align:center">Windows为4字节，Linux为4字节（32位），8字节（64位）</td>
</tr>
<tr>
<td style="text-align:center">long long（长整型）</td>
<td style="text-align:center">8字节</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">整型常量</th>
<th style="text-align:center">所需类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">代表int类型</td>
</tr>
<tr>
<td style="text-align:center">10l,10L</td>
<td style="text-align:center">代表long类型</td>
</tr>
<tr>
<td style="text-align:center">10ll,10LL</td>
<td style="text-align:center">代表long long 类型</td>
</tr>
<tr>
<td style="text-align:center">10u,10U</td>
<td style="text-align:center">代表unsigned int类型</td>
</tr>
<tr>
<td style="text-align:center">10ul,10UL</td>
<td style="text-align:center">代表unsigned long类型</td>
</tr>
<tr>
<td style="text-align:center">10ull,10ULL</td>
<td style="text-align:center">代表unsigned long long 类型</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">打引格式</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%hd</td>
<td style="text-align:center">输出 short 类型</td>
</tr>
<tr>
<td style="text-align:center">%d</td>
<td style="text-align:center">输出 int 类型</td>
</tr>
<tr>
<td style="text-align:center">%ld</td>
<td style="text-align:center">输出 long 类型</td>
</tr>
<tr>
<td style="text-align:center">%lld</td>
<td style="text-align:center">输出 long long 类型</td>
</tr>
<tr>
<td style="text-align:center">%hu</td>
<td style="text-align:center">输出 unsigned short 类型</td>
</tr>
<tr>
<td style="text-align:center">%u</td>
<td style="text-align:center">输出 unsigned int 类型</td>
</tr>
<tr>
<td style="text-align:center">%lu</td>
<td style="text-align:center">输出 unsigned long 类型</td>
</tr>
<tr>
<td style="text-align:center">%llu</td>
<td style="text-align:center">输出unsigned long long 类型</td>
</tr>
<tr>
<td style="text-align:center">%c</td>
<td style="text-align:center">输出字符</td>
</tr>
<tr>
<td style="text-align:center">%f</td>
<td style="text-align:center">输出浮点型数据</td>
</tr>
<tr>
<td style="text-align:center">%p</td>
<td style="text-align:center">以十六进制整数方式输出指针的值</td>
</tr>
<tr>
<td style="text-align:center">%s</td>
<td style="text-align:center">输出一个字符串</td>
</tr>
<tr>
<td style="text-align:center">%ms</td>
<td style="text-align:center">按指定长度m输出字符串</td>
</tr>
<tr>
<td style="text-align:center">%.ns</td>
<td style="text-align:center">输出字符串前n个字符</td>
</tr>
<tr>
<td style="text-align:center">%m.ns</td>
<td style="text-align:center">输出字符串前n个字符，输出长度为m</td>
</tr>
<tr>
<td style="text-align:center">%g 或 %G</td>
<td style="text-align:center">小数点右侧的尾数0不被显示；显示小数点仅当输出的小数部分不为0。</td>
</tr>
<tr>
<td style="text-align:center">%[ ^ \n]</td>
<td style="text-align:center">读取到\n为止</td>
</tr>
</tbody>
</table></div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//%s %ms %.ns %m.ns 例子
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,CHINA);<span style="color:#75715e">//CHINA
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%2s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,CHINA);<span style="color:#75715e">//CHINA 字符串长度超过给定的数则原样输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%8s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,CHINA);<span style="color:#75715e">//   CHINA
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%.2s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,CHINA);<span style="color:#75715e">//CH
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%5.3s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,CHINA);<span style="color:#75715e">//  CHI
</span></span></span></code></pre></div><h3 id="224-有符号数和无符号数的区别">2.2.4 有符号数和无符号数的区别
</h3><ul>
<li>
<p><strong>1.有符号数</strong></p>
<p>有符号数的最高位为符号位，0代表正数，1代表负数</p>
</li>
<li>
<p><strong>2.无符号数</strong></p>
<p>无符号数最高位不是符号位，而就是数的一部分，无符号数不可能是负数</p>
</li>
</ul>
<h2 id="23-sizeof-关键字">2.3 sizeof 关键字
</h2><ul>
<li>sizeof 不是函数，所以不需要包含任何头文件，他的功能是计算一个数据类型的大小，单位是字节</li>
<li>sizeof的返回值为size_t</li>
<li>size_t 类型在32位操作系统下是unsigned int ，是一个无符号的整数</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a ;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span><span style="color:#66d9ef">sizeof</span>(a);<span style="color:#75715e">//sizeof得到指定值占用内存的大小，单位：字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">size_t</span> c <span style="color:#f92672">=</span><span style="color:#66d9ef">sizeof</span>(a);<span style="color:#75715e">//或 unsigned int c = sizeof(a);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);<span style="color:#75715e">//用无符号数的方式输出c的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//或printf(&#34;%d\n&#34;,sizeof(a));
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">数据类型</th>
<th style="text-align:center">占用空间</th>
<th style="text-align:center">取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">2字节</td>
<td style="text-align:center">-32768 到 32767 （-2^15^ ~ 2^15^-1）</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">4字节</td>
<td style="text-align:center">-2147483648 到 2147483647 （-2^31^~2^31^-1）</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">4字节</td>
<td style="text-align:center">-2147483648 到 2147483647 （-2^31^~2^31^-1）</td>
</tr>
<tr>
<td style="text-align:center">unsigned short</td>
<td style="text-align:center">2字节</td>
<td style="text-align:center">0 到 65535 （0~2^16^-1 ）</td>
</tr>
<tr>
<td style="text-align:center">unsigned int</td>
<td style="text-align:center">4字节</td>
<td style="text-align:center">0 到 4294967295（0 ~ 2^32^-1）</td>
</tr>
<tr>
<td style="text-align:center">unsigned long</td>
<td style="text-align:center">4字节</td>
<td style="text-align:center">0 到 4294967295（0~2^32^-1）</td>
</tr>
</tbody>
</table></div>
<h2 id="24-字符型char">2.4 字符型char
</h2><h3 id="241-字符变量的定义与输出">2.4.1 字符变量的定义与输出
</h3><p>字符型变量用于存储一个单一字符，在C语言中用char表示，其中每个字符变量都会占用1个字节。在给字符型变量赋值时，需要一对英文半角格式的单引号(‘ ’)把字符括起来。如果要输入字符串 则用双引号 ( “ ” )</p>
<p>字符变量实际上并不是把该字符本身放到变量的内存单元中去，而是将该字符对用的ASCII 编码放到变量的存储单元中。==char的本质就是一个1字节大小的整型==</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//打印字符变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="242-字符变量的输入">2.4.2 字符变量的输入
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;请输入ch的值&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//不要加“\n”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>,<span style="color:#f92672">&amp;</span>ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;ch= %c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);<span style="color:#75715e">//打印ch的字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="243-转义字符">2.4.3 转义字符
</h3><div class="table-wrapper"><table>
<thead>
<tr>
<th>转义字符</th>
<th>含义</th>
<th>ASCII码值（十进制）</th>
</tr>
</thead>
<tbody>
<tr>
<td>==\a==</td>
<td>警报</td>
<td>007</td>
</tr>
<tr>
<td>==\b==</td>
<td>退格（BS），将当前位置移到前一列</td>
<td>008</td>
</tr>
<tr>
<td>==\f==</td>
<td>换页（FF），将当前位置移到下页开头</td>
<td>012</td>
</tr>
<tr>
<td>==\n==</td>
<td>换行（LF），将当前位置移到下一行开头</td>
<td>010</td>
</tr>
<tr>
<td>==\r==</td>
<td>回车（CR），将当前位置移到本行开头</td>
<td>013</td>
</tr>
<tr>
<td>==\t==</td>
<td>水平制表（HT）（跳到下一个TAB位置）</td>
<td>009</td>
</tr>
<tr>
<td>==\v==</td>
<td>垂直制表（VT）</td>
<td>011</td>
</tr>
<tr>
<td>\ \ （没有空格）</td>
<td>代表一个反斜线字符“\“</td>
<td>092</td>
</tr>
<tr>
<td>\ &rsquo; （没有空格）</td>
<td>代表一份单引号字符</td>
<td>039</td>
</tr>
<tr>
<td>\“</td>
<td>代表一个双引号字符</td>
<td>034</td>
</tr>
<tr>
<td>?</td>
<td>代表一个问号</td>
<td>063</td>
</tr>
<tr>
<td>\0</td>
<td>数字0</td>
<td>000</td>
</tr>
<tr>
<td>\ddd</td>
<td>8进制转义字符，d范围0~7</td>
<td>3位8进制</td>
</tr>
<tr>
<td>\xhh</td>
<td>16进制转义字符，h范围0~ 9，a ~ f,A ~F</td>
<td>3位16进制</td>
</tr>
<tr>
<td>%%</td>
<td>代表一个百分号</td>
<td></td>
</tr>
</tbody>
</table></div>
<p>**注意：**黄色字体标注的为不可打印字符</p>
<h2 id="25-实型浮点型floatdouble">2.5 实型（浮点型）：float、double
</h2><p>实型变量也可以称为浮点型变量，浮点型变量是用来存储小数数值的。在C语言中浮点型变量分为两种：单精度浮点型（float）、双精度浮点型（double），但是double型变量所表示的浮点数比float型变量更精确</p>
<p>由于浮点型变量是有有限的存储单元组成的，因此只能提供有限的有效数字。在有效位以外的数字将被舍去，这样可能会产生一丝误差</p>
<p>不以 f 结尾的常量是double类型，以 f 结尾的常量（如3.14f）是float类型</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> a <span style="color:#f92672">=</span><span style="color:#ae81ff">3.14f</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//浮点型数据 存储在内存中的格式分为符号位 指数位 小数位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">double</span>));
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">；</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>查看内存存储</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//%p 占位符 表示输出一个变量对应的内存地址编号（无符号十六进制整型数）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//大小端大小端对齐
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>赋值方式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//传统方式赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">float</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14f</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//科学法赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.2e3</span>f;<span style="color:#75715e">//即 3.2*1000,e可以写成E
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">100e-3</span>f;<span style="color:#75715e">//即 100*0.001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.1415926f</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);<span style="color:#75715e">//结果为3.141593 自动保留6位小数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="26-进制">2.6 进制
</h2><p>进制就是进位制，是人们规定的一种进位方式。x进制就是逢x进位</p>
<h3 id="261-二进制">2.6.1 二进制
</h3><p>当前的计算机系统使用的基本上是二进制系统，==数据在计算机中主要是以补码的形式存储的==</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">术语</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">bite（比特）</td>
<td style="text-align:center">一个二进制代表一位，一个为只能表示0或1两种状态，数据传输习惯以”位“（bite）为单位</td>
</tr>
<tr>
<td style="text-align:center">Byte（字节）</td>
<td style="text-align:center">一个字节为8个二进制，称为8位，计算机中存储的最小单位是字节，数据存储是习惯以”字节“（Byte）为单位</td>
</tr>
<tr>
<td style="text-align:center">WORD（双字节）</td>
<td style="text-align:center">2个字节，16位</td>
</tr>
<tr>
<td style="text-align:center">DWORD</td>
<td style="text-align:center">两个WORD，4个字节，32位</td>
</tr>
<tr>
<td style="text-align:center">1b</td>
<td style="text-align:center">1bit , 1位</td>
</tr>
<tr>
<td style="text-align:center">1B</td>
<td style="text-align:center">1Byte , 1字节，8位</td>
</tr>
<tr>
<td style="text-align:center">1k , 1K</td>
<td style="text-align:center">1024</td>
</tr>
<tr>
<td style="text-align:center">1M （1兆）</td>
<td style="text-align:center">1024k , 1024*1024</td>
</tr>
<tr>
<td style="text-align:center">1G</td>
<td style="text-align:center">1024M</td>
</tr>
<tr>
<td style="text-align:center">1T</td>
<td style="text-align:center">1024G</td>
</tr>
<tr>
<td style="text-align:center">1Kb（千位）</td>
<td style="text-align:center">1024bit , 1024位</td>
</tr>
<tr>
<td style="text-align:center">1KB（千字节）</td>
<td style="text-align:center">1024Byte , 1024位</td>
</tr>
<tr>
<td style="text-align:center">1Mb（兆位）</td>
<td style="text-align:center">1024Kb = 1024 * 1024bit</td>
</tr>
<tr>
<td style="text-align:center">1MB（兆字节）</td>
<td style="text-align:center">1024KB = 1024 * 1024Byte</td>
</tr>
</tbody>
</table></div>
<p><strong>二进制位转成8进制位：</strong></p>
<p>将二进制数从右往左三个三个为一组，将这三个数代表的数依次放入，结果即为二进制装成8进制的数</p>
<p>同理，从8进制转成2进制即将每个数字转成二进制数，依次排列</p>
<p><strong>二进制位转成16进制位：</strong></p>
<p>方法同上，位数由三个换成四个</p>
<p><strong>8进制位转成16进制位</strong>：</p>
<p>用以上方法，先将8进制转成二进制，再从二进制转成十六进制</p>
<p><strong>十进制的小数转换成二进制：</strong></p>
<p>小数部分和 2 相乘，取整数，不足 1 取 0 ，每次相乘都是小数部分，顺序看取整后的数就是转化的结果（结果不一定准确）</p>
<p><img src="C:/Users/carp/OneDrive/%e6%a1%8c%e9%9d%a2/C%e8%af%ad%e8%a8%80/%e5%9b%be%e7%89%87/%e5%be%ae%e4%bf%a1%e5%9b%be%e7%89%87_20231002101113.png"
	
	
	
	loading="lazy"
	
		alt="微信图片_20231002101113"
	
	
></p>
<h3 id="264-c语言如何表示相应进制数">2.6.4 C语言如何表示相应进制数
</h3><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">进制</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">十进制</td>
<td>以正常数字1~9开头，如123</td>
</tr>
<tr>
<td style="text-align:center">八进制</td>
<td>以数字0开头，如0123</td>
</tr>
<tr>
<td style="text-align:center">十六进制</td>
<td>以0x开头，如0x123</td>
</tr>
<tr>
<td style="text-align:center">二进制</td>
<td>C语言不能直接书写二进制数</td>
</tr>
</tbody>
</table></div>
<h3 id="27计算机内存数值存储方式">2.7计算机内存数值存储方式
</h3><p>在计算机系统中，数值一律用补码来存储，主要原因是</p>
<ul>
<li>统一了零的编码</li>
<li>将符号位和其他位统一处理</li>
<li>将减法运算转变为加法运算</li>
<li>两个用补码表示的数相加时，如果最高位（符号位）有进位，则进位被舍弃</li>
</ul>
<h3 id="275-数值溢出">2.7.5 数值溢出
</h3><p>当超过一个数据类型能够存放的最大范围时，数据就会溢出</p>
<p>有符号位最高位溢出的区别：符号位溢出会导致数的正负发生变化，但最高位的溢出会导致最高位丢失</p>
<p>（黑马程序员 P23）</p>
<h2 id="28类型限定符">2.8类型限定符
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">限定符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">extern</td>
<td style="text-align:center">声明一个变量，extern声明的变量没有建立存储空间<!-- raw HTML omitted -->extern int a;//变量在定义的时候船舰存储空间</td>
</tr>
<tr>
<td style="text-align:center">const</td>
<td style="text-align:center">定义一个常量，常量的值不能修改<!-- raw HTML omitted -->const int a = 10;</td>
</tr>
<tr>
<td style="text-align:center">volatile</td>
<td style="text-align:center">防止编译器优化代码</td>
</tr>
<tr>
<td style="text-align:center">register</td>
<td style="text-align:center">定义寄存器变量，提高效率。register是建议型的指令，而不是命令型的指令，如果CPU有空闲寄存器，那么register就生效，如果没有空闲寄存器，那么register无效</td>
</tr>
</tbody>
</table></div>
<h2 id="29-字符串格式化输出和输入">2.9 字符串格式化输出和输入
</h2><h3 id="291-字符转常量">2.9.1 字符转常量
</h3><ul>
<li>字符串是内存中一段连续的char空间，以‘ \0 ’（数字0）结尾</li>
<li>字符串常量是由双引号括起来的字符串序列，如“china”、“C program”、“$12.5”等都是合法的字符串常量</li>
</ul>
<p><strong>字符串常量与字符常量的不同：</strong></p>
<ul>
<li>
<p>‘a’为字符常量</p>
</li>
<li>
<p>“a”为字符串常量</p>
<p>每个字符串的结尾，编译器会自动的添加一个结束标志位‘\0’,即“a”包含两个字符 ‘a’ 和  ‘\0’</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//定义字符串 char * b = &#34;  &#34;; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;a&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//char b[11] = &#34;hello world&#34;; 可定义有11个字符，但这样会把结尾的\0除去，打印结果会出现乱码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//%s 表示输出一个字符串,他会在b中找\0，一遇到\0就会停止，所以如 char * b = &#34;hello\0 world&#34;，最终会打印出来 hello
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="292-printf-函数和-putchar-函数">2.9.2 printf 函数和 putchar 函数
</h3><ul>
<li>printf 是输出一个字符串，putchar 输出一个 char</li>
</ul>
<p><strong>printf 格式字符：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">打印格式</th>
<th style="text-align:center">对应数据类型</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%d</td>
<td style="text-align:center">int</td>
<td style="text-align:center">接受整数值并将它表示位有符号的十进制整数</td>
</tr>
<tr>
<td style="text-align:center">%hd</td>
<td style="text-align:center">short int</td>
<td style="text-align:center">短整数</td>
</tr>
<tr>
<td style="text-align:center">%hu</td>
<td style="text-align:center">unsigned short</td>
<td style="text-align:center">无符号短整数</td>
</tr>
<tr>
<td style="text-align:center">%o</td>
<td style="text-align:center">unsigned int</td>
<td style="text-align:center">无符号8进制整数</td>
</tr>
<tr>
<td style="text-align:center">%u</td>
<td style="text-align:center">unsigned int</td>
<td style="text-align:center">无符号的10进制整数</td>
</tr>
<tr>
<td style="text-align:center">%x , %X</td>
<td style="text-align:center">unsigned int</td>
<td style="text-align:center">无符号的16进制整数，x对应英文小写abcdef，X对应英文大写ABCDEF</td>
</tr>
<tr>
<td style="text-align:center">%f</td>
<td style="text-align:center">float</td>
<td style="text-align:center">单精度浮点数</td>
</tr>
<tr>
<td style="text-align:center">%lf</td>
<td style="text-align:center">double</td>
<td style="text-align:center">双精度浮点数</td>
</tr>
<tr>
<td style="text-align:center">%e , %E</td>
<td style="text-align:center">double</td>
<td style="text-align:center">科学计数法表示的数，此处” e “的大小写代表在输出时用的” e “的大小写</td>
</tr>
<tr>
<td style="text-align:center">%c</td>
<td style="text-align:center">char</td>
<td style="text-align:center">字符型，可以把输入的数字按照ASCII码相应转换为对应的字符</td>
</tr>
<tr>
<td style="text-align:center">%s</td>
<td style="text-align:center">char</td>
<td style="text-align:center">字符型，输出字符串中的字符直至字符串中的空字符（字符串以‘ \0 ’结尾，这个‘ \0 ’ 即为空字符）</td>
</tr>
<tr>
<td style="text-align:center">%p</td>
<td style="text-align:center">void</td>
<td style="text-align:center">以16进制形式输出指针</td>
</tr>
<tr>
<td style="text-align:center">%%</td>
<td style="text-align:center">%</td>
<td style="text-align:center">输出一个百分号</td>
</tr>
</tbody>
</table></div>
<p><strong>printf 附加格式：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">l （字母l）</td>
<td>附加在 d , u , x ,o 前面，表示长整数</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td>左对齐（放在 % 后，可以加数字代表占多少位，如果没有 -  则默认右对齐）如 printf(“%-5d ”,a); 若printf(“%05d”,a);则在数据前补零直至补齐5位</td>
</tr>
<tr>
<td style="text-align:center">m（代表一个整数）</td>
<td>数据最小宽度</td>
</tr>
<tr>
<td style="text-align:center">0（数字0）</td>
<td>将输出的前面补上0直到沾满列宽位置，不可搭配-</td>
</tr>
<tr>
<td style="text-align:center">m.n（各代表一个整数）</td>
<td>m指域宽，即对应的输出项在输出设备上所占的字符数。n指精度，用于说明输出的实型数的小数位数。对数值型的来说，未指定n时，默认的精度为n = 6</td>
</tr>
</tbody>
</table></div>
<p><strong>putchar 格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//即 printf(&#34;%c\n&#34;,ch);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//输出字符 括号中可以是变量、字符、数字、转义字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">putchar</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">putchar</span>(<span style="color:#e6db74">&#39;B&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">putchar</span>(<span style="color:#ae81ff">97</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">putchar</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="293-scanf函数与getchar函数">2.9.3 scanf函数与getchar函数
</h3><ul>
<li>getchar 是从标准输入设备读取一个char</li>
<li>scanf 通过%转义的方式可以得到用户通过标准输入设备输入的数据</li>
<li>scanf只能控制输入长度，不能控制精度</li>
</ul>
<p><strong>scanf格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 输入整数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a, b;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;请输入两个整数</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//两个 %d 之间可以用 ， 或空格隔开
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%3d %3d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b); <span style="color:#75715e">//3代表第一个值只取三位数,但只能对整型约束，不能对浮点型约束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//scanf(&#34;%d,%d&#34;, &amp;a, &amp;b);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//\t 转义字符 水平制表（HT）（跳到下一个TAB位置）即多个空格
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">%d&#34;</span>, a, b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 输入字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>, <span style="color:#f92672">&amp;</span>ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>getchar 格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    ch <span style="color:#f92672">=</span> <span style="color:#a6e22e">getchar</span>();<span style="color:#75715e">// 接收键盘录入，获取字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">putchar</span>(ch);<span style="color:#75715e">// 输出一个字符，如果输入abc,最终也只会输出a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// getchar(); 此代码会等待输入，可用于停止程序 等同于system(&#34;pause&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">system</span>(<span style="color:#e6db74">&#34;pause&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="3-运算符与表达式">3. 运算符与表达式
</h1><h2 id="31-常用运算符分类">3.1 常用运算符分类
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">运算符类型</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">算术运算符</td>
<td style="text-align:center">用于处理四则运算</td>
</tr>
<tr>
<td style="text-align:center">赋值运算符</td>
<td style="text-align:center">用于将表达式的值赋给变量</td>
</tr>
<tr>
<td style="text-align:center">比较运算符</td>
<td style="text-align:center">用于表达式的比较，并返回一个真值或假值</td>
</tr>
<tr>
<td style="text-align:center">逻辑运算符</td>
<td style="text-align:center">用于根据表达式的值返回真值或假值</td>
</tr>
<tr>
<td style="text-align:center">位运算符</td>
<td style="text-align:center">用于处理数据的位运算</td>
</tr>
<tr>
<td style="text-align:center">sizeof 运算符</td>
<td style="text-align:center">用于求字节数长度</td>
</tr>
</tbody>
</table></div>
<h2 id="32-算术运算符">3.2 算术运算符
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">术语</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">正号</td>
<td style="text-align:center">+3</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">符号</td>
<td style="text-align:center">-3</td>
<td style="text-align:center">-3</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">加</td>
<td style="text-align:center">10 + 5</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">减</td>
<td style="text-align:center">10 - 5</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">乘</td>
<td style="text-align:center">10 * 5</td>
<td style="text-align:center">50</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">除</td>
<td style="text-align:center">10/5</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">取模（取余）(只能用于整型数据 即两个数都为整型)</td>
<td style="text-align:center">10%3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">++</td>
<td style="text-align:center">前自增（a先自增，再代入表达式运算）</td>
<td style="text-align:center">a = 2;b = ++a;</td>
<td style="text-align:center">a=3;b=3;</td>
</tr>
<tr>
<td style="text-align:center">++</td>
<td style="text-align:center">后自增（a先代入表达式运算，再自增）</td>
<td style="text-align:center">a = 2;b=a++;</td>
<td style="text-align:center">a=3;b=2;</td>
</tr>
<tr>
<td style="text-align:center">&ndash;</td>
<td style="text-align:center">前自减</td>
<td style="text-align:center">a = 2;b = –a;</td>
<td style="text-align:center">a=1;b=1;</td>
</tr>
<tr>
<td style="text-align:center">&ndash;</td>
<td style="text-align:center">后自减</td>
<td style="text-align:center">a = 2; b=a–;</td>
<td style="text-align:center">a=1;b=2;</td>
</tr>
</tbody>
</table></div>
<p>**PS:**尽量不要在同一个表达式中同时进行一个数据的自增自减，会产生二义性</p>
<h2 id="33-赋值运算符">3.3 赋值运算符
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">术语</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">赋值</td>
<td style="text-align:center">a = 2;b = 3</td>
<td style="text-align:center">a = 2;b = 3;</td>
</tr>
<tr>
<td style="text-align:center">+=</td>
<td style="text-align:center">加等于</td>
<td style="text-align:center">a= 0; a+=2;</td>
<td style="text-align:center">a=2;</td>
</tr>
<tr>
<td style="text-align:center">-=</td>
<td style="text-align:center">减等于</td>
<td style="text-align:center">a = 5; a-=3;</td>
<td style="text-align:center">a=2;</td>
</tr>
<tr>
<td style="text-align:center">*=</td>
<td style="text-align:center">乘等于</td>
<td style="text-align:center">a=2;a*=2;</td>
<td style="text-align:center">a=4;</td>
</tr>
<tr>
<td style="text-align:center">/=</td>
<td style="text-align:center">除等于</td>
<td style="text-align:center">a=4;a/=2;</td>
<td style="text-align:center">a=2;</td>
</tr>
<tr>
<td style="text-align:center">%=</td>
<td style="text-align:center">模等于</td>
<td style="text-align:center">a = 3;a%=2</td>
<td style="text-align:center">a=1;</td>
</tr>
</tbody>
</table></div>
<h2 id="34-比较运算符">3.4 比较运算符
</h2><p>C语言的比较运算符中，“ 真 ”用数字“ 1 ”来表示，“ 假 ”用数字“ 0 ”来表示</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">术语</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">==</td>
<td style="text-align:center">相当于</td>
<td style="text-align:center">4==3</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">！=</td>
<td style="text-align:center">不等于</td>
<td style="text-align:center">4！=3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">小于</td>
<td style="text-align:center">4&lt;3</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">大于</td>
<td style="text-align:center">4&gt;3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">大于等于</td>
<td style="text-align:center">4&lt;=3</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">小于等于</td>
<td style="text-align:center">4&gt;=3</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table></div>
<h2 id="35-逻辑运算符">3.5 逻辑运算符
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">术语</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">！</td>
<td style="text-align:center">非</td>
<td style="text-align:center">！a</td>
<td style="text-align:center">如果a 为假，则！a为真；<!-- raw HTML omitted -->如果a为真，则！a为假；</td>
</tr>
<tr>
<td style="text-align:center">&amp;&amp;</td>
<td style="text-align:center">与</td>
<td style="text-align:center">a &amp;&amp; b</td>
<td style="text-align:center">如果 a 和 b 都为真，则结果为真，否则为假</td>
</tr>
<tr>
<td style="text-align:center">||</td>
<td style="text-align:center">或</td>
<td style="text-align:center">a || b</td>
<td style="text-align:center">如果a 和 b 有一个为真，则结果为真，二者都为假时，结果为假</td>
</tr>
</tbody>
</table></div>
<p>**PS:**1.所有非0的值都是真值</p>
<p>​      2.单目运算符优先级高于双目运算符</p>
<h2 id="36-运算符优先级">3.6 运算符优先级
</h2><div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">优先级</th>
<th style="text-align:center">运算符</th>
<th style="text-align:center">名称或含义</th>
<th style="text-align:center">使用形式</th>
<th style="text-align:center">结合方向</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">[]</td>
<td style="text-align:center">数组下标</td>
<td style="text-align:center">数组名[常量表达式]</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">()</td>
<td style="text-align:center">圆括号</td>
<td style="text-align:center">(表达式)/函数名(形参表)</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">.</td>
<td style="text-align:center">成员选择（对象）</td>
<td style="text-align:center">对象.成员名</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">-&gt;</td>
<td style="text-align:center">成员选择（指针）</td>
<td style="text-align:center">对象指针-&gt;成员名</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">-</td>
<td style="text-align:center">符号运算符</td>
<td style="text-align:center">-表达式</td>
<td style="text-align:center">右到左</td>
<td style="text-align:center">单目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">~</td>
<td style="text-align:center">按位取反运算符</td>
<td style="text-align:center">~表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">++</td>
<td style="text-align:center">自增运算符</td>
<td style="text-align:center">++变量名/变量名++</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&ndash;</td>
<td style="text-align:center">自减运算符</td>
<td style="text-align:center">&ndash;变量名/变量名&ndash;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">*</td>
<td style="text-align:center">取值运算符</td>
<td style="text-align:center">*指针变量</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">取地址运算符</td>
<td style="text-align:center">&amp;变量名</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">！</td>
<td style="text-align:center">逻辑非运算符</td>
<td style="text-align:center">！表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(类型)</td>
<td style="text-align:center">强制类型转换</td>
<td style="text-align:center">（数据类型）表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">sizeof</td>
<td style="text-align:center">长度运算符</td>
<td style="text-align:center">sizeof(表达式)</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">/</td>
<td style="text-align:center">除</td>
<td style="text-align:center">表达式/表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">*</td>
<td style="text-align:center">乘</td>
<td style="text-align:center">表达式*表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">%</td>
<td style="text-align:center">余数（取模）</td>
<td style="text-align:center">整型表达式%整型表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">+</td>
<td style="text-align:center">加</td>
<td style="text-align:center">表达式+表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">-</td>
<td style="text-align:center">减</td>
<td style="text-align:center">表达式-表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">&laquo;</td>
<td style="text-align:center">左移</td>
<td style="text-align:center">变量&laquo;表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&raquo;</td>
<td style="text-align:center">右移</td>
<td style="text-align:center">变量&raquo;表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">大于</td>
<td style="text-align:center">表达式&gt;表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">大于等于</td>
<td style="text-align:center">表达式&gt;=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">小于</td>
<td style="text-align:center">表达式&lt;表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">小于等于</td>
<td style="text-align:center">表达式&lt;=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">==</td>
<td style="text-align:center">等于</td>
<td style="text-align:center">表达式==表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">！=</td>
<td style="text-align:center">不等于</td>
<td style="text-align:center">表达式！=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">按位与</td>
<td style="text-align:center">表达式&amp;表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">^</td>
<td style="text-align:center">按位异或</td>
<td style="text-align:center">表达式^表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">|</td>
<td style="text-align:center">按位或</td>
<td style="text-align:center">表达式|表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">&amp;&amp;</td>
<td style="text-align:center">逻辑与</td>
<td style="text-align:center">表达式&amp;&amp;表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">||</td>
<td style="text-align:center">逻辑或</td>
<td style="text-align:center">表达式||表达式</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">双目运算符</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">?:</td>
<td style="text-align:center">条件运算符</td>
<td style="text-align:center">表达式1?表达式2:表达式3;</td>
<td style="text-align:center">右到左</td>
<td style="text-align:center">三目运算符</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">=</td>
<td style="text-align:center">赋值运算符</td>
<td style="text-align:center">变量=表达式</td>
<td style="text-align:center">右到左</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">/=</td>
<td style="text-align:center">除后赋值</td>
<td style="text-align:center">变量/=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">*=</td>
<td style="text-align:center">乘后赋值</td>
<td style="text-align:center">变量*=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">%=</td>
<td style="text-align:center">取模后赋值</td>
<td style="text-align:center">变量%=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">+=</td>
<td style="text-align:center">加后赋值</td>
<td style="text-align:center">变量+=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">-=</td>
<td style="text-align:center">减后赋值</td>
<td style="text-align:center">变量-=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&laquo;=</td>
<td style="text-align:center">左移后赋值</td>
<td style="text-align:center">变量&laquo;=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&raquo;=</td>
<td style="text-align:center">右移后赋值</td>
<td style="text-align:center">变量&raquo;=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">&amp;=</td>
<td style="text-align:center">按位与后赋值</td>
<td style="text-align:center">变量&amp;=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">^=</td>
<td style="text-align:center">按位异或后赋值</td>
<td style="text-align:center">变量^=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">|=</td>
<td style="text-align:center">按位或后赋值</td>
<td style="text-align:center">变量|=表达式</td>
<td style="text-align:center"></td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">,</td>
<td style="text-align:center">逗号运算符</td>
<td style="text-align:center">表达式，表达式，……</td>
<td style="text-align:center">左到右</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table></div>
<p><strong>“ , ”运算逻辑：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> (a,b);<span style="color:#75715e">//取，后面的数据赋值给c,即b的值赋值给了c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span> (<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;<span style="color:#75715e">//结果输出c=20
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="37-类型转换">3.7 类型转换
</h2><p>数据右不同的类型，不同类型数据之间进行混合运算时必然涉及到类型的转换问题</p>
<p>转换的方式有两种：</p>
<ul>
<li>自动转换（隐式转换）：遵循一定的规则，由编译系统自动完成</li>
<li>强制类型转换：把表达式的运算结果强制转换成所需的数据类型</li>
</ul>
<p>类型转换的原则：</p>
<p><strong>占用内存字节数少（值域小）的类型</strong> 向 <strong>占用内存字节数多（值域大）的类型</strong> 转换，以保证精度不降低</p>
<p><img src="C:/Users/carp/OneDrive/%e6%a1%8c%e9%9d%a2/C%e8%af%ad%e8%a8%80/%e5%9b%be%e7%89%87/%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2.png"
	
	
	
	loading="lazy"
	
		alt="微信图片_20231006173047"
	
	
></p>
<h3 id="371-隐式转换">3.7.1 隐式转换
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,num<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,num<span style="color:#f92672">/</span><span style="color:#ae81ff">2.0</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="372-强制转换">3.7.2 强制转换
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> p <span style="color:#f92672">=</span><span style="color:#ae81ff">3.99</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> w <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sum1 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span>) p <span style="color:#f92672">*</span> w;<span style="color:#75715e">//对数据进行强制转换，sum = 6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> sum2 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span>)(p<span style="color:#f92672">*</span>w);<span style="color:#75715e">//对p*w的结果进行强制转换,sum = 7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//强制类型转换运算符，不会进行四舍五入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="4程序流程结构">4、程序流程结构
</h1><h3 id="41-概述">4.1 概述
</h3><p>C语言支持最基本的三种程序运行结构：顺序结构、选择结构、循环结构</p>
<ul>
<li>顺序结构：程序按顺序执行，不发生跳转</li>
<li>选择结构：依据是否满足条件，有选择的执行相应功能</li>
<li>循环结构：依据条件是否满足，循环多次执行某段代码</li>
</ul>
<h3 id="42-选择结构">4.2 选择结构
</h3><h4 id="421-if-if-else语句">4.2.1 if 、if else语句
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>score);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (score <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">700</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;清华大学</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (score <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">720</span>)<span style="color:#75715e">//条件嵌套
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;计算机</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (score <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">710</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;其他专业</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;服从调剂</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (score <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">680</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;北大</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;其他大学</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="422-三目运算符">4.2.2 三目运算符
</h4><p><strong>格式一：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;最大值为%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, a <span style="color:#f92672">&gt;</span> b <span style="color:#f92672">?</span> a : b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>格式二：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX(a, b) (a) &gt; (b) ? (a) : (b)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//宏定义一个函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">MAX</span>(a, b));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="425-switch-语句">4.2.5 switch 语句
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    c <span style="color:#f92672">=</span> <span style="color:#a6e22e">getchar</span>(); <span style="color:#75715e">// 参数只能是整型变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> (c)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;1&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;ok</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>; <span style="color:#75715e">// switch遇到break就中断了
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;2&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;no</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#75715e">// 如果上面条件都不符合，那么执行default
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;yes</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>score);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(score<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;优秀</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;优秀</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;不及格</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="43循环结构">4.3循环结构
</h2><h3 id="431-while-语句">4.3.1 while 语句
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>( i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">100</span> )<span style="color:#75715e">//先判断条件再执行语句
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) <span style="color:#960050;background-color:#1e0010">为死循环</span>
</span></span></code></pre></div><h3 id="432-dowhile-语句">4.3.2 do…while 语句
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>        i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }<span style="color:#66d9ef">while</span>(i);<span style="color:#75715e">//先执行语句再判断条件 因为i++后等于0 为假 所以循环结束 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#75715e">//while后面要加上分号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#75715e">//即 先输出-1 再结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>        i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="433-for循环">4.3.3 for循环
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">100</span>;i<span style="color:#f92672">++</span>)<span style="color:#75715e">//赋值i=0 当i&lt;=100时 执行下列语句 然后i++
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        sum<span style="color:#f92672">+=</span>i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">格式二：</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">10</span>,j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>,j<span style="color:#f92672">+=</span><span style="color:#ae81ff">5</span>);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">格式三：</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//在循环语句中遇到break表示结束循环
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#960050;background-color:#1e0010">（</span>;;<span style="color:#960050;background-color:#1e0010">）</span> <span style="color:#960050;background-color:#1e0010">是死循环</span>
</span></span></code></pre></div><h4 id="求随机数"><strong>求随机数</strong>
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//1.导入头文件 time.h stdlib.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//2.添加随机数种子
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//3.获取随机数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>((<span style="color:#66d9ef">size_t</span>)<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//添加随机数种子
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">51</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="444-嵌套循环">4.4.4 嵌套循环
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#inlcude &lt;stdio.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j,k;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span><span style="color:#f92672">&lt;</span>j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;hello world</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,num);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//时钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;Windows.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main03</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">int</span> i,j,k;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">int</span> a,b,c;
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d:%d:%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b,<span style="color:#f92672">&amp;</span>c);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span>a;a<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;=</span>b;b<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>       {
</span></span><span style="display:flex;"><span>           <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;=</span>c;c<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>           {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>               <span style="color:#a6e22e">system</span>(<span style="color:#e6db74">&#34;cls&#34;</span>);
</span></span><span style="display:flex;"><span>               <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%02d:%02d:%02d&#34;</span>,a,b,c);
</span></span><span style="display:flex;"><span>               <span style="color:#a6e22e">Sleep</span>(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>               <span style="color:#66d9ef">if</span>(c<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>               {
</span></span><span style="display:flex;"><span>                   <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> l<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;l<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;l<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                   {
</span></span><span style="display:flex;"><span>                       <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\a\a\a</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                   }
</span></span><span style="display:flex;"><span>               }
</span></span><span style="display:flex;"><span>           }
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//九九乘法表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">9</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;=</span>i;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d*%d=%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,i , j , i<span style="color:#f92672">*</span>j );
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="44-跳转语句breakcontinuegoto">4.4 跳转语句break、continue、goto
</h2><h3 id="441-break-语句">4.4.1 break 语句
</h3><p>只有在switch条件和循环语句中可以使用break语句：</p>
<ul>
<li>当他出现在switch条件语句中时，作用是终止某个case并跳出switch结构</li>
<li>当它出现在循环语句中，作用是跳出当前内循环语句，执行后面的代码</li>
<li>当它出现在嵌套循环语句中，跳出最近的内循环语句，执行后面的代码</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;i=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;<span style="color:#75715e">//跳出while循环
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="442-continue-语句">4.4.2 continue 语句
</h3><p>在循环语句中，如果希望立即终止本次循环，并执行下一次循环，此时就需要使用continue语句</p>
<ul>
<li>continue语句只对包含它的最内层那个的循环体语句起作用</li>
<li>仅用于循环语句</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  <span style="color:#75715e">//定义变量sum
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">100</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e">//如果是一个偶数，执行if语句中的代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;  <span style="color:#75715e">//结束本次循环
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        sum<span style="color:#f92672">+=</span>i; <span style="color:#75715e">//实现sum和i的累加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="443-goto语句无条件转换">4.4.3 goto语句（无条件转换）
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld1&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld2&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> FLAG;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld3&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld4&#34;</span>);
</span></span><span style="display:flex;"><span>    FLAG:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld5&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld1&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld2&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">goto</span> FLAG;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld3&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld4&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld5&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    FLAG:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;helloworld6&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="444-tag-标志变量">4.4.4 tag 标志变量
</h3><p>通过设置一标志变量tag，然后再每层循环后加上一条语句“if (tag) break;”</p>
<p>其值为1表示跳出循环体，为零则不跳出</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> tag <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(tag) <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>for循环后的第一条语句
</span></span></code></pre></div><h3 id="445-exit-函数">4.4.5 exit() 函数
</h3><ul>
<li>
<p><strong>功能：</strong></p>
<p>终止整个程序的执行，强制返回操作系统</p>
</li>
<li>
<p><strong>调用形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">exit</span>(<span style="color:#66d9ef">int</span> status);
</span></span></code></pre></div></li>
<li>
<p><strong>说明：</strong></p>
<p>参数status为int型，status的值传给调用进程（一般为操作系统）。按照惯例，当status的值为0或为宏常量==EXIT_SUCCESS==时，表示程序正常退出；当status的值为非0或为宏常量==EXIT_FAILURE==时，表示程序出现某种错误后退出</p>
</li>
</ul>
<h1 id="5-数组">5 数组
</h1><h2 id="51-一维数组">5.1 一维数组
</h2><h3 id="511-一维数组的定义">5.1.1 一维数组的定义
</h3><ul>
<li>
<p>**数组：**一组具有相同数据类型的数据的有序集合</p>
</li>
<li>
<p>**数组名：**这个集合的名称</p>
</li>
<li>
<p>**下标：**某个数据在数组中的序号</p>
<p>PS:数组名和下标唯一数组中的一个元素</p>
</li>
<li>
<p><strong>定义方式：</strong></p>
<p>数据类型 数据变量名 [ 整型常量表达式(表示元素个数)]；</p>
</li>
<li>
<p><strong>注意事项：</strong></p>
<ol>
<li>
<p>数组定义时，必须指定数组的大小（或长度），数组大小必须是整型常量表达式，不能是变量或变量表达式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>]; <span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">4</span><span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>]; <span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[n];  <span style="color:#75715e">//错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> b[<span style="color:#ae81ff">10.3</span>];  <span style="color:#75715e">//错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> c[n<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>];  <span style="color:#75715e">//错误
</span></span></span></code></pre></div></li>
<li>
<p>数组定义时，系统将给其分配一定大小的内存单元，其所占内存单元的大小与数组元素的类型和数组的长度有关</p>
<p>数组所占内存单元的字节数 = 数组大小 ✖ sizeof（数组元素类型）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#ae81ff">20</span><span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">short</span>)<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>(<span style="color:#960050;background-color:#1e0010">字节</span>)
</span></span></code></pre></div></li>
<li>
<p>数组中每一个数组元素的类型相同，他们占用内存中连续的存储单元，其中第一个数组元素的地址时整个数组所占内存块的==低地址==，也是数组所占内存块的==首地址==，最后一个数组元素的地址是整个数组所占内存块的==高地址==</p>
</li>
</ol>
</li>
</ul>
<h3 id="512-一维数组的引用">5.1.2 一维数组的引用
</h3><ul>
<li>
<p>引用格式：</p>
<p>数组变量名 [下标]</p>
<p><strong>PS:</strong></p>
<ol>
<li>
<p>下标可以是整型常量、整型变量或整形表达式。下标的最小值是0，最大值则是数组大小减1</p>
</li>
<li>
<p>只能逐个引用数组元素，不能一次引用整个数组</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例子
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a); <span style="color:#75715e">//错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span> ; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,a[j]); <span style="color:#75715e">//正确
</span></span></span></code></pre></div></li>
<li>
<p>数组中的每一个元素相当于一个变量，数组元素也称为下表变量。对变量的一切操作适合于数组元素</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=</span>a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>a[<span style="color:#ae81ff">1</span>];
</span></span></code></pre></div></li>
<li>
<p>数组引用要注意越界问题</p>
<p>存储单元有效地址=数组的起始地址 + 下标 × sizeof (数组元素类型)</p>
<p>即不能引用超出数组范围的数，否则会出错</p>
<p>输出数组的地址的方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,a); <span style="color:#75715e">//上述两者等效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[<span style="color:#ae81ff">5</span>]);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[<span style="color:#ae81ff">8</span>]);
</span></span></code></pre></div></li>
<li>
<p>数组必须<strong>先定义，后使用</strong></p>
</li>
</ol>
</li>
</ul>
<h3 id="513-一维数组的赋值">5.1.3 一维数组的赋值
</h3><h4 id="1一维数组的初始化赋值">1.一维数组的初始化赋值
</h4><ul>
<li>
<p><strong>格式：</strong></p>
<p>数据类型符 数组变量名[常量表达式]={表达式1,表达式2,……，表达式n};</p>
</li>
<li>
<p><strong>注意事项：</strong></p>
<ol>
<li>
<p>如果表达式个数小于数组的大小，则未指定值的数组元素被赋值为0</p>
</li>
<li>
<p>当对全部数组元素赋初值时，可以省略数组变量的大小，此时数组变量的实际大小就是初值列表中表达式的个数</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span>};<span style="color:#75715e">//这种形式也行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//数组str的实际大小为5
</span></span></span></code></pre></div><ol start="3">
<li>数组都不赋值，则全为随机数</li>
<li>C语言除了在定义数组变量时用初值列表对数组整体赋值以外，无法再对数组变量进行整体赋值</li>
</ol>
</li>
<li>
<p><strong>赋值方式：</strong></p>
<ol>
<li>
<p>逐一赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;a[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;a[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;a[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>;
</span></span></code></pre></div></li>
<li>
<p>使用循环语句来逐一赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>],i;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    a[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//将数组a的个元素复制成奇数序列
</span></span></span></code></pre></div></li>
<li>
<p>键盘输入赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>],i;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[i]);
</span></span></code></pre></div></li>
<li>
<p>使用<strong>memset</strong>函数赋值</p>
<p>memset函数主要适合于字节型数组的整体赋值，当然对非字节型数组进行清零也是可行的。</p>
<p>例如，下面的程序是将数组str的每个数据单元赋值为‘a’</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">memset</span>(str,<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">10</span>);
</span></span></code></pre></div><p>再例如，下面的程序是将数组a的每个数组单元赋值为0</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">memset</span>(a,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10</span><span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span></code></pre></div></li>
<li>
<p>使用<strong>memcpy</strong>函数实现数组间的赋值</p>
<p>其功能就是将s为首地址的一片连续的n个字节内存单元的值复制到以d为首地址的一篇连续的内存单元中。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>},b[<span style="color:#ae81ff">5</span>]; 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">memcpy</span>(b,a,<span style="color:#ae81ff">5</span><span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>))
</span></span></code></pre></div></li>
</ol>
</li>
</ul>
<h4 id="2应用实例">2.应用实例
</h4><p>**例一：**输入一行字符，统计其中各个大写字母出现的次数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num[<span style="color:#ae81ff">26</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>},i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((ch<span style="color:#f92672">=</span><span style="color:#a6e22e">getchar</span>())<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ch<span style="color:#f92672">&gt;=</span><span style="color:#e6db74">&#39;A&#39;</span> <span style="color:#f92672">&amp;&amp;</span> ch<span style="color:#f92672">&lt;=</span><span style="color:#e6db74">&#39;Z&#39;</span>)
</span></span><span style="display:flex;"><span>            num[ch<span style="color:#f92672">-</span><span style="color:#e6db74">&#39;A&#39;</span>]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">26</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">%</span><span style="color:#ae81ff">9</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c(%d)</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,<span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">+</span>i,num[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>![屏幕截图 2023-11-13 111515](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-11-13 111515.png)</p>
<p>**例二：**用冒泡排序法将10个整数按照从小到大的顺序排序</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define NUM 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[NUM], i, j, t, flag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>NUM;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>NUM;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>NUM<span style="color:#f92672">-</span>i;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            flag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(a[j]<span style="color:#f92672">&gt;</span>a[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                t<span style="color:#f92672">=</span>a[j];
</span></span><span style="display:flex;"><span>                a[j]<span style="color:#f92672">=</span>a[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                a[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>t;
</span></span><span style="display:flex;"><span>                flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(flag<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>NUM;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,a[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**例三：**用选择排序给7个整数从小到大排序</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">7</span>],i,j,t,k;
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">6</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>         k<span style="color:#f92672">=</span>i;
</span></span><span style="display:flex;"><span>         <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">6</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>         {
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">if</span>(a[j]<span style="color:#f92672">&lt;</span>a[k])
</span></span><span style="display:flex;"><span>             {
</span></span><span style="display:flex;"><span>                 k<span style="color:#f92672">=</span>j;
</span></span><span style="display:flex;"><span>             }
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span>         <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">!=</span>k){
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>a[k];
</span></span><span style="display:flex;"><span>            a[k]<span style="color:#f92672">=</span>a[i];
</span></span><span style="display:flex;"><span>            a[i]<span style="color:#f92672">=</span>t;
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,a[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**例四：**斐波那契数列前20个数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">20</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>},i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">20</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        a[i]<span style="color:#f92672">=</span>a[i<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>]<span style="color:#f92672">+</span>a[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">20</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,a[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="52-二维数组">5.2 二维数组
</h2><h3 id="521-二维数组的定义引用和赋值">5.2.1 二维数组的定义、引用和赋值
</h3><h4 id="1二维数组的定义">1.二维数组的定义
</h4><ul>
<li>
<p><strong>定义方式：</strong></p>
<p>数据类型 数组名[常量表达式1] [常量表表达式2]；</p>
<p>例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> b[<span style="color:#ae81ff">3</span>];  <span style="color:#75715e">//一维数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">4</span>];  <span style="color:#75715e">//二维数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> d[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">4</span>];  <span style="color:#75715e">//三维数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> e[<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]; <span style="color:#75715e">//错误的写法
</span></span></span></code></pre></div></li>
</ul>
<h4 id="2二维数组元素的引用">2.二维数组元素的引用
</h4><ul>
<li>
<p><strong>形式：</strong></p>
<p>数组名[下标1] [下标2]</p>
<p>例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>b[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=</span>a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">2</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d,%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a[i][<span style="color:#ae81ff">0</span>],a[<span style="color:#ae81ff">0</span>][i]);
</span></span></code></pre></div></li>
</ul>
<h4 id="3二维数组元素的初始化">3.二维数组元素的初始化
</h4><h5 id="1分行初始化">1.分行初始化：
</h5><p>数据类型 数组变量名[行常量表达式] [列常量表达式]</p>
<p>{</p>
<p>​     {第0行出指标}，{第1行初值表}，……，{最后1行初值表}</p>
<p>}；</p>
<ul>
<li>
<p>例子</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>},{<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>}};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=2 , a[0][2]=3 , a[1][0]=4 , a[1][0]=4 , a[1][1]=5 , a[1][2]=6
</span></span></span></code></pre></div><p><strong>部分赋值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>},{<span style="color:#ae81ff">3</span>}};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=0 . a[0][2]=0 , a[1][0]=3 , a[1][1]=0 , a[1][2]=0
</span></span></span></code></pre></div><p><strong>部分赋值时可省略第一维的长度，不能省略第二维的，且初赋值不能空</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>},{<span style="color:#ae81ff">4</span>}};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=2 , a[0][2]=0 . a[1][0]=4 , a[1][1]=0 , a[1][2]=0
</span></span></span></code></pre></div><p><strong>错误实例</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> [a][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{},{<span style="color:#ae81ff">4</span>}};
</span></span></code></pre></div></li>
</ul>
<h5 id="2-顺序初始化的举例">2. 顺序初始化的举例
</h5><ul>
<li>
<p><strong>例子</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>}};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=2 , a[0][2]=3 , a[1][0]=4 , a[1][0]=4 , a[1][1]=5 , a[1][2]=6
</span></span></span></code></pre></div><p><strong>同样也支持部分赋值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=2 , a[0][2]=3 , a[1][0]=0 , a[1][0]=0 , a[1][1]=0 , a[1][2]=0
</span></span></span></code></pre></div><p><strong>同样可省略数组的一维大小</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a[0][0]=1 , a[0][1]=2 , a[0][2]=3 , a[1][0]=4 , a[1][0]=0 , a[1][1]=0 , a[1][2]=0
</span></span></span></code></pre></div></li>
</ul>
<h4 id="4二维数组在程序中赋值">4.二维数组在程序中赋值
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> i,j,a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a[i][j]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="522-二维数组的应用举例">5.2.2 二维数组的应用举例
</h3><ul>
<li>**例一：**将一个二维数组行和列的元素互换，存到另一个二维数组中</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>},{<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>}};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">2</span>],i,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">2</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,a[i][j]);
</span></span><span style="display:flex;"><span>            b[j][i]<span style="color:#f92672">=</span>a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>,b[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>**例二：**输入多个学生多门课程的成绩，分别求每个学生的平均成绩和每门课程的平均成绩</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define NUM_std 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define NUM_course 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> a[NUM_std<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][NUM_course<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>NUM_std;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>NUM_course;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%f&#34;</span>,<span style="color:#f92672">&amp;</span>a[i][j]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>NUM_std;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>NUM_course;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            a[i][NUM_course]<span style="color:#f92672">+=</span>a[i][j];
</span></span><span style="display:flex;"><span>            a[NUM_std][j]<span style="color:#f92672">+=</span>a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        a[i][NUM_course]<span style="color:#f92672">/=</span>NUM_course;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>NUM_course;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a[NUM_std][j]<span style="color:#f92672">/=</span>NUM_std;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>NUM_std<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>NUM_course<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%5.1f &#34;</span>,a[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="53字符串与数组">5.3字符串与数组
</h2><h3 id="531-字符串的本质">5.3.1 字符串的本质
</h3><ul>
<li>
<p>字符串是以字符数组的形式储存在计算机中的，不同的是字符串要求最后要以\0结尾</p>
</li>
<li>
<p>给字符串赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;china&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//char str[]={&#39;c&#39;,&#39;h&#39;,&#39;i&#39;,&#39;n&#39;,&#39;a&#39;,&#39;\0&#39;}; 等价
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//char str[]={&#34;china&#34;}; 等价 花括号可有可无
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//char str[]={&#39;c&#39;,&#39;h&#39;,&#39;i&#39;,&#39;n&#39;,&#39;a&#39;}; 不等价 没有以\0结尾
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">10</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;china&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//char str[10]={&#39;c&#39;,&#39;h&#39;,&#39;i&#39;,&#39;n&#39;,&#39;a&#39;}; 等价，因为未赋值的地址会自动赋值为\0
</span></span></span></code></pre></div></li>
</ul>
<h3 id="532-字符及字符串操作的常用函数">5.3.2 字符及字符串操作的常用函数
</h3><h4 id="1字符串的输入"><strong>1.字符串的输入</strong>
</h4><ul>
<li>
<p><strong>gets函数</strong></p>
<p>**格式：**gets(字符数组变量名)</p>
<p>**功能：**将键盘输入一个以回车结束的字符串放入字符数组中，并自动加‘\0’</p>
<p>**说明：**输入串长度应小于字符数组维度</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">80</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gets</span> (str);
</span></span></code></pre></div><ul>
<li>
<p><strong>scanf函数</strong></p>
<p>键盘输入空格或回车就结束字符串的放入</p>
<p>所以要输入多个字符串并以空格隔开，需</p>
<p>scanf(“%s%s%s”,str1,str2,str3);</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%9s&#34;</span>,str);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//数组名相当于地址名，所以不用加取地址符&amp;
</span></span></span></code></pre></div><h4 id="2字符串的输出">2.字符串的输出
</h4><ul>
<li>
<p><strong>puts函数</strong></p>
<p>**格式：**puts(字符串地址)</p>
<p>**功能：**向显示器输出字符串（输出完，换行）</p>
<p>**说明：**如果是字符数组，则必须以‘\0’结束</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;i love china!&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">puts</span>(str);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">puts</span>(<span style="color:#e6db74">&#34;i love wuhan!&#34;</span>);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> name[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;John Smith&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The name is:%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,name);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Last name is:%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>name[<span style="color:#ae81ff">5</span>]);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;First name is:%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,John);
</span></span></code></pre></div></li>
</ul>
<h4 id="3求字符串长度">3.求字符串长度
</h4><ul>
<li>
<p><strong>strlen函数</strong></p>
<p><strong>使用时应引入头文件string.h</strong></p>
<p>**格式: ** strlen(字符串地址)</p>
<p>**功能：**计算字符串长度</p>
<p>**返值：**返回字符串实际长度，不包括‘\0’在内</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0123456789&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">strlen</span>(str));
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果为10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">strlen</span>(<span style="color:#f92672">&amp;</span>str[<span style="color:#ae81ff">5</span>]));
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果为5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//注意：转义字符当作一个字符
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0123</span><span style="color:#ae81ff">\045</span><span style="color:#e6db74">6789&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">strlen</span>(str));  <span style="color:#75715e">//输出结果为9
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">strlen</span>(<span style="color:#f92672">&amp;</span>str[<span style="color:#ae81ff">5</span>]));  <span style="color:#75715e">//输出结果为4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//因为忽略了“\0” 这个转义字符
</span></span></span></code></pre></div></li>
</ul>
<h4 id="4字符串的复制">4.字符串的复制
</h4><ul>
<li>
<p><strong>strcpy函数</strong></p>
<p><strong>使用时应引入头文件string.h</strong></p>
<p>**格式：**strcpy(字符数组1，字符串2)</p>
<p>**功能：**将字符串2拷贝到字符数组1中,字符串拷贝时，遇到\0就停止拷贝</p>
<p>**返值：**返回字符数组1的首地址</p>
<p>**说明：**1. 字符数组1必须足够大</p>
<p>​           2.拷贝时‘\0’要一同拷贝</p>
<p>​           3.不能使用赋值语句为一个字符数组赋值</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str1[<span style="color:#ae81ff">20</span>],str2[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,str2);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">strcpy</span>(str1,str2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//错误写法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str2<span style="color:#f92672">=</span>str1;
</span></span></code></pre></div><h4 id="5字符串的比较">5.字符串的比较
</h4><ul>
<li>
<p><strong>strcmp函数</strong></p>
<p><strong>使用时应引入头文件string.h</strong></p>
<p>**格式：**strcmp(字符串1，字符串2)</p>
<p>**功能：**比较两个字符串</p>
<p>**比较规则：**对两串从左向右逐个字符比较（ASCII码），知道遇到两个不同字符或‘\0’为止</p>
<p>**返值：**返回int型整数</p>
<p>若字符串1&lt;字符串2，返回负整数</p>
<p>若字符串1&gt;字符串2，返回正整数</p>
<p>若字符串1==字符串2，返回零</p>
<p>**说明：**字符串比较不能用“==”，必须用strcmp</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">strcmp</span>(<span style="color:#e6db74">&#34;abcd&#34;</span>,<span style="color:#e6db74">&#34;abCD&#34;</span>); <span style="color:#75715e">//将返回一正整数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">stcmp</span>(<span style="color:#e6db74">&#34;1234&#34;</span>,<span style="color:#e6db74">&#34;12345&#34;</span>);  <span style="color:#75715e">//将返回一负整数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">strcmp</span>(<span style="color:#e6db74">&#34;hello&#34;</span>,<span style="color:#e6db74">&#34;hello&#34;</span>);  <span style="color:#75715e">//将返回0
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例 下面的程序要求用户输入密码，如果输入正确，则进行相应的程序运行，否则返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> password[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;input the password:&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%11s&#34;</span>,password);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(password,<span style="color:#e6db74">&#34;administrator&#34;</span>)<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>{<span style="color:#960050;background-color:#1e0010">……</span>}
</span></span></code></pre></div></li>
<li>
<p><strong>strncmp函数</strong></p>
<p><strong>使用时引入头文件&lt;string.h&gt;</strong></p>
<p><strong>格式：</strong><code>strncmp(const char* s1,const char* s2,size_t n);</code></p>
<p>**功能：**比较s1和s2前n个字符的大小</p>
<p><strong>返回值：</strong></p>
<p>​				相等：0</p>
<p>​				s1&lt;s2：负数</p>
<p>​				s1&gt;s2：正数</p>
</li>
</ul>
<h4 id="6字符串的链接">6.字符串的链接
</h4><ul>
<li>
<p><strong>strcat函数</strong></p>
<p><strong>使用时应引入头文件string.h</strong></p>
<p>**格式：**strcat(字符数组1，字符数组2)</p>
<p>**功能：**把字符数组2连到字符数组1后面</p>
<p>**返值：**返回字符数组1的首地址</p>
<p><strong>说明：</strong></p>
<ol>
<li>
<p>字符数组1必须足够大</p>
</li>
<li>
<p>连接前，两串均以‘\0’结束，连接后，串1的‘\0’取消，新串最后加‘\0’</p>
</li>
</ol>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> str1[<span style="color:#ae81ff">20</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12345&#34;</span>,str2[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;6789&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">strcat</span>(str1,str2);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,str1);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出：123456789
</span></span></span></code></pre></div><ul>
<li>
<p><strong>strncat函数</strong></p>
<p><strong>使用时要引入头文件<code>string.h</code></strong></p>
<p><strong>格式：</strong><code>strcat(char *dest,const char *src,size_t n);</code></p>
<p>**功能：**将<code>src</code>字符串前n个字符连接到<code>dest</code>的尾部，并在连接后的尾部追加‘\0’</p>
<p><strong>参数：</strong><code>dest</code> 目的字符串首地址</p>
<p>​			<code>src </code>源字符首地址</p>
<p>​			<code>n</code> 指定需要追加字符串个数</p>
<p>**返回值：**成功返回<code>dest</code>字符串的首地址</p>
<p>​				失败返回NULL</p>
</li>
</ul>
<h4 id="7-字符串的格式化">7. 字符串的格式化
</h4><ul>
<li>
<p><strong>sprintf函数（读入）</strong></p>
<p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int sprintf(char* str,const char* format,…);</code></p>
<p>**功能：**根据参数format字符串来转换并格式化数据，然后将结果输出到str指定的空间中，知道出现字符串结束符‘\0’为止</p>
<p><strong>参数：</strong></p>
<p>​	str: 字符串首地址</p>
<p>​	format: 字符串格式，用法和printf()一样</p>
<p><strong>返回值：</strong></p>
<p>​	成功：实际格式化的字符个数</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> dst[<span style="color:#ae81ff">100</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> src[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello world&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> <span style="color:#a6e22e">sprintf</span>(dst , <span style="color:#e6db74">&#34;a = %d ,src = %s&#34;</span>, a , src);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,dst);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,len);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//a = 10 ,src = hello world
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//25
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sprintf</span>(ch,<span style="color:#e6db74">&#34;hello world&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//将&#34;hello world&#34;复制到ch中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//结果输出 hello world
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sprintf</span>(ch,<span style="color:#e6db74">&#34;%d+%d=%d&#34;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//结果输出 1+2=3
</span></span></span></code></pre></div></li>
<li>
<p><strong>sscanf函数（读出）</strong></p>
<p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int sscanf(const char* str,const char* format,…);</code></p>
<p>**功能：**从<code>str</code>指定的字符串读取数据，并根据参数<code>format</code>字符串来转换并格式化数据</p>
<p><strong>参数：</strong></p>
<p>​	<code>str</code>: 指定的字符串首地址</p>
<p>​	<code>format</code>：字符串格式，用法和<code>scanf</code>一样</p>
<p><strong>返回值：</strong></p>
<p>​	成功：参数数目，成功转换的值的个数</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1+2=3&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a, b, c;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sscanf</span>(ch, <span style="color:#e6db74">&#34;%d+%d=%d&#34;</span>,<span style="color:#f92672">&amp;</span>a , <span style="color:#f92672">&amp;</span>b , <span style="color:#f92672">&amp;</span>c );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//3
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello world&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sscanf</span>(ch, <span style="color:#e6db74">&#34;%[^</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">]&#34;</span>,str);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,str);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//hello world
</span></span></span></code></pre></div></li>
</ul>
<h4 id="8-字符串查找">8. 字符串查找
</h4><ul>
<li>
<p><strong><code>strchr</code>函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;string.h&gt;</code></strong></p>
<p>**功能：**在字符串s中查找字母c出现的位置</p>
<p><strong>参数：</strong></p>
<p>​	s：字符串的首地址</p>
<p>​	c：匹配字母</p>
<p><strong>返回值：</strong></p>
<p>​	成功：返回第一次出现的c地址</p>
<p>​	失败：返回NULL</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> src[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ddda123abcd&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strchr</span>(src , <span style="color:#e6db74">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;p = %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//p = a123abcd
</span></span></span></code></pre></div></li>
<li>
<p><strong><code>strstr</code>函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;string.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>char* strstr(const char* haystack,const char* needle);</code></p>
<p>**功能：**在字符串haystack中查找字符串needle出现的位置</p>
<p><strong>参数：</strong></p>
<p>​	haystack： 源字符串首地址</p>
<p>​	needle： 匹配字符串首地址</p>
<p><strong>返回值：</strong></p>
<p>​	成功：返回第一次出现的needle地址</p>
<p>​	失败：返回NULL</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> src[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ddda123abcd&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strstr</span>(src , <span style="color:#e6db74">&#34;abcd&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;p = %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//p = abcd
</span></span></span></code></pre></div></li>
</ul>
<h4 id="9-字符串分割">9. 字符串分割
</h4><ul>
<li>
<p><strong><code>strtok</code>函数</strong></p>
<p><strong>使用时引用头文件<code>&lt;string.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>char* strtok(char* str,const char* delim);</code></p>
<p>**功能：**将字符串分割成一个个片段，当<code>strtok()</code>在参数s的字符串中发现参数delim中包含的分割字符时，则会将该字符改为\0字符，当连续出现多个是只替换第一个为\0</p>
<p><strong>参数：</strong></p>
<p>​	str： 指向与分割的字符串</p>
<p>​	delim： 为分割字符串中包含的所有字符</p>
<p><strong>返回值：</strong></p>
<p>​	成功： 返回分割后字符串首地址</p>
<p>​	失败：返回NULL</p>
<p><strong>注意：</strong></p>
<ul>
<li>在第一次调用时，<code>strtok()</code>必须给予参数s字符串</li>
<li>往后的调用则将参数s设置成NULL，每次调用成功则返回指向被分割出片段的指针</li>
</ul>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//字符串获取strtok会破坏源字符串，用\0替换分割的标志位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;www.itcast.cn&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strtok</span>(ch,<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ch 变成 &#34;www\0itcast.cn&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//www
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//www
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//000000000061FE0A
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//000000000061FE0A
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;www.itcast.cn&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第一次截取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strtok</span>(ch,<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第二次截取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//因为在第一次截取中字符串ch并未全部读取完，所以缓冲区内还有剩下未截取的字符串，所以进行第二次截取时strtok输入的字符串为NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strtok</span>(NULL,<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第三次截取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p <span style="color:#f92672">=</span> <span style="color:#a6e22e">strtok</span>(NULL,<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//如果未找到标志位，就原封不动的输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//www
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//itcast
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//cn
</span></span></span></code></pre></div></li>
</ul>
<h4 id="10-字符串类型转换">10. 字符串类型转换
</h4><ul>
<li>
<p><strong><code>aoti</code>函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;stdlib.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int atoi(const char* nptr);</code></p>
<p><strong>功能：</strong><code>atoi()</code>会扫描<code>nptr</code>字符串，跳过前面的空格字符，直到遇到数字或正负号才开始做转换，而遇到非数字或字符串结束符 <code>\0 </code>才结束转换，并将结果返回</p>
<p><strong>参数：</strong></p>
<p>​	<code>nptr</code>：待转换的字符串</p>
<p>**返回值：**成功转换后的整数</p>
<p><strong>类似的函数有：</strong></p>
<p>​	<strong><code>atof( )</code></strong> ：将一个小数形式的字符串转化为一个浮点数</p>
<p>​	<strong><code>atol( )</code></strong> ：将一个字符串转化为 long 类型</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;   -123456abc123&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//-123456
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; abc  -123456abc123&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//0
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;  -123.456abc123&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> i<span style="color:#f92672">=</span><span style="color:#a6e22e">atof</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//-123.456000
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;  -123.456abc123&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> i<span style="color:#f92672">=</span><span style="color:#a6e22e">atol</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%ld</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//-123
</span></span></span></code></pre></div></li>
</ul>
<h3 id="533-字符串的运用举例">5.3.3 字符串的运用举例
</h3><p>例1：输入一行字符，统计其中单词的个数，单词之间用空格链接</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> string[<span style="color:#ae81ff">80</span>],c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,i;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">gets</span>(string);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; (c<span style="color:#f92672">=</span>string[i])<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;\0&#39;</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(c<span style="color:#f92672">==</span><span style="color:#e6db74">&#39; &#39;</span>)
</span></span><span style="display:flex;"><span>            tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tag)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                num<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,num);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="534-字符串数组">5.3.4 字符串数组
</h3><ul>
<li>
<p>**定义：**构成数组的数据是字符串，是二维的字符型数组</p>
</li>
<li>
<p><strong>字符串数组的初始化：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#960050;background-color:#1e0010">字符串数组名</span>[<span style="color:#960050;background-color:#1e0010">行数</span>m][<span style="color:#960050;background-color:#1e0010">列数</span>n]<span style="color:#f92672">=</span>{<span style="color:#960050;background-color:#1e0010">字符串</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，字符串</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">，……，字符串</span>m}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//每一个字符串的长度要小于n，最长为n-1 因为要存储结束符
</span></span></span></code></pre></div><p>![屏幕截图 2023-11-18 091522](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-11-18 091522.png)</p>
</li>
</ul>
<h3 id="535-字符串数组的应用举例">5.3.5 字符串数组的应用举例
</h3><ul>
<li>**例1：**用“ * ”号输出“ C语言 ”</li>
</ul>
<p>![屏幕截图 2023-11-18 092515](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-11-18 092515.png)</p>
<ul>
<li>
<p>**例2：**输入多个城市的名字，按升序排列输出</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define CITYNUM 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,i;  <span style="color:#75715e">//实际输入的城市初始化为0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> city[CITYNUM][<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">80</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//输入城市名称（长度不超过19）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>CITYNUM;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gets</span>(str); <span style="color:#75715e">//输入城市名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(str[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;   <span style="color:#75715e">//如果为空串，输入结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strlen</span>(str)<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            i<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        }<span style="color:#75715e">//输入名超过19，重新输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">strcpy</span>(city[i],str);<span style="color:#75715e">//将输入的城市名保存到字符串数组中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        num<span style="color:#f92672">++</span>;<span style="color:#75715e">//实际输入的城市数加一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//选择排序（升序）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> k<span style="color:#f92672">=</span>i,j;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;</span>num;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(city[j],city[k])<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                k<span style="color:#f92672">=</span>j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(k<span style="color:#f92672">!=</span>i)<span style="color:#75715e">//将最小城市名的字符串city[k]与city[i]交换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">strcpy</span>(str,city[i]);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">strcpy</span>(city[i],city[k]);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">strcpy</span>(city[k],str);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//显示排序后的结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>num;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s &#34;</span>,city[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="54-数组综合应用举例">5.4 数组综合应用举例
</h2><ul>
<li>
<p>**例1：**求解幻方问题</p>
<p>幻方是一个古老的数字游戏，n阶幻方就是把整数1~n^2^排成n*n的方阵，使得每行中的个元素之和，每列中各元素之和，以及两条对角线上的元素之和都是同一个数s，s称为幻方的幻和</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> m,mm;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(m<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> m<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">0</span>) <span style="color:#75715e">//小于0或偶数返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    mm<span style="color:#f92672">=</span>m<span style="color:#f92672">*</span>m;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第一个值的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> m<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k,ni,nj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> magic[<span style="color:#ae81ff">100</span>][<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; k<span style="color:#f92672">&lt;=</span>mm; k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        magic[i][j]<span style="color:#f92672">=</span>k;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//求右上方方格的坐标
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e">//第一行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ni<span style="color:#f92672">=</span>m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;  <span style="color:#75715e">//最后一行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            ni<span style="color:#f92672">=</span>i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(j<span style="color:#f92672">==</span>m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e">//最右边
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            nj<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  <span style="color:#75715e">//最左边
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            nj<span style="color:#f92672">=</span>j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//判断右上方方格是否已经有数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(magic[ni][nj]<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            i<span style="color:#f92672">=</span>ni;
</span></span><span style="display:flex;"><span>            j<span style="color:#f92672">=</span>nj;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#75715e">//右上方已经有数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span>m; i<span style="color:#f92672">++</span>) <span style="color:#75715e">//显示填充的结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; j<span style="color:#f92672">&lt;</span>m; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%4d&#34;</span>,magic[i][j]);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>例2</strong></p>
<p>求任意两个正整数（不超过8位）之间所有整数所包含的数字0~9出现的次数</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> k,min,max,count[<span style="color:#ae81ff">10</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">9</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//输入最大、最小数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%ld&#34;</span>,<span style="color:#f92672">&amp;</span>min);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%ld&#34;</span>,<span style="color:#f92672">&amp;</span>max);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(min<span style="color:#f92672">&gt;</span>max) <span style="color:#75715e">//最小数比最大数大，退出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">//统计各数字出现的次数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span>min;k<span style="color:#f92672">&lt;=</span>max;k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(str,<span style="color:#e6db74">&#34;%8d&#34;</span>,k); <span style="color:#75715e">//转换成字符串，存入str中，右对齐 左边补空格
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> str[i]<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39; &#39;</span>;i<span style="color:#f92672">--</span>) <span style="color:#75715e">//左边可能为空格 为空格时循环跳出 所以从右边开始循环 遇到空格就跳出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            count[str[i]<span style="color:#f92672">-</span><span style="color:#e6db74">&#39;0&#39;</span>]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">//显示结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d--(%ld)&#34;</span>,i,count[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="6-函数">6. 函数
</h1><h2 id="61-函数的概述">6.1 函数的概述
</h2><p><strong>函数其实就是一段可以重复调用的、动能相对独立完整的程序段</strong></p>
<ul>
<li>C语言时函数式语言</li>
<li>必须有且只能有一个名为main的主函数</li>
<li>C程序的执行总是从main函数开始，在main中结束</li>
<li>函数不能嵌套定义，可以嵌套调用</li>
</ul>
<h2 id="62-函数的定义与调用">6.2 函数的定义与调用
</h2><h3 id="1-无参数无返回值的函数"><strong>1. 无参数无返回值的函数</strong>
</h3><ul>
<li><strong>定义格式：</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">变量声明部分</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">执行部分</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p><strong>函数的原型声明：</strong></p>
<p>void 函数名 ( void); 或 void 函数名 ( ) ;</p>
</li>
<li>
<p><strong>用途：</strong></p>
<p>完成某项固定的处理任务，执行完成后不向调用者返回函数值，</p>
</li>
<li>
<p><strong>函数的调用：</strong></p>
<p>函数名 ( ) ;</p>
<p>**注意：**不能将这种函数调用赋值给任何变量，因为它没有返回值调用时，( )中间不能有void，一定要为空</p>
</li>
<li>
<p><strong>例子：</strong></p>
</li>
</ul>
<p>![屏幕截图 2023-11-20 103538](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-11-20 103538.png)</p>
<ul>
<li>
<p><strong>注意：</strong></p>
<p><strong>对函数调用之前，必须要先声明或先定义，否则编译出错</strong></p>
</li>
<li>
<p><strong>函数的返回：</strong></p>
<ul>
<li>
<p><strong>形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">return</span> (<span style="color:#960050;background-color:#1e0010">表达式</span>); <span style="color:#75715e">//用于有返回值的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">return</span> <span style="color:#960050;background-color:#1e0010">表达式</span>; <span style="color:#75715e">//有返回值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">return</span>; <span style="color:#75715e">//无返回值
</span></span></span></code></pre></div></li>
<li>
<p><strong>功能：</strong></p>
<p>是程序控制从被调用函数返回到调用函数中，如果有返回值，同时把返值带给调用函数</p>
</li>
<li>
<p><strong>函数中可以有多个return语句。在无返回值的函数中，return语句的形式只能是第三种形式</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例如
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showyes</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> key;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    key<span style="color:#f92672">=</span><span style="color:#a6e22e">getch</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">toupper</span>(key)<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;Y&#39;</span>) <span style="color:#75715e">//标准库函数，将小写字符转换成大写字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> ;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;YES!&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h3 id="2-无参数有返回值的函数">2. 无参数有返回值的函数
</h3><ul>
<li>
<p><strong>定义格式:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">返回值类型符</span> <span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">变量声明部分</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">执行部分</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//返回值类型符 可以为除数组类型外的任何类型，缺少时，默认为int型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//void 表明无参数 可省略
</span></span></span></code></pre></div></li>
<li>
<p><strong>函数的原型声明：</strong></p>
<p>返回值类型符 函数名(void);  <strong>或</strong>  返回值类型符 函数名 ( );</p>
</li>
<li>
<p><strong>用途：</strong></p>
<p>完成固定的处理任务，执行完成后向调用者返回函数值</p>
</li>
<li>
<p><strong>函数的调用：</strong></p>
<p>函数名( ); 或 变量=函数名( );</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sum</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> tot;
</span></span><span style="display:flex;"><span>    tot<span style="color:#f92672">=</span><span style="color:#a6e22e">sum</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(tot<span style="color:#f92672">==-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">not select&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">the result is:%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,tot);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sum</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i ,tot <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> key;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    key<span style="color:#f92672">=</span><span style="color:#a6e22e">getchar</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(key<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;&amp;</span> key<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;1&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span>(key<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;0&#39;</span>)<span style="color:#f92672">?</span><span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>; i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">100</span> ; i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>        tot <span style="color:#f92672">+=</span>i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (tot);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p><strong>函数的返回：</strong></p>
<ul>
<li>
<p><strong>格式：</strong></p>
<p>return (表达式)； 或 return 表达式；</p>
</li>
<li>
<p><strong>说明：</strong></p>
<ul>
<li>
<p>表达式的值即是函数的返回值</p>
</li>
<li>
<p>函数体中一般包含return（表达式）语句，如果没有，函数也会返回一个值，但是这个值是不可预知的，将可能使程序犯逻辑错误</p>
</li>
<li>
<p>一般情况下，表达式值的类型应与函数返回值的类型一致</p>
</li>
<li>
<p>当return（表达式）语句中的表达式的返回值类型不一致时，编译器将对表达式进行强制类型转换，将表达式的值强制转换成函数返回值类型，然后返回给调用者</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//例如
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">func</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> f<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">=</span>f<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (f);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//函数将返回2，而不是2.5
</span></span></span></code></pre></div><p>**注意：**如果不将函数调用赋值给任何变量，然的返回值将被丢弃</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-有参数无返回值的函数">3. 有参数无返回值的函数
</h3><ul>
<li>
<p><strong>定义格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#960050;background-color:#1e0010">函数名</span>(<span style="color:#960050;background-color:#1e0010">类型符</span><span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">形参名</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，类型符</span><span style="color:#ae81ff">2</span> <span style="color:#960050;background-color:#1e0010">形参名</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">，……，类型符</span>n <span style="color:#960050;background-color:#1e0010">形参名</span>n)<span style="color:#75715e">//形参列表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">变量声明部分</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">执行部分</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**注：**形参列表中至少要有意向，形参之间用逗号分开</p>
<p>​        不允许对形参赋初值</p>
</li>
<li>
<p><strong>函数的原型声明：</strong></p>
<p>void 函数名（类型符1 形参名1，类型符2 形参名2，……类型符n 形参名n）；</p>
<p>​         <em>或</em></p>
<p>void 函数名（类型符1，类型符2，……，类型符n）；</p>
</li>
<li>
<p><strong>函数调用：</strong></p>
<p>函数名（实参1，实参2，……，实参n）；</p>
<p>实参可以是常量，变量，表达式，函数等</p>
</li>
<li>
<p><strong>注意事项：</strong></p>
<ul>
<li>实参列表中的实参必须与汉书定义时的形参数量相同、类型相符</li>
<li>实参的值在赋给形参时，他的对应关系从左往右，一一对应</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">compare</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">copare</span>(i,i<span style="color:#f92672">++</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;i=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">compare</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a=%d b=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">&gt;</span>b)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a&gt;b</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">==</span>b)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a=b</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a&lt;b</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//运行结果 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">/*a=2 b=2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  a=b
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  i=3*/</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="4-有参数有返回值的函数">4. 有参数有返回值的函数
</h3><ul>
<li>
<p><strong>定义格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">返回值类型符</span> <span style="color:#960050;background-color:#1e0010">类型名（类型</span><span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">形参名</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，……，类型符</span>n <span style="color:#960050;background-color:#1e0010">形参名</span>n<span style="color:#960050;background-color:#1e0010">）</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">变量声明部分</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">执行部分</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>函数的原型声明：</strong></p>
<p>返回值类型符 函数名（类型符1 形参名1，类型符2 形参名2，……类型符n 形参名n）；</p>
<p>​         <em>或</em></p>
<p>返回值类型符 函数名（类型符1，类型符2，……，类型符n）；</p>
</li>
<li>
<p><strong>函数调用：</strong></p>
<p>函数名（实参1，实参2，……，实参n）；</p>
<p>​            <em>或</em></p>
<p>变量名=函数名（实参1，实参2，……，实参n）;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b,c;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>    c<span style="color:#f92672">=</span><span style="color:#a6e22e">max</span>(a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (a<span style="color:#f92672">&gt;</span>b<span style="color:#f92672">?</span>a:b);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">float</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">float</span> x,<span style="color:#66d9ef">float</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> z;
</span></span><span style="display:flex;"><span>    z<span style="color:#f92672">=</span>x<span style="color:#f92672">+</span>y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (z);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//被调用函数出现在主调函数之前，不必函数说明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//一般情况下int型函数可不作函数说明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//被调用函数出现在主调函数之后，则要函数说明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> a,b,c;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%f,%f&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>    c<span style="color:#f92672">=</span><span style="color:#a6e22e">add</span>(a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum is%f&#34;</span>,c);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="63-函数参数的传递方式">6.3 函数参数的传递方式
</h2><p>根据实参传递给形参值的不同，通常有<strong>值传递方式</strong>和<strong>地址传递方式</strong>两种</p>
<h4 id="1-值传递方式">1. 值传递方式
</h4><ul>
<li>
<p><strong>方式：</strong></p>
<p>函数调用时，为形参分配单元，并将实参的值复制到形参中；调用结束，形参单元被释放，实参单元仍保留并维持原值</p>
</li>
<li>
<p><strong>特点：</strong></p>
<ol>
<li>形参与实参占用不同的内存单元</li>
<li>单向传递</li>
</ol>
</li>
<li>
<p><strong>例子：交换两个数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>,y<span style="color:#f92672">=</span><span style="color:#ae81ff">11</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;x=%d y=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,x,y);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">swap</span>(x,y);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;x=%d y=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,x,y);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">=</span>b;
</span></span><span style="display:flex;"><span>    b<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//运行结果：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//x=7,y=11
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//x=7,y=11
</span></span></span></code></pre></div></li>
</ul>
<p>![屏幕截图 2023-11-20 165857](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-11-20 165857.png)</p>
<h4 id="2地址传递方式">2.地址传递方式
</h4><ul>
<li>
<p><strong>方式：</strong></p>
<p>函数调用时，将实参数据的存储地址作为参数传递给形参</p>
</li>
<li>
<p><strong>特点：</strong></p>
<ol>
<li>形参与实参占用同样的存储空间（单元）</li>
<li>双向传递</li>
<li>实参和形参必须是地址常量或变量</li>
</ol>
</li>
<li>
<p><strong>注意：</strong></p>
<ol>
<li>形参数组和实参数组的类型必须一致，否则将引起错误</li>
<li>形参数组和实参数组的长度可以不相同，因为在调用时，只传送首地址而不检查形参数组的长度</li>
<li>多维数组也可以作为函数的参数，在函数定义时对形参数组可以指定每一维的长度，也可省去第一维的长度</li>
</ol>
</li>
<li>
<p><strong>例：将任意两个字符串连接成一个字符串（数组名作为函数参数实现地址传递方式）</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">mergestr</span>(<span style="color:#66d9ef">char</span> s1[] , <span style="color:#66d9ef">char</span> s2[] , <span style="color:#66d9ef">char</span> s3[] );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str1[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Hello &#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str2[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;China!&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str3[<span style="color:#ae81ff">40</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mergestr</span>(str1,str2,str3);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,str3);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">mergestr</span>(<span style="color:#66d9ef">char</span> s1[ ], <span style="color:#66d9ef">char</span> s2[ ] ,<span style="color:#66d9ef">char</span> s3[ ] )
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;s1[i]<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;\0&#39;</span>;i<span style="color:#f92672">++</span>)<span style="color:#75715e">//将s1复制到s3中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>         s3[i]<span style="color:#f92672">=</span>s1[i];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;s2[j]<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;\0&#39;</span>;j<span style="color:#f92672">++</span>)<span style="color:#75715e">//将s2复制到s3的后边
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>         s3[j<span style="color:#f92672">+</span>i]<span style="color:#f92672">=</span>s2[j];
</span></span><span style="display:flex;"><span>    s3[j<span style="color:#f92672">+</span>i]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\0&#39;</span>;                 <span style="color:#75715e">//置字符串结束标志
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="64-变量的作用域和生存期">6.4 变量的作用域和生存期
</h2><ul>
<li>
<p><strong>变量的作用域</strong></p>
<ul>
<li><strong>即变量的作用范围（或有效范围）。表现为变量有的可以在整个程序或其他程序中进行引用，有的则只能局部范围内引用</strong></li>
<li>按其作用域范围可分为两种：即<strong>局部变量</strong>和<strong>全局变量</strong></li>
</ul>
</li>
<li>
<p><strong>变量的生存期</strong></p>
<ul>
<li><strong>变量从被生成到被撤消的这段时间。实际上就是变量占用内存的时间</strong></li>
<li>按其生存期可分为两种：即<strong>动态变量</strong>和<strong>静态变量</strong></li>
</ul>
</li>
<li>
<p><strong>注：</strong></p>
<p>变量只能在其生存期内被引用，变量的作用域直接影响变量的生存期，作用域和生存期是从空间和时间的角度来体现变量的特性</p>
</li>
</ul>
<h3 id="1-局部变量作用域和生存期">1. 局部变量作用域和生存期
</h3><ul>
<li>
<p><strong>定义：</strong></p>
<p>在函数内作定义说明的变量，也称为<strong>内部变量</strong></p>
</li>
<li>
<p><strong>作用域：</strong></p>
<p>仅限于函数内，离开函数后不可再引用</p>
</li>
<li>
<p><strong>生存期：</strong></p>
<p>从函数被调用的时刻到函数返回调用处的时刻**（静态局部变量除外）**</p>
</li>
<li>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">f1</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> z;
</span></span><span style="display:flex;"><span>    z<span style="color:#f92672">=</span>x<span style="color:#f92672">&gt;</span>y<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> z;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//其中x,y,z是局部变量，函数f1是这三者的作用域，不能用于下一个函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">f2</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,z);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//编译时会发生错误
</span></span></span></code></pre></div></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p><strong>局部变量使用注意事项</strong></p>
<ol>
<li>
<p>**主函数main()中定义的变量也是局部变量。**它只能在主函数中使用，其他函数不能使用。同时，主函数中也不能使用其他函数中定义的局部变量</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>**形参变量术语被调用函数的局部变量。**实参变量则属于全局变量或调用函数的局部变量</p>
</li>
<li>
<p>**允许在不同的函数中使用相同的变量名。**它们代表不同的对象，分配不同的单元，互不干扰，也不会发生混淆</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>**在复合语句中定义的变量也是局部变量，**其作用域只在复合语句范围内，其生存期是从复合语句被执行的时刻到复合语句执行完毕的时刻</p>
<!-- raw HTML omitted -->
</li>
</ol>
</li>
</ul>
<h3 id="2-全局变量作用域和生存期">2. 全局变量作用域和生存期
</h3><ul>
<li>
<p><strong>定义：</strong></p>
<p>在函数外部作定义说明的变量，也称为<strong>外部变量</strong>。它不属于哪一个函数，而属于一个源程序文件</p>
</li>
<li>
<p><strong>作用域：</strong></p>
<p>从<strong>定义变量的位置开始</strong>到本源文件结束，及有<strong>extern</strong>说明的其他源文件</p>
</li>
<li>
<p><strong>生存期：</strong></p>
<p>与程序相同。即从程序开始执行到程序终止的这段时间内。全局变量都有效</p>
<!-- raw HTML omitted -->
</li>
<li>
<p><strong>说明：</strong></p>
<ol>
<li>
<p><strong>尽量少使用全局变量</strong></p>
<ul>
<li>全局变量在程序全部执行过程中始终占用存储单元</li>
<li>降低了函数的独立性、通用性、可靠性及可移植性</li>
<li>降低程序清晰性，容易出错</li>
</ul>
</li>
<li>
<p>若外部变量与局部变量同名，则全局变量被屏蔽。要引用全局变量，则必须在变量名前加上两个冒号” :: “</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>全局变量定义必须在所有的函数之外，且只能定义依次，并可赋初始值。全局变量定义的一般形式为</p>
<!-- raw HTML omitted -->
<p>可以同时赋值多个同类型的全局变量</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>对全局变量进行说明，可扩展全局变量的作用域。全局变量说明的一般形式为：</p>
<!-- raw HTML omitted -->
<p>且不可赋初值</p>
<!-- raw HTML omitted -->
</li>
<li>
<p><strong>全局变量定义</strong>与<strong>全局变量</strong>说明的区分</p>
<!-- raw HTML omitted -->
<p>**注意：**两者中有且只能由一个对变量a赋初始值，不能都对变量a赋初始值或都不赋值，否则编译错</p>
</li>
</ol>
</li>
</ul>
<h2 id="65变量的存储类型">6.5变量的存储类型
</h2><ul>
<li>
<p><strong>概述：</strong></p>
<ul>
<li>变量是对程序中数据的存储空间的<strong>抽象</strong></li>
<li><strong>变量的属性：</strong>
<ul>
<li>① **数据类型：**变量所持有的数据的性质（操作属性）规定了它们的取值范围和可参与的运算</li>
<li>② <strong>存储类型：<strong>规定了变量占用内存空间的方式，也称为存储方式，分为</strong>静态存储</strong>和<strong>动态存储</strong>两种</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>静态存储类型的变量：</strong></p>
<p>是指在程序运行期间由系统分配固定的内存单元，并一直半尺不变，直至整个程序结束，内存空间才被释放。前面所介绍的<strong>全局变量</strong>即术语此类存储方式</p>
</li>
<li>
<p><strong>动态存储类型的变量：</strong></p>
<p>是在程序运行期间根据需要进行动态分配内存单元，使用完毕立即释放。典型的例子是<strong>函数的形式参数</strong>即属于此类存储方式</p>
</li>
<li>
<p>在C语言中，对变量的存储类型说明有以下四种</p>
<p>auto——自动型</p>
<p>register——寄存器型</p>
<p>static——静态型</p>
<p>extern——外部型</p>
</li>
</ul>
<h3 id="1-自动变量auto型变量">1. 自动变量（auto型变量）
</h3><ul>
<li>
<p><strong>定义格式：</strong></p>
<!-- raw HTML omitted -->
</li>
<li>
<p><strong>说明：</strong></p>
<ul>
<li>
<p>存储类型说明符auto可以省略，默认为auto类型</p>
</li>
<li>
<p>自动变量只能在函数内或复合语句中定义，它属于局部变量，全局变量无法赋值成自动变量</p>
<!-- raw HTML omitted -->
</li>
</ul>
</li>
<li>
<p>**注意：**在函数外部定义的没有带存储类型说明符的全局变量是外部变量，属于静态存储类型，如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> k;  <span style="color:#75715e">//k为外部变量，属于静态存储类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>()
</span></span><span style="display:flex;"><span>{    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="2-外部变量extern-型变量">2. 外部变量（extern 型变量）
</h3><ul>
<li>
<p><strong>属于静态存储类型</strong></p>
<p><strong>外部变量</strong>和<strong>全局变量</strong>是对同一类变量的两种不同角度的提法，全局变量是从他的作用域提出的，外部变量从它的存储方式提出的，表示了他的生存期</p>
</li>
<li>
<p><strong>例：引用其他文件中的外部变量</strong></p>
<!-- raw HTML omitted -->
</li>
</ul>
<h3 id="3-静态变量static型变量">3. 静态变量（static型变量）
</h3><ul>
<li>
<p><strong>静态变量与静态存储类型</strong></p>
<ul>
<li>
<p>静态变量的类型说明符是<strong>static</strong></p>
</li>
<li>
<p>静态变量属于静态存储类型</p>
</li>
<li>
<p>静态存储类型的变量不一定就是静态变量</p>
<p>例如，外部变量虽属于静态存储类型但不一定是静态变量，必须由<strong>static</strong>加以定义后才能变为<strong>静态外部变量</strong>，或称<strong>静态全局变量</strong></p>
</li>
<li>
<p>自动变量可以用static定义它为静态自动变量，或称<strong>静态局部变量</strong>，从而成为静态存储方式</p>
</li>
</ul>
</li>
<li>
<p><strong>静态局部变量</strong></p>
<p>在局部变量的说明前加上<strong>static</strong>就构成静态局部变量</p>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> a,b;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">float</span> array[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>};
</span></span></code></pre></div></li>
<li>
<p><strong>静态局部变量与自动变量的比较</strong></p>
<ul>
<li>
<p><strong>静态局部变量</strong>与<strong>自动变量</strong>均属于局部变量</p>
</li>
<li>
<p>静态局部变量生存期长，为整个源程序。自动变量生存期短</p>
</li>
<li>
<p>静态局部变量的生存期虽然为整个源程序，但是其作用域仍与自动变量相同</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>静态局部变量若在定义时未赋初值，则<strong>系统自动赋初值0</strong></p>
</li>
<li>
<p>静态局部变量赋初值<strong>只一次</strong>，而自动变量赋初值可以多次</p>
<!-- raw HTML omitted -->
</li>
</ul>
</li>
<li>
<p><strong>静态全局变量</strong></p>
<p>全局变量（外部变量）的说明之前再加上static就构成了<strong>静态全局变量</strong></p>
</li>
<li>
<p><strong>static关键字对全局变量的影响</strong></p>
<p>全局变量改变为静态变量后是改变了它的作用域，限制了它的使用范围。</p>
<p>当一个源程序由多个源文件组成时，非静态的全局变量可通过外部变量说明使其再整个源程序中都有效</p>
<p>而静态全局变量只在定义该变量的源文件内有效，在同一源程序的其他源文件中不能通过外部变量说明来使用它</p>
<!-- raw HTML omitted -->
</li>
</ul>
<h3 id="4-寄存器变量register型变量">4. 寄存器变量（register型变量）
</h3><ul>
<li>
<p><strong>访问效率比较</strong></p>
<p>外存 &lt; 内存 &lt; CPU的寄存器</p>
<p>寄存器变量的说明符是register，属于动态存储类型</p>
</li>
<li>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">register</span> <span style="color:#66d9ef">int</span> i,s<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//当数据将被频繁访问的时候，存储为寄存器变量，提高效率
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">100</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        s<span style="color:#f92672">=</span>s<span style="color:#f92672">+</span>i;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;s=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,s);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>说明：</strong></p>
<ul>
<li>只有局部自动变量和形式参数才可以定义为寄存器变量</li>
<li>register修饰符是过时的修饰，现在的编译器可自动识别哪些变量将被频繁访问而自动将其类型转换成register类型</li>
<li>寄存器的空间很小，如果寄存器空间满了，即使加上了register修饰符，也不会放入寄存器</li>
</ul>
</li>
</ul>
<h2 id="65-函数嵌套与递归调用">6.5 函数嵌套与递归调用
</h2><h3 id="1-函数的嵌套调用">1. 函数的嵌套调用
</h3><ul>
<li>
<p>**定义：**函数嵌套调用是允许在一个函数中去调用另外一个函数</p>
</li>
<li>
<p><strong>C规定：</strong> <strong>可以</strong>嵌套调用函数</p>
<p>​			   <strong>不可</strong>嵌套定义函数</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>**例：**计算三个数中最大数与最小数的差</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dif</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b,c,d;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b,<span style="color:#f92672">&amp;</span>c);
</span></span><span style="display:flex;"><span>    d<span style="color:#f92672">=</span><span style="color:#a6e22e">dif</span>(a,b,c);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,d);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dif</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(<span style="color:#a6e22e">max</span>(x,y,z)<span style="color:#f92672">-</span><span style="color:#a6e22e">min</span>(x,y,z));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> max<span style="color:#f92672">=</span>x<span style="color:#f92672">&gt;</span>y<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(max<span style="color:#f92672">=</span>(max<span style="color:#f92672">&gt;</span>z<span style="color:#f92672">?</span>max:z));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y,<span style="color:#66d9ef">int</span> z)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> min<span style="color:#f92672">=</span>x<span style="color:#f92672">&lt;</span>y<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(min<span style="color:#f92672">=</span>min<span style="color:#f92672">&lt;</span>z<span style="color:#f92672">?</span>min:z);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="2-函数的递归调用">2. 函数的递归调用
</h3><ul>
<li>
<p>**定义：**函数直接或间接的调用自身，叫做函数的递归调用</p>
<!-- raw HTML omitted -->
</li>
<li>
<p><strong>说明：</strong></p>
<ol>
<li>C编译系统对递归函数的自调用次数<strong>没有限制</strong></li>
<li>每调用函数一次，在内存堆栈分配空间，用于存放函数变量、返回值等信息，所以递归次数过多，可能引起堆栈溢出</li>
</ol>
</li>
<li>
<p><strong>例1：</strong> <strong>递归的执行情况分析</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print</span>(<span style="color:#66d9ef">int</span> w);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">print</span>(<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print</span>(<span style="color:#66d9ef">int</span> w)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(w<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">print</span>(w<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;=</span>w;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,w);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
</li>
<li>
<p><strong>例2：求n的阶乘n!</strong></p>
<ul>
<li>方法一：利用循环</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">long</span> <span style="color:#a6e22e">factn</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> L<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        L<span style="color:#f92672">*=</span>i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (L);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>方法二：利用递归</p>
<p>求阶乘可以看作n称n-1的阶乘</p>
</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">factn</span>(<span style="color:#66d9ef">int</span> n);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>num);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> L<span style="color:#f92672">=</span><span style="color:#a6e22e">factn</span>(num);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%ld&#34;</span>,L);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">factn</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> L;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(n<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    L<span style="color:#f92672">=</span>n<span style="color:#f92672">*</span><span style="color:#a6e22e">factn</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (L);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>​		原理如图：</p>
<!-- raw HTML omitted -->
</li>
<li>
<p><strong>例3：汉诺塔问题</strong></p>
<ul>
<li>
<p>问题描述：</p>
<p>有A,B,C三个塔座，A上套有n个直径不同的圆盘，按直径从小到大叠放，形如宝塔，编号1，2，3……n。要求将n个圆盘从A移到C，叠放顺序不变，移动过程中遵循下列原则：</p>
<ul>
<li>每次只能移动一个圆盘</li>
<li>圆盘可在三个塔座上任意移动</li>
<li>任何时刻，每个塔座上不能将大盘压倒小盘上</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hanoi</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">char</span> A,<span style="color:#66d9ef">char</span> B,<span style="color:#66d9ef">char</span> C);<span style="color:#75715e">///汉诺塔递归算法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">move</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">char</span> x,<span style="color:#66d9ef">char</span> y);<span style="color:#75715e">///移动实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;<span style="color:#75715e">///要移动的盘子数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;请输入要移动的盘子数：&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>num);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hanoi</span>(num,<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>) ;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">///具体实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hanoi</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">char</span> A,<span style="color:#66d9ef">char</span> B,<span style="color:#66d9ef">char</span> C){<span style="color:#75715e">//n代表  A柱子上面的盘子数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(n<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">move</span>(n,A,C);<span style="color:#75715e">//如果只有一个盘子，直接从  A 移动到  C
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hanoi</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,A,C,B);<span style="color:#75715e">//将 n-1个盘子从  A 移动到  B
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">move</span>(n,A,C);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hanoi</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,B,A,C); <span style="color:#75715e">//将 n-1个盘子从 B 移动到  C
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">move</span>(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">char</span> x,<span style="color:#66d9ef">char</span> y){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;第%d个盘子从%c---&gt;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,n,x,y);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="66-函数的作用域">6.6 函数的作用域
</h2><h3 id="1-内部函数">1. 内部函数
</h3><ul>
<li>
<p>**定义：**如果在一个源文件中定义的函数只能被本文件中的函数调用，而不能被同一源程序其他文件中的函数调用，这种函数称为内部函数</p>
</li>
<li>
<p><strong>一般形式：</strong></p>
<p>static 类型说明符 函数名 （形参表）</p>
</li>
<li>
<p><strong>例如：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">func</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (a<span style="color:#f92672">&gt;</span>b<span style="color:#f92672">?</span>a:b);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="2-外部函数">2. 外部函数
</h3><ul>
<li>
<p><strong>外部函数在整个源程序中都有效</strong></p>
</li>
<li>
<p><strong>定义的一般形式：</strong></p>
<p>extern 类型说明符 函数名 （形参表）</p>
<p>（extern缺省时，默认为extern）</p>
</li>
<li>
<p><strong>例如：</strong></p>
<p>![屏幕截图 2023-12-01 205106](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2023-12-01 205106.png)</p>
</li>
</ul>
<h2 id="68-函数的封装">6.8 函数的封装
</h2><!-- raw HTML omitted -->
<h2 id="69-函数应用综合举例">6.9 函数应用综合举例
</h2><h3 id="例一-对任意两个长度的大整数求和">【例一】 对任意两个长度的大整数求和
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;conio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define N 20   </span><span style="color:#75715e">//数字字符的个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">beep</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">GetNumberStr</span>(<span style="color:#66d9ef">char</span> s[ ]);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">AddNumberStr</span>(<span style="color:#66d9ef">char</span> a[ ], <span style="color:#66d9ef">char</span> b[ ], <span style="color:#66d9ef">char</span> c[ ]);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#a6e22e">AddChar</span>(<span style="color:#66d9ef">char</span> ch1,<span style="color:#66d9ef">char</span> ch2);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">LeftTrim</span>(<span style="color:#66d9ef">char</span> str[ ]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  <span style="color:#75715e">//进位标志，全局变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> a[N<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>}, b[N<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>}, c[N<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>] ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a = &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">strlen</span>(a) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)   <span style="color:#75715e">//输入被加数a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">GetNumberStr</span>(a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">b = &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">strlen</span>(b) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)  <span style="color:#75715e">//输入被加数b
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">GetNumberStr</span>(b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">AddNumberStr</span>(a,b,c);   <span style="color:#75715e">//计算和数c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">a + b = %s </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);  <span style="color:#75715e">//显示结算结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">GetNumberStr</span>(<span style="color:#66d9ef">char</span> s[ ] )
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> ( <span style="color:#ae81ff">1</span> )
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ch<span style="color:#f92672">=</span><span style="color:#a6e22e">getch</span>();   <span style="color:#75715e">//读取输入的字符，不显示
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(ch<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;\r&#39;</span>) <span style="color:#75715e">//回车符，退出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ch<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;\b&#39;</span>) <span style="color:#75715e">//退格符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>( i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> )
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c %c&#34;</span>, ch, ch);
</span></span><span style="display:flex;"><span>                i<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">beep</span>( );
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ch <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> ch <span style="color:#f92672">&gt;</span><span style="color:#e6db74">&#39;9&#39;</span>) <span style="color:#75715e">//非数字字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">beep</span>( );
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">&lt;</span> N)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>,ch);
</span></span><span style="display:flex;"><span>            s[i<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> ch;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">beep</span>( );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    s[ i ] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\0&#39;</span>; <span style="color:#75715e">// 置字符串结束符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//计算两个数字字符串之和，放在c 中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">AddNumberStr</span>(<span style="color:#66d9ef">char</span> a[ ], <span style="color:#66d9ef">char</span> b[ ], <span style="color:#66d9ef">char</span> c[ ])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i , j , k;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(c , <span style="color:#e6db74">&#39; &#39;</span>,N<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    i<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(a) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    j<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(b) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    k<span style="color:#f92672">=</span>N;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//将被加数与加数按照从右向左的顺序相加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#66d9ef">while</span>(i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> j<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        c[k<span style="color:#f92672">--</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">AddChar</span>(a[i<span style="color:#f92672">--</span>],b[j<span style="color:#f92672">--</span>]);
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">while</span>(i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)      <span style="color:#75715e">//被加数没有被加完，即被加数的位数大于加数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        c[k<span style="color:#f92672">--</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">AddChar</span>(a[i<span style="color:#f92672">--</span>], <span style="color:#e6db74">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">while</span>( j<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span> )    <span style="color:#75715e">//加数没有被加完
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        c[k<span style="color:#f92672">--</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">AddChar</span>(b[j<span style="color:#f92672">--</span>],<span style="color:#e6db74">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span> (tag<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)       <span style="color:#75715e">//最后有进位，将其放在和数的最高位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        c[k] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span>;
</span></span><span style="display:flex;"><span>     c[N<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\0&#39;</span>;  <span style="color:#75715e">//置字符串结束标志
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#a6e22e">LeftTrim</span>(c);   <span style="color:#75715e">//去掉字符串c左边的空格
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//计算两个数字字符之和
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> <span style="color:#a6e22e">AddChar</span>(<span style="color:#66d9ef">char</span>  ch1,<span style="color:#66d9ef">char</span> ch2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//两数字字符所对应的数字与进位相加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ch <span style="color:#f92672">=</span> (ch1<span style="color:#f92672">-</span><span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">+</span> ch2<span style="color:#f92672">-</span><span style="color:#e6db74">&#39;0&#39;</span>) <span style="color:#f92672">+</span> tag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ch <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">10</span>)   <span style="color:#75715e">//结果大于10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        tag <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">//有进位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//将个位数减10后加上0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> (ch<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>     <span style="color:#75715e">//结果小于10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        tag <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;    <span style="color:#75715e">//没进位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> (ch <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;0&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//去掉字符串左边的空格
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">LeftTrim</span>(<span style="color:#66d9ef">char</span> str[ ])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//查找第一个非空格字符的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; str[i] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39; &#39;</span>; i<span style="color:#f92672">++</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(str,str<span style="color:#f92672">+</span>i);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">beep</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\07</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="610-测试">6.10 测试
</h2><ul>
<li>
<p><strong>只有只有在使用时才为该类型变量分配内存的存储类说明是：</strong></p>
<p>auto 和 register</p>
</li>
<li>
<p><strong>形参只能是变量，因为他是用来存储传递过来的实参值的量，所以这个量只能是变量</strong></p>
</li>
<li>
<blockquote>
<p>函数调用不可以：</p>
<ul>
<li><input disabled="" type="checkbox"> A.作为一个函数的实参</li>
<li><input disabled="" type="checkbox"> B.出现在执行语句中</li>
<li><input checked="" disabled="" type="checkbox"> C.作为一个函数的形参</li>
<li><input disabled="" type="checkbox"> D.出现在一个表达式中</li>
</ul>
<p>函数返回值在寄存器中，没有地址，不能作为形参，但可以作为实参</p>
</blockquote>
</li>
<li>
<p><strong>实参可以为任何类型，实参可以是常量，变量或表达式</strong></p>
</li>
<li>
<p><strong>形参应与对应的实参类型一致</strong></p>
</li>
<li>
<p><strong>如果函数值的类型与返回值类型不一致，以函数值类型为准</strong></p>
</li>
<li>
<p><strong>如果形参与实参类型不一致，以形参类型为准</strong></p>
</li>
<li>
<p><strong>定义函数时，形参的类型说明只能放在函数的声明部分，不能放在函数体内</strong></p>
</li>
<li>
<p><strong>return后面的值可以为表达式</strong></p>
</li>
<li>
<p><strong>当二维数组作为形参时，第一维的大小可以省略，但第二维的大小是不能省略的，必须和实参数组第二维的大小一致，如：</strong></p>
<blockquote>
<p>4.已有如下数组定义和 f 函数调用语句，则在 f 函数的说明中，对形参数组array 的正确定义方式为：</p>
<p>int a[3] [4];</p>
<p>f(a);</p>
<ul>
<li><input disabled="" type="checkbox"> A. f(int array[3] [ ])</li>
<li><input disabled="" type="checkbox"> B. f(int array[2] [5])</li>
<li><input disabled="" type="checkbox"> C. f(int array[ ] [6])</li>
<li><input checked="" disabled="" type="checkbox"> D. f(int array[ ] [4])</li>
</ul>
</blockquote>
</li>
<li>
<p><strong>按照C语言的原则，函数隐含为全局（本项目中）都可以访问，因此默认为extern，如果函数前面加上static则说明该函数只能被本源程序文件中的模块访问</strong></p>
</li>
<li>
<blockquote>
<p>以下正确的说法是：</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> A.用户可以重新定义标准库函数，若如此，该函数将失去原有含义。</li>
<li><input disabled="" type="checkbox"> B.用户若需调用标准库函数，调用前必须重新定义。</li>
<li><input disabled="" type="checkbox"> C.系统根本不允许用户重新定义标准库函数。</li>
<li><input disabled="" type="checkbox"> D.用户若需要调用标准库函数，调用前不必使用预编译命令将该函数所在文件包含到用户源文件中，系统自动去调用。</li>
</ul>
</blockquote>
</li>
<li>
<blockquote>
<p>若使用一维数组名作函数参数，则以下正确的说法是：</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> A.必须在调用函数中说明此数组的大小。</li>
<li><input disabled="" type="checkbox"> B.实参数组类型与形参数组类型可以不匹配。</li>
<li><input disabled="" type="checkbox"> C.在被调用函数中，不需要考虑形参数组的大小。</li>
<li><input disabled="" type="checkbox"> D.实参数组名与形参数组名必须一致。</li>
</ul>
</blockquote>
</li>
</ul>
<h1 id="7-指针">7. 指针
</h1><h2 id="71-指针与指针变量的概念">7.1 指针与指针变量的概念
</h2><ul>
<li>
<p><strong>C程序中使用指针可以：</strong></p>
<ul>
<li>动态分配内存</li>
<li>使程序简洁、紧凑、高效</li>
<li>有效表示复杂的数据结构</li>
</ul>
</li>
<li>
<p>得到多于一个的函数返回值</p>
</li>
<li>
<p><strong>内存地址：</strong></p>
<p>内存中存储单元的编号</p>
</li>
<li>
<p><strong>变量地址：</strong></p>
<p>程序编译或函数调用时为变量分配的内存单元起始地址，内存大小由变量的数据类型决定</p>
</li>
<li>
<p><strong>指针与指针变量</strong></p>
<ul>
<li>
<p>**指针：**变量的地址，是一个常量</p>
</li>
<li>
<p>**指针变量：**专门存放变量地址的变量</p>
<!-- raw HTML omitted -->
</li>
</ul>
</li>
</ul>
<h2 id="72-指针变量的定义和引用">7.2 指针变量的定义和引用
</h2><h3 id="1-定义指针变量">1. 定义指针变量
</h3><ul>
<li>
<p><strong>定义格式：</strong>[存储类型] 数据类型  *指针变量名；</p>
<blockquote>
<p>变量名： 合法标识符</p>
<p>*：表示定义指针变量，去掉 *以后的指针变量名才是我们要定义的指针</p>
<p>数据类型 ： 指针变量指向的内存单元的数据类型</p>
<p>存储类型 ： 指针变量本身的存储类型 如，static auto 等</p>
</blockquote>
</li>
<li>
<p><strong>例一：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义指针变量p, 指向整型常量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//即变量p中存放的是一个整型常量的地址
</span></span></span></code></pre></div><p><strong>例二：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pc,ch;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义字符型指针变量pc，字符变量ch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pc,ch;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义字符型指针变量pc,字符变量ch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//即*与指针变量名之间允许有空格存在
</span></span></span></code></pre></div><p><strong>例三：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> <span style="color:#f92672">*</span>dptr;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义浮点型指针变量dptr;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//dptr是静态变量
</span></span></span></code></pre></div><p><strong>例四：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p1,<span style="color:#f92672">*</span>p2;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义字符指针变量p1，p2
</span></span></span></code></pre></div></li>
</ul>
<h3 id="2-指针变量的赋值">2. 指针变量的赋值
</h3><p>​     指针变量定义后，变量值不确定，必须先赋值，再使用</p>
<h4 id="1赋值语句赋值"><strong>1）赋值语句赋值</strong>
</h4><ul>
<li>指针变量名=&amp;变量名（或指针）</li>
</ul>
<h4 id="2初始化赋值"><strong>2）初始化赋值</strong>
</h4><ul>
<li>
<p>[存储类型] 数据类型 *指针变量名=初始地址值</p>
<p><strong>例5：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>iPtr;        <span style="color:#75715e">//定义整型指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> iCount<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>;    <span style="color:#75715e">//定义整型变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>iPtr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>iCount;   <span style="color:#75715e">//将iCount的地址存放到iPtr上
</span></span></span></code></pre></div><!-- raw HTML omitted -->
<p><strong>例6：指针变量初始化</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> iCount,<span style="color:#f92672">*</span>iPtr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>iCount;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//要先定义iCount，不能将iCount放在iPtr之后
</span></span></span></code></pre></div><p><strong>例7：用已赋值的指针变量赋值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> iCount <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>iPtr1<span style="color:#f92672">=&amp;</span>iCount, <span style="color:#f92672">*</span>iPtr2<span style="color:#f92672">=</span>iPtr1;
</span></span></code></pre></div></li>
</ul>
<h4 id="3指针变量赋值注意事项">3）指针变量赋值注意事项
</h4><ul>
<li>
<p>原则上一个指针变量只能指向同类型的变量</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">float</span> num;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>cptr;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//cptr只能指向char型变量
</span></span></span></code></pre></div></li>
<li>
<p>可通过强制类型转换，使指针变量指向一个不同类型的变量</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">float</span> num;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>cptr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#f92672">&amp;</span>num;
</span></span></code></pre></div></li>
</ul>
<h3 id="3-指针变量的引用">3. 指针变量的引用
</h3><ul>
<li>
<p>**直接引用：**按变量名存取变量值</p>
<p>​					a=20;</p>
</li>
<li>
<p>**间接引用：**通过指针变量间接引用指向的变量的值</p>
<p><strong>格式：</strong> *指针变量， *一间接引用运算符</p>
<p>​     		*p=10;</p>
</li>
<li>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">变量a的地址引用</th>
<th style="text-align:center">变量a的值引用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a        |</td>
<td style="text-align:center">a       |</td>
</tr>
<tr>
<td style="text-align:center">p        |</td>
<td style="text-align:center">*p       |</td>
</tr>
<tr>
<td style="text-align:center">&amp;(*p)      |</td>
<td style="text-align:center">*(&amp;a)     |</td>
</tr>
</tbody>
</table></div>
</li>
<li>
<p><strong>定义时用*p ，赋值地址时用p</strong></p>
<p><strong>初始定义时，可以写成<code>int *p=&amp;a</code>,即将a的地址赋值给了p</strong></p>
</li>
<li>
<p><strong>例8：输入两个数，并使其从大到小输出</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p1,<span style="color:#f92672">*</span>p2,<span style="color:#f92672">*</span>p,a,b;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d,%d&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>    p1<span style="color:#f92672">=&amp;</span>a;   <span style="color:#75715e">//p1指向变量a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p2<span style="color:#f92672">=&amp;</span>b;   <span style="color:#75715e">//p2指向变量b
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">&lt;</span>b)  <span style="color:#75715e">//p1和p2指向的变量地址交换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        p<span style="color:#f92672">=</span>p1;    <span style="color:#75715e">//p指向变量a,p=&amp;a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        p1<span style="color:#f92672">=</span>p2;   <span style="color:#75715e">//p1指向变量b,p1=&amp;b
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        p2<span style="color:#f92672">=</span>p;    <span style="color:#75715e">//p2指向变量a,p2=&amp;a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a=%d , b=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;max=%d , min=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">*</span>p1,<span style="color:#f92672">*</span>p2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="73-指针和地址运算">7.3 指针和地址运算
</h2><h3 id="1-指针变量的加减运算">1. 指针变量的加、减运算
</h3><ul>
<li>
<p>指针是地址，是一种无符号整型</p>
</li>
<li>
<p><strong>假设已定义：</strong></p>
<p><code>ptype *p,*q;</code></p>
<p><code>int n;</code></p>
<p><strong>有以下规定：</strong></p>
<!-- raw HTML omitted -->
<p><strong>即，指针只能进行与整型变量n的加减运算，以及两个指针间的减法运算</strong></p>
</li>
</ul>
<h4 id="-指针变量p与整数n的加运算"><strong>① 指针变量p与整数n的加运算</strong>
</h4><p>p ∓ n 的值 = p ∓ n * sizeof (ptype)</p>
<ul>
<li>
<p><strong>例1：指针变量与整数n的加运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//注：指针变量的加减运算由该指针变量的类型决定
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>pi;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pc;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> <span style="color:#f92672">*</span>pl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pi<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>    pc<span style="color:#f92672">=</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>    pl<span style="color:#f92672">=</span>(<span style="color:#66d9ef">long</span> <span style="color:#f92672">*</span>)<span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pi<span style="color:#f92672">++</span>;   <span style="color:#75715e">//pi=pi+1 = pi+sizeof(int) = pi+4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(int)=%d,pi=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>),pi);<span style="color:#75715e">//int类型的长度为4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    pi<span style="color:#f92672">-=</span><span style="color:#ae81ff">2</span>; <span style="color:#75715e">//pi=pi+2 = pi+2*sizeof(int) = pi-8
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(int)=%d,pi=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>),pi);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pc<span style="color:#f92672">++</span>; <span style="color:#75715e">//pc=pc+1 = pc+sizeof(char) = pc+1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(char)=%d,pc=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>),pc);<span style="color:#75715e">//char类型的长度为1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    pc<span style="color:#f92672">-=</span><span style="color:#ae81ff">2</span>; <span style="color:#75715e">//pc=pc+1 = pc+sizeof(char) = pc+1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(char)=%d,pc=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>),pc);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pl<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(long)=%d,pl=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">long</span>),pl);<span style="color:#75715e">//long类型的长度为4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    pl<span style="color:#f92672">-=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sizeof(long)=%d,pl=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">long</span>),pl);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>运行结果如下：</strong></p>
</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p><strong>例2： 指针变量与整数n的加运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define N 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[N]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">40</span>},i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p<span style="color:#f92672">=&amp;</span>a[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span>N ; i<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>,p<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;p = 0x%08x , adress(a[%d]) = 0x%08x , a[%d] =%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p,i,<span style="color:#f92672">&amp;</span>a[i],i,<span style="color:#f92672">*</span>p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>运行结果如下：</strong></p>
<!-- raw HTML omitted -->
</li>
</ul>
<h4 id="-两个指针变量的减运算">② 两个指针变量的减运算
</h4><ul>
<li>p，q指向同一数组</li>
<li><code>p - q = (p - q)/sizeof(ptype)</code></li>
<li>p - q 计算两指针之间相差的内存单元数或元素的个数</li>
</ul>
<hr>
<p><strong>例3：两个指针变量的减运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define N 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[N]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">40</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> a,<span style="color:#f92672">*</span>q<span style="color:#f92672">=</span>a[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;p = 0x%08x , q = 0x%08x</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p,q);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;p-q = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p<span style="color:#f92672">-</span>q);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;q-p = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,q<span style="color:#f92672">-</span>p);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>运行结果如下：</strong></p>
<!-- raw HTML omitted -->
<p><strong>其中虽然<code>p - q</code>的值为8，但是要除以<code>sizeof(int)</code>，所以最后的结果变成了 -2 和 2</strong></p>
<p><strong>即 <code>p - q</code> 的结果为两个指针之间相差的内存单元或者元素个数；</strong></p>
<hr>
<ul>
<li>
<p><strong>说明：</strong></p>
<ol>
<li>
<p>若p与q不指向同一数组，比较将无意义</p>
</li>
<li>
<p>若p和q指向同一数组，关系运算含义如下：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">地址的比较</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>p&lt;q</strong>   |</td>
<td style="text-align:center"><strong>p指向的元素在前<!-- raw HTML omitted -->如p指向a[0]，q指向a[2]</strong> |</td>
</tr>
<tr>
<td style="text-align:center"><strong>p&gt;q</strong>   |</td>
<td style="text-align:center"><strong>p指向的元素在后</strong>              |</td>
</tr>
<tr>
<td style="text-align:center"><strong>p==q</strong>  |</td>
<td style="text-align:center"><strong>p与q指向同一个元素</strong>             |</td>
</tr>
</tbody>
</table></div>
<!-- raw HTML omitted -->
</li>
</ol>
</li>
</ul>
<h2 id="74-指针与数组">7.4 指针与数组
</h2><h3 id="741-数组的指针和指向数组的指针变量">7.4.1 数组的指针和指向数组的指针变量
</h3><h4 id="1-数组的指针">1） 数组的指针
</h4><ul>
<li>
<p><strong>数组的指针是数组在内存中的起始地址</strong></p>
</li>
<li>
<p>**数组的指针：**数组名、数组第一个元素的地址</p>
</li>
<li>
<p>假设已定义整型数组a</p>
<p><code>a + i = a + sizeof(int)*i</code></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">a[i]的地址引用</th>
<th style="text-align:center">a[i]元素值引用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a[i]      |</td>
<td style="text-align:center">a[i]      |</td>
</tr>
<tr>
<td style="text-align:center"><strong>==a+i==</strong>   |</td>
<td style="text-align:center">=*<strong>(a+i)</strong>== |</td>
</tr>
</tbody>
</table></div>
</li>
<li>
<p><strong>[] -变址运算符，a[i]=*(a+i)</strong></p>
</li>
<li>
<p><strong>&amp;a[i] = a + i</strong></p>
</li>
<li>
<p><strong>思考：</strong></p>
<p>设定义<code>int a[3] = {10,20,30};</code></p>
<p>以下输出数组所有元素的语句是否正确</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>,a<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a[%d] = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,i,<span style="color:#f92672">*</span>a);
</span></span></code></pre></div><p>**答案：**不正确</p>
<p>**解释：**数组的指针a是常量，不可对a赋值</p>
</li>
</ul>
<h4 id="2-指向数组的指针变量">2) 指向数组的指针变量
</h4><ul>
<li>
<p><strong>假设已定义</strong></p>
<pre tabindex="0"><code>int a[N],*p = a;  //or int *p = &amp;a[0];
p+i = p+sizeof(int)*i;
</code></pre><p><strong>则：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">a[i]的地址引用</th>
<th style="text-align:center">a[i]元素值引用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a[i]      |</td>
<td style="text-align:center">a[i]      |</td>
</tr>
<tr>
<td style="text-align:center"><strong>==a+i==</strong>   |</td>
<td style="text-align:center">=*<strong>(a+i)</strong>== |</td>
</tr>
<tr>
<td style="text-align:center"><strong>==p+i==</strong>   |</td>
<td style="text-align:center">=*<strong>(p+i)</strong>== |</td>
</tr>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">==<strong>p[i]</strong>==  |</td>
</tr>
</tbody>
</table></div>
<p><strong>所以将7.3的思考题改为</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(p<span style="color:#f92672">=</span>a ; p<span style="color:#f92672">&lt;</span>a<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span> ; p<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prinf</span>(<span style="color:#e6db74">&#34;a[%d] = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p<span style="color:#f92672">-</span>a,<span style="color:#f92672">*</span>p);
</span></span></code></pre></div></li>
<li>
<p><strong>例：计算数组元素和</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define N 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> A[N];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i , sum , <span style="color:#f92672">*</span>p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;intput %d number:&#34;</span>,N);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span>N ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,A<span style="color:#f92672">+</span>i);         <span style="color:#75715e">//数据输入，数组指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span>N ; i<span style="color:#f92672">++</span>)   <span style="color:#75715e">//下标法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        sum<span style="color:#f92672">+=</span>A[i];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span>N ; i<span style="color:#f92672">++</span>)   <span style="color:#75715e">//数组指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        sum<span style="color:#f92672">+=*</span>(A<span style="color:#f92672">+</span>i);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,p<span style="color:#f92672">=</span>A,i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span>N ; i<span style="color:#f92672">++</span>)  <span style="color:#75715e">//指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        sum<span style="color:#f92672">+=</span>p[i];   <span style="color:#75715e">//或sum+=*(p+i);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,p<span style="color:#f92672">=</span>A ; p<span style="color:#f92672">&lt;</span>A<span style="color:#f92672">+</span>N ; p<span style="color:#f92672">++</span>)   <span style="color:#75715e">//指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        sum<span style="color:#f92672">+=*</span>p;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,p<span style="color:#f92672">=</span>A<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span> ; p<span style="color:#f92672">&lt;</span>A<span style="color:#f92672">+</span>N ; p<span style="color:#f92672">++</span>)    <span style="color:#75715e">//移动指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        sum<span style="color:#f92672">+=*</span>p;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;sum=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>运行结果如下：</strong></p>
<!-- raw HTML omitted -->
</li>
</ul>
<h3 id="742-指向多维数组的指针数组指针">7.4.2 指向多维数组的指针——数组指针
</h3><h4 id="1-利用一般指针变量访问多维数组">1） 利用一般指针变量访问多维数组
</h4><p><strong>对于一个多维数组，可以先将其看成M个一维数组，然后每个一维数组里又包含了N个元素</strong></p>
<p><strong>如图：</strong></p>
<!-- raw HTML omitted -->
<p><strong>因此 a + 1 的实际意义就是将地址变换到下一行，即跳过了第一行的N个数</strong></p>
<p><strong>所以 <code>a+1 = a+sizeof(int)*N</code>，即为移动一行</strong></p>
<p><strong>继续，</strong></p>
<p>*<em>首先，定义二维数组以及指针变量 <em>p</em></em></p>
<p><strong><code>int a[M][N],*p</code></strong></p>
<ul>
<li>
<p>这时，<strong><code>p+1 = p+sizeof(int);</code></strong> 的含义为在一维数组的层面移动一个元素</p>
</li>
<li>
<p>因此p=a是==错误==的赋值语句，因为这时a与p的计算方式不同</p>
<p><code>a+1 = a+sizeof(int)*N  //移动一行</code></p>
<p><code>p+1 = p+sizeof(int)  //移动一维数组的一个元素</code></p>
</li>
<li>
<p>所以正确赋值语句是</p>
<p><code>p = a[0];</code> //即将一维数组的首地址，&amp;a[0] [0]赋值给p</p>
</li>
<li>
<p>所以得到下表</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">a[i] [j]的地址引用</th>
<th style="text-align:center">a[i] [j]的值引用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a[i] [j]      |</td>
<td style="text-align:center">a[i] [j]     |</td>
</tr>
<tr>
<td style="text-align:center">p+i*N+j       |</td>
<td style="text-align:center">*(p+i * N+j)   |</td>
</tr>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">p[i*N+j]     |</td>
</tr>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">(a[0]+i * N+j)  |</td>
</tr>
</tbody>
</table></div>
</li>
</ul>
<hr>
<p><strong>例题：利用一般指针变量引用二维数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>},{<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>}};   <span style="color:#75715e">//定义二维数组a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i,j,<span style="color:#f92672">*</span>p<span style="color:#f92672">=</span>a[<span style="color:#ae81ff">0</span>];   <span style="color:#75715e">//定义一般指针p，p指向一维数组a[0]的第一个元素，也可写成p=&amp;a[0][0]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a[%d][%d]=%d &#34;</span>,i,j,<span style="color:#f92672">*</span>(p<span style="color:#f92672">+</span>i<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#f92672">+</span>j));   <span style="color:#75715e">//输出a[i][j]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h4 id="2-利用行指针变量来访问多维数组"><strong>2） 利用行指针变量来访问多维数组</strong>
</h4><p>​	<strong>① 二维数组的行地址和列地址：</strong></p>
<p>​	<strong><code>int a[M][N];  //假设已定义宏常量M、N</code></strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">表示形式</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">二维数组首地址，第0行首地址</td>
</tr>
<tr>
<td style="text-align:center">a+i</td>
<td style="text-align:center">第i行首地址</td>
</tr>
<tr>
<td style="text-align:center">a[i] 或 *(a+i)</td>
<td style="text-align:center">第i行第0列的元素地址</td>
</tr>
<tr>
<td style="text-align:center">a[i]+j</td>
<td style="text-align:center">第i行第j列的元素地址</td>
</tr>
</tbody>
</table></div>
<!-- raw HTML omitted -->
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">a[i] [j] 的地址引用</th>
<th style="text-align:center">a[i] [j] 的值引用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a[i] [j]</td>
<td style="text-align:center">a[i] [j]</td>
</tr>
<tr>
<td style="text-align:center">a[i]+j</td>
<td style="text-align:center">*(a[i]+j)</td>
</tr>
<tr>
<td style="text-align:center">*(a+i)+j</td>
<td style="text-align:center">*( *(a+i)+j )</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(*(a+i))[j]</td>
</tr>
</tbody>
</table></div>
<hr>
<p>​	<strong>② 通过二维数组的行指针来访问二维数组</strong></p>
<ul>
<li>
<p><strong>定义格式：</strong></p>
<p>数据类型 （*行指针变量名）[常量表达式];</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[M][N],(<span style="color:#f92672">*</span>p)[N]; <span style="color:#75715e">//p指向含N个数据的一维数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>N;  <span style="color:#75715e">//移动一行，N个整数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> p <span style="color:#f92672">+</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>N;  <span style="color:#75715e">//移动N个整数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">=</span>a;  <span style="color:#75715e">//or p=&amp;a[0];
</span></span></span></code></pre></div><ul>
<li><strong>用数组指针 p 访问a[i] [j] ：</strong></li>
</ul>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">地址</th>
<th style="text-align:center">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;a[i] [j]</td>
<td style="text-align:center">a[i] [j]</td>
</tr>
<tr>
<td style="text-align:center">p[i]+j</td>
<td style="text-align:center">*(p[i]+j)</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">p[i] [j]</td>
</tr>
<tr>
<td style="text-align:center">*(p+i)+j</td>
<td style="text-align:center">*( *(p+i)+j )</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(*(p+i))[j]</td>
</tr>
</tbody>
</table></div>
<ul>
<li><strong>例题：利用二维数组的行指针引用二维数组元素</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>},{<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>}};   <span style="color:#75715e">//定义二维数组a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i , j , (<span style="color:#f92672">*</span>p)[<span style="color:#ae81ff">3</span>];   <span style="color:#75715e">//定义行指针变量（或数组指针）p
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">=&amp;</span>a[<span style="color:#ae81ff">0</span>];             <span style="color:#75715e">//p赋值为二维数组a的数组指针，第0行指针，也可写成p=a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a[%d][%d]=%d &#34;</span>,i,j,<span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>(p<span style="color:#f92672">+</span>i)<span style="color:#f92672">+</span>j) );    <span style="color:#75715e">//通过行指针变量引用a[i][j]，还可以写成p[i][j]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);   <span style="color:#75715e">//输出一行后换行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">++</span>;           <span style="color:#75715e">//p赋值为第一行行指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,p[<span style="color:#ae81ff">0</span>][j]);    <span style="color:#75715e">//输出第一行数据类型，这时p[0]表示p对应的行指针不发生变化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="743-元素为指针的数组指针数组">7.4.3 元素为指针的数组——指针数组
</h3><ul>
<li>
<p>**指针数组：**数组元素均为指针</p>
</li>
<li>
<p><strong>定义格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">数据类型</span> <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">数组名</span>[<span style="color:#960050;background-color:#1e0010">常量表达式</span>];
</span></span></code></pre></div><hr>
</li>
<li>
<p><strong>例1：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//p是一维数组，含20个元素，每个元素是整形变量指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//即p[i] (0≤i≤20) 是指针
</span></span></span></code></pre></div><hr>
</li>
<li>
<p><strong>指针数组与数组指针的区别：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">指针数组</th>
<th style="text-align:center">数组指针</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><em>变量定义</em>* |</td>
<td style="text-align:center">int *p[20]       |</td>
<td style="text-align:center">int (*p)[20]      |</td>
</tr>
<tr>
<td style="text-align:center"><em>变量性质</em>* |</td>
<td style="text-align:center">是数组名，不可对p赋值 |</td>
<td style="text-align:center">是指针变量，可对p赋值 |</td>
</tr>
</tbody>
</table></div>
<hr>
</li>
<li>
<p><strong>例2：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>,c;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span>{<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b,<span style="color:#f92672">&amp;</span>c};  <span style="color:#75715e">//缺省的自动补为NULL
</span></span></span></code></pre></div><!-- raw HTML omitted -->
<p><strong>零指针（空指针）：</strong></p>
<p>​	指针变量的值为0的指针，该指针变量值没有意义</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//或
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> NULL;   <span style="color:#75715e">//NULL的ASCII码值为0
</span></span></span></code></pre></div><hr>
</li>
<li>
<p><strong>例3：利用指针数组对键盘输入的5个整数进行从小到大排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b,c,d,e;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j,temp,tag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span> {<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b,<span style="color:#f92672">&amp;</span>c,<span style="color:#f92672">&amp;</span>d,<span style="color:#f92672">&amp;</span>e};   <span style="color:#75715e">//定义指针数组，分别指向a,b,c,d,e
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                                   <span style="color:#75715e">//即 p[ i ] 是地址，*p[ i ]是值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;int put 5 numbers : </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d%d%d%d&#34;</span>,p[<span style="color:#ae81ff">0</span>],p[<span style="color:#ae81ff">1</span>],p[<span style="color:#ae81ff">2</span>],p[<span style="color:#ae81ff">3</span>],p[<span style="color:#ae81ff">4</span>]);       <span style="color:#75715e">//输入a,b,c,d,e变量的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)   <span style="color:#75715e">//冒泡排序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span><span style="color:#f92672">-</span>i;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(<span style="color:#f92672">*</span>p[j]<span style="color:#f92672">&gt;*</span>p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                temp<span style="color:#f92672">=*</span>p[j];
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">*</span>p[j]<span style="color:#f92672">=*</span>p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">*</span>p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tag<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Sorted: </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,<span style="color:#f92672">*</span>p[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="75-指针与字符串">7.5 指针与字符串
</h2><h3 id="751-字符指针变量表示和引用字符串">7.5.1 字符指针变量表示和引用字符串
</h3><ul>
<li>
<p><strong>字符串的表示：</strong></p>
<p>用字符数组表示字符串</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ok&#34;</span>;    <span style="color:#75715e">//用于字符数组初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;ok</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);     <span style="color:#75715e">//字符串常量，占有存储空间
</span></span></span></code></pre></div><ul>
<li>因此，可以定义一个字符指针变量指向一个字符串常量</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>
<p><strong>用字符数组表示字符串</strong></p>
<p><strong>1）字符指针定义（边定义边赋值）</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">字符指针变量名</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">字符串常量；</span>
</span></span></code></pre></div><p>​	<strong>例1：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ok!&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//定义字符指针*pstr , 并把字符串“ok!”的起始地址赋值给pstr
</span></span></span></code></pre></div><p><strong>2）字符指针定义（先定义后赋值）</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">字符指针变量名；</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">字符指针变量名</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">字符常量</span> <span style="color:#960050;background-color:#1e0010">；</span>
</span></span></code></pre></div><p>​	<strong>例2：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr;
</span></span><span style="display:flex;"><span>pstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ok!&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//把字符串“ok!”的起始地址赋值给pstr
</span></span></span></code></pre></div><!-- raw HTML omitted -->
</li>
</ul>
<hr>
<ul>
<li>
<p><strong>字符串的引用</strong></p>
<p><strong>1）单字符引用</strong></p>
<p>​		<strong><code>pstr[i]</code></strong></p>
<p><strong>2）整体引用</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> <span style="color:#a6e22e">strlen</span>(pstr);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,pstr);
</span></span></code></pre></div><p><strong>例：使用字符串指针变量按正序、逆序分别输出字符串</strong></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;I Love China!&#34;</span>;   <span style="color:#75715e">//定义指针变量，指向字符串常量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,pstr);    <span style="color:#75715e">//整体顺序输出字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(pstr)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> ; i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">--</span>)    <span style="color:#75715e">//单字符引用，逆序输出字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>,pstr[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="752-字符指针变量与字符数组之比较">7.5.2 字符指针变量与字符数组之比较
</h3><ul>
<li>
<p>没有指向有效内存的指针操作叫做野指针操作，或者空指针操作</p>
</li>
<li>
<p>**切记：**指针变量只有与内存建立联系之后才可使用，否则将造成程序运行异常，甚至导致系统崩溃</p>
</li>
<li>
<p><strong>字符指针变量和字符数组存储字符串，两者的差别为</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">字符数组<!-- raw HTML omitted -->char str[20];</th>
<th style="text-align:center">字符指针变量<!-- raw HTML omitted -->char *pstr</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><em>存储内容</em>* |</td>
<td style="text-align:center">字符串本身                          |</td>
<td style="text-align:center">字符串的首地址                      |</td>
</tr>
<tr>
<td style="text-align:center"><strong>地址值</strong>  |</td>
<td style="text-align:center">str是个地址常量<!-- raw HTML omitted -->不能进行赋值                |</td>
<td style="text-align:center">pstr是个地址变量<!-- raw HTML omitted -->可以进行赋值             |</td>
</tr>
<tr>
<td style="text-align:center"><em>赋值方式</em>* |</td>
<td style="text-align:center">）char str[20]=“ok”;  ✔<!-- raw HTML omitted -->2) str = “ok”     ❌<!-- raw HTML omitted -->3) strcpy(str,”ok”);     ✔ |</td>
<td style="text-align:center">）pstr=“ok”;✔<!-- raw HTML omitted -->2)pstr=str;✔<!-- raw HTML omitted -->3)strcpy(pstr,”ok”);❌ |</td>
</tr>
</tbody>
</table></div>
</li>
</ul>
<h3 id="753-字符串指针数组与字符串二维数组">7.5.3 字符串指针数组与字符串二维数组
</h3><ul>
<li>
<p><strong>例4：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">10</span>]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Wuhan&#34;</span>,<span style="color:#e6db74">&#34;Beijing&#34;</span>,<span style="color:#e6db74">&#34;Shanghai&#34;</span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr[<span style="color:#ae81ff">3</span>];  <span style="color:#75715e">//pstr,一维数组，3个指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>pstr[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span>str[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>pstr[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>str[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>pstr[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=</span>str[<span style="color:#ae81ff">2</span>];
</span></span></code></pre></div><!-- raw HTML omitted -->
</li>
<li>
<p><strong>定义字符指针数组时直接用字符串对其赋初始值</strong></p>
<p><strong>例5：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Wuhan&#34;</span>,<span style="color:#e6db74">&#34;Beijing&#34;</span>,<span style="color:#e6db74">&#34;Shanghai&#34;</span>};
</span></span></code></pre></div><!-- raw HTML omitted -->
</li>
<li>
<p><strong>例6：利用字符指针数组对城市名进行升序排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p[],<span style="color:#66d9ef">int</span> n);     <span style="color:#75715e">//对字符指针数组执行的城市升序排序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">out</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p[],<span style="color:#66d9ef">int</span> n);      <span style="color:#75715e">//输出城市
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pcity[ ]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Wuhan&#34;</span>,<span style="color:#e6db74">&#34;ShenZhen&#34;</span>,<span style="color:#e6db74">&#34;BeiJing&#34;</span>,<span style="color:#e6db74">&#34;ShangHai&#34;</span>,<span style="color:#e6db74">&#34;NanJing&#34;</span>};     <span style="color:#75715e">//定义字符串指针数组，分别指向各城市
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    n<span style="color:#f92672">=</span><span style="color:#66d9ef">sizeof</span>(pcity)<span style="color:#f92672">/</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>);    <span style="color:#75715e">//用sizeof计算城市个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">sort</span>(pcity,n);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">out</span>(pcity,n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p[],<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> tag,i,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>temp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">-</span>i;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>               tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>               <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(p[j],p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>])<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>               {
</span></span><span style="display:flex;"><span>                   temp<span style="color:#f92672">=</span>p[j];
</span></span><span style="display:flex;"><span>                   p[j]<span style="color:#f92672">=</span>p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                   p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>                   tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>               }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tag<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">out</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p[],<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="76-指针与动态内存分配">7.6 指针与动态内存分配
</h2><h3 id="761-动态内存分配与释放函数">7.6.1 动态内存分配与释放函数
</h3><h4 id="1-静态内存分配">1. 静态内存分配
</h4><p>​	当程序中定义变量或数组以后，系统就会给变量或数组按照其数据类型及大小来分配相应的内存单元，这种内存分配方式成为<strong>静态内存分配</strong></p>
<p>​	静态内存分配会造成空间的浪费</p>
<h4 id="2-动态内存分配">2. 动态内存分配
</h4><p>​	<strong>动态内存分配</strong>是指在程序运行过程中，根据程序的额实际需求来分配一块大小合适的连续的内存单元</p>
<ul>
<li><strong>C语言的动态内存分配函数：</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> size);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">calloc</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> num,<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> size);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">realloc</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>p.<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> size);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//需要包含头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//或
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;malloc.h&gt;</span><span style="color:#75715e">
</span></span></span></code></pre></div><ul>
<li>C语言的动态内存释放函数：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">free</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>block);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//需要包含头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//或
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;malloc.h&gt;</span><span style="color:#75715e">
</span></span></span></code></pre></div><h5 id="1-void-mallocunsigned-int-size--void-mallocsize_t-size">1) void *malloc(unsigned int size) / void *malloc(size_t size)
</h5><p>​	<strong>使用时引用头文件<code>&lt;stdlib.h&gt;</code></strong></p>
<ul>
<li>
<p>**函数功能：**分配size个字节对的内存空间</p>
</li>
<li>
<p>**返回值：**若失败，返回空指针（NULL）</p>
<p>​				若成功，返回一个指向空类型（void）的指针（即所分配内存块的首地址）</p>
</li>
<li>
<p>**空类型指针：**不指定指针变量指向哪一种类型数据，使用时要进行强制类型转换</p>
</li>
<li>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>score;
</span></span><span style="display:flex;"><span>score <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>n);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//分配n个整数的内存空间，首地址赋给score
</span></span></span></code></pre></div></li>
<li>
<p><strong>注：</strong></p>
<p>在使用内存分配函数之后，一定要检查分配的内存指针是否为空，如果是空指针，则不能引用这个指针，否则会造成系统崩溃</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>score;
</span></span><span style="display:flex;"><span>score <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>n);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(score<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;malloc error!&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h5 id="2-void-callocunsigned-int-numunsigned-int-size">2) void *calloc(unsigned int num,unsigned int size)
</h5><p>​	<strong>使用时引用头文件<code>&lt;stdlib.h&gt;</code></strong></p>
<ul>
<li>
<p>**函数功能：**分配num个内存空间，每个内存空间的字节数是size</p>
</li>
<li>
<p>**返回值：**若失败，返回空指针（NULL）</p>
<p>​				若成功，返回一个void类型的连续存储空间的首地址</p>
</li>
<li>
<p>**注：**还是需要强制类型转换</p>
</li>
<li>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>ing <span style="color:#f92672">*</span>score;
</span></span><span style="display:flex;"><span>score<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">calloc</span>(n,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(score<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;malloc error!&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h5 id="3-void-reallocvoid-punsigned-int-size">3) void *realloc(void *p,unsigned int size)
</h5><p>​	<strong>使用时引用头文件<code>&lt;stdlib.h&gt;</code></strong></p>
<ul>
<li>
<p>**函数功能：**改变原来分配的存储空间的大小</p>
</li>
<li>
<p>**返回值：**若失败，返回空指针（NULL）</p>
<p>​				若成功，返回新分配空间的首地址，该首地址与原来分配的首地址不一定相同</p>
</li>
</ul>
<h5 id="4-void-freevoid-block">4） void free(void *block)
</h5><p>​	<strong>使用时引用头文件<code>&lt;stdlib.h&gt;</code></strong></p>
<ul>
<li>**函数功能：**释放block指向的动态分配的内存单元</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#a6e22e">free</span>(score);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//score这部分的内存单元被释放，可重新被使用
</span></span></span></code></pre></div><h3 id="762-动态内存分配与释放例程">7.6.2 动态内存分配与释放例程
</h3><ul>
<li>
<p>**例：**输入n,输入n位学生成绩，输出学生的平均分、最高分和最低分。输入m，继续输入m位学生成绩，输出n+m位学生的成绩</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n,i,m;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> max,min,sum;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> avg; 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>pscore;    <span style="color:#75715e">//指针变量，存储动态分配首地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(n<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pscore<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>n);        <span style="color:#75715e">//动态分配内存，分配n个整数空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(pscore<span style="color:#f92672">==</span>NULL)        <span style="color:#75715e">//如果分配失败则返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;malloc error&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">exit</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,pscore<span style="color:#f92672">+</span>i);           <span style="color:#75715e">//或 &amp;pscore[i]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    max<span style="color:#f92672">=</span>min<span style="color:#f92672">=</span>sum<span style="color:#f92672">=</span>pscore[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(max<span style="color:#f92672">&lt;</span>pscore[i])
</span></span><span style="display:flex;"><span>            max<span style="color:#f92672">=</span>pscore[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(min<span style="color:#f92672">&gt;</span>pscore[i])
</span></span><span style="display:flex;"><span>            min<span style="color:#f92672">=</span>pscore[i];
</span></span><span style="display:flex;"><span>        sum<span style="color:#f92672">+=</span>pscore[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    avg<span style="color:#f92672">=</span>(<span style="color:#66d9ef">float</span>)sum<span style="color:#f92672">/</span>n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d %d %d %f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,max,min,sum,avg);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>pscore1;           <span style="color:#75715e">//定义指针变量pscore1用于存储扩充内存首地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>m);
</span></span><span style="display:flex;"><span>    pscore1<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">realloc</span>(pscore,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>(n<span style="color:#f92672">+</span>m));       <span style="color:#75715e">//重新分配n+m个整数空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(pscore1<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span>n;i<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span>m;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,pscore1<span style="color:#f92672">+</span>i);      <span style="color:#75715e">//继续输入m个数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">+</span>m;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,pscore1[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d %d&#34;</span>,pscore,pscore1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(pscore1);      <span style="color:#75715e">//释放空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="763-内存操作函数">7.6.3 内存操作函数
</h3><ul>
<li>
<p><strong><code>memset</code>函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;string.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>void* memset(void* s , int c , size_t n);</code></p>
<p>**功能：**将s的内存区域的前n个字节以参数c填入</p>
<p><strong>参数：</strong></p>
<p>​	**s：**需要操作内存 s 的首地址</p>
<p>​	**c：**填充的字符，c 虽然参数为 int，但必须是 unsigned char ,范围为0~255</p>
<p>​	**n：**指定需要设置的大小</p>
<p><strong>返回值：</strong> s 的首地址</p>
<p><strong>例子：</strong>
例如，下面的程序是将数组str的每个数据单元赋值为‘a’</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">memset</span>(str,<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">10</span>);
</span></span></code></pre></div><p>再例如，下面的程序是将数组a的每个数组单元赋值为0</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">memset</span>(a,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10</span><span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span></code></pre></div></li>
<li>
<p><code>memcpy</code>函数</p>
<p><strong>使用时引入头文件<code>&lt;string.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>void* mecpy(void* dest , const void* src , size_t n);</code></p>
<p><strong>参数：</strong></p>
<p>​	<code>dest</code>：目的内存首地址</p>
<p>​	<code>src</code>：源内存首地址（<strong>注意：</strong><code>dest</code>和<code>src</code>所指的内存空间不可重叠，可能会导致程序报错）</p>
<p>​	n：需要拷贝的字节数</p>
<p><strong>返回值：</strong><code>dest</code>的首地址</p>
<p><strong>与<code>strcpy</code>的区别：</strong></p>
<p>​	<code>strcpy</code>：遇到\0则停止复制</p>
<p>​	<code>memcpy</code>：与拷贝的字节数有关，与内容无关</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">10</span>},i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memcpy</span>(p,a,<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,p[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong><code>memmove</code>函数</strong></p>
<p><code>memmove()</code> 函数与 <code>memcpy() </code>函数功能用法一样，区别在于：<code>dest </code>和 <code>src</code> 所指的内存空间重叠时，<code>memmove()</code>仍能处理，不过执行效率比 <code>memcpy()</code> 低一些</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">10</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memmove</span>(<span style="color:#f92672">&amp;</span>a[<span style="color:#ae81ff">5</span>] , <span style="color:#f92672">&amp;</span>a[<span style="color:#ae81ff">3</span>] , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//使用memcpy函数时，如果拷贝的目标和源发生重叠，可能报错
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,a[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//1 2 3 4 5 4 5 6 7 8
</span></span></span></code></pre></div></li>
<li>
<p><strong><code>memcmp</code>函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;string.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int memcmp(const void* s1 , const void* s2 , size_t n);</code></p>
<p>**功能：**比较 <code>s1</code> 和 <code>s2</code> 所指向内存区域的前n个字节</p>
<p><strong>参数：</strong></p>
<p>​	<code>s1</code>：内存地址1</p>
<p>​	<code>s2</code>：内存地址2</p>
<p>​	<code>n</code>：需要比较的前n个字符</p>
<p><strong>返回值：</strong></p>
<p>​	相等：0</p>
<p>​	大于：&gt;0</p>
<p>​	小于：&lt;0</p>
<p>​</p>
</li>
</ul>
<h2 id="77-多级指针">7.7 多级指针
</h2><ul>
<li>
<p><strong>概念：</strong></p>
<p>**一级指针：**存放目标变量的地址</p>
<p>**二级指针：**存放一级指针变量的地址</p>
<p>**n级指针：**存放n-1级指针变量的地址</p>
</li>
</ul>
<h3 id="1-二级指针的定义和引用">1. 二级指针的定义和引用
</h3><ul>
<li>
<p><strong>定义：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>[<span style="color:#960050;background-color:#1e0010">存储类型</span>] <span style="color:#960050;background-color:#1e0010">数据类型</span> <span style="color:#f92672">**</span><span style="color:#960050;background-color:#1e0010">指针变量名</span>;
</span></span></code></pre></div><p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">**</span>p1;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p2;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>p2<span style="color:#f92672">=&amp;</span>i;
</span></span><span style="display:flex;"><span>p1<span style="color:#f92672">=&amp;</span>p2;
</span></span></code></pre></div><!-- raw HTML omitted -->
<p>上例中对目标变量i的值引用：</p>
<p>1）<strong>直接引用</strong>，i=3;</p>
<p>2）<strong>通过一级指针间接引用</strong>，*p2 = 3;</p>
<p>3）<strong>通过二级指针二级间接引用</strong>，**p1 = 3;</p>
<p><code>*p1 = p2 = &amp;i</code></p>
</li>
</ul>
<h3 id="2-二级指针的应用">2. 二级指针的应用
</h3><p><strong>主要就是用指针的方法定义动态内存分配，然后以数组的方式进行应用</strong></p>
<ul>
<li>
<p>**例2：**利用二级指针处理字符串</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pcity[ ] <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Wuhan&#34;</span>,<span style="color:#e6db74">&#34;ShenZhen&#34;</span>,<span style="color:#e6db74">&#34;BeiJing&#34;</span>,<span style="color:#e6db74">&#34;Shanghai&#34;</span>,<span style="color:#e6db74">&#34;NanJing&#34;</span>,<span style="color:#e6db74">&#34;&#34;</span>};
</span></span><span style="display:flex;"><span>                                <span style="color:#75715e">//pcity[i]是一级指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n<span style="color:#f92672">=</span><span style="color:#66d9ef">sizeof</span>(pcity)<span style="color:#f92672">/</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>);  <span style="color:#75715e">//计算pcity的数组大小
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">=</span>pcity<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;                                    <span style="color:#75715e">//p指向pcity[1]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%x %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">*</span>p,<span style="color:#f92672">*</span>p);        <span style="color:#75715e">//输出pcity[1]的值，pcity[1]指向的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">+=</span><span style="color:#ae81ff">2</span>;                       <span style="color:#75715e">//p指向pcity[3]的地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">**</span>p<span style="color:#f92672">!=</span>NULL)        <span style="color:#75715e">//二级引用指向的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s &#34;</span>,<span style="color:#f92672">*</span>p<span style="color:#f92672">++</span>);         <span style="color:#75715e">//输出字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
<li>
<p>**例3：**利用二级指针实现n行m列二维数组的动态分配，并输入n行m列数据，计算每行的和</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> <span style="color:#f92672">**</span>a,<span style="color:#f92672">*</span>sum;         <span style="color:#75715e">//二级指针存储二维数组首地址，一级指针sum存储每行和
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> n,m,i,j;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;input n,m:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>m);            <span style="color:#75715e">//输入数组大小
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">=</span>(<span style="color:#66d9ef">float</span> <span style="color:#f92672">**</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span> <span style="color:#f92672">*</span>)<span style="color:#f92672">*</span>n);      <span style="color:#75715e">//动态分配n个元素的一维数组，每个元素是指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">==</span>NULL)                
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>       {
</span></span><span style="display:flex;"><span>           a[i]<span style="color:#f92672">=</span>(<span style="color:#66d9ef">float</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span>)<span style="color:#f92672">*</span>m);       <span style="color:#75715e">//对每个元素a[i] , 动态分配一维数组，含m个浮点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           <span style="color:#66d9ef">if</span>(a[i]<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>       } 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sum<span style="color:#f92672">=</span>(<span style="color:#66d9ef">float</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span>)<span style="color:#f92672">*</span>n);       <span style="color:#75715e">//动态分配一维数组，n个浮点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)                        
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>m;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%f&#34;</span>,<span style="color:#f92672">&amp;</span>a[i][j]);
</span></span><span style="display:flex;"><span>            sum[i]<span style="color:#f92672">+=</span>a[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;result : </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span>m;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%10.1f&#34;</span>,a[i][j]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%10.1f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,sum[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(sum);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="78-指针作为函数参数">7.8 指针作为函数参数
</h2><h4 id="781-指针作为函数参数">7.8.1 指针作为函数参数
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//将两个值通过函数进行互换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b;
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">swap</span>(<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>Px,<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>py)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp;
</span></span><span style="display:flex;"><span>    temp<span style="color:#f92672">=*</span>px;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>px<span style="color:#f92672">=*</span>py;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>py<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="782-函数传数组">7.8.2 函数传数组
</h4><ul>
<li>
<p>地址可以是数组首地址，因此传址也可以是传数组</p>
</li>
<li>
<p><strong>例2：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>a,<span style="color:#66d9ef">int</span> n);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(<span style="color:#66d9ef">int</span> a[],<span style="color:#66d9ef">int</span> n);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//两者传递虚参相同，数组a和整数n
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//函数功能为，对数组a的n个数据进行排列
</span></span></span></code></pre></div></li>
<li>
<p>**例3：**编写一个函数alltrim用于去掉字符串的前导空格和后续空格</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">alltrim</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>psstr,<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>psdstr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">alltrim</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>psstr,<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pdstr)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstart,<span style="color:#f92672">*</span>pend;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//将pstart指向左边第一个非空格字符的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    pstart<span style="color:#f92672">=</span>psstr;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">*</span>pstart<span style="color:#f92672">==</span><span style="color:#e6db74">&#39; &#39;</span>)
</span></span><span style="display:flex;"><span>        pstart<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//将pend指向右边第一个非空格字符的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    pend<span style="color:#f92672">=</span>psstr<span style="color:#f92672">+</span><span style="color:#a6e22e">strlen</span>(psstr)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(pend<span style="color:#f92672">&gt;</span>pstart <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">*</span>pend<span style="color:#f92672">==</span><span style="color:#e6db74">&#39; &#39;</span>)
</span></span><span style="display:flex;"><span>        pend<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//psstr所指向的字符至pend所指向的字符复制至pdstr中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(pstart<span style="color:#f92672">&lt;=</span>pend)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span>pdstr<span style="color:#f92672">++</span> <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>pstart<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>pdstr<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\0&#39;</span>;            <span style="color:#75715e">//结尾加字符串结束符\0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr,str[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>    pstr<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;   Good bye!    &#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,pstr);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alltrim</span>(pstr,str);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,str);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>指针参数的常态：</strong></p>
<ol>
<li>
<p>形参指针所指向的内存单元是常态</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>p<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;	<span style="color:#75715e">//编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">=</span>a;	<span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//可以改变p的值，但是不可以改变*p的值
</span></span></span></code></pre></div></li>
<li>
<p>形参指针本身是常态</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> <span style="color:#66d9ef">const</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>p<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;	<span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">=</span>a;	<span style="color:#75715e">//编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
</ol>
</li>
</ul>
<h2 id="79-指针作为函数的返回值指针函数">7.9 指针作为函数的返回值——指针函数
</h2><ul>
<li>
<p><strong>返回指针的函数称为指针函数</strong></p>
</li>
<li>
<p><strong>指针函数的定义：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">函数类型</span> <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">函数名（参数列表）</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">类型</span> <span style="color:#f92672">*</span>p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(p);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>注意：<strong>返回的指针</strong>可以是</strong>动态堆地址、全局或静态变量的地址，但<strong>不能</strong>是局部指针变量</p>
</li>
<li>
<p>例1：动态分配的指针变量</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">CreatStr</span>(<span style="color:#66d9ef">char</span> ch,<span style="color:#66d9ef">int</span> n)	<span style="color:#75715e">//构造字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pstr;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pstr<span style="color:#f92672">=</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span>(n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>));	<span style="color:#75715e">//动态分配内存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(pstr<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;malloc error!&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">exit</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)	<span style="color:#75715e">//数组pstr赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pstr[i]<span style="color:#f92672">=</span>ch;
</span></span><span style="display:flex;"><span>    pstr[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;			<span style="color:#75715e">//最后赋值0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> pstr;		<span style="color:#75715e">//返回字符串的首地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>列2：返回静态地址或全局地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">CreatStr</span>(<span style="color:#66d9ef">char</span> ch,<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">char</span> pstr[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        pstr[i]<span style="color:#f92672">=</span>ch;
</span></span><span style="display:flex;"><span>    pstr[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> pstr;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<p>1.若有语句：char s1[]=&ldquo;string1&rdquo;,s2[8],* s3,*s4=&ldquo;string2&rdquo;; 则对库函数strcpy的错误调用是___==C==_</p>
<p>A.strcpy(s1,&ldquo;string2&rdquo;);</p>
<p>B.s4 = s2; strcpy(s4,&ldquo;string1&rdquo;);</p>
<p>C.strcpy(s3,&ldquo;string1&rdquo;);</p>
<p>D.strcpy(s2,s1);</p>
<p>字符指针定义的时候没有初始化不分配内存空间，strcpy 是将字符串放到一个空间中，所以C选项*s3没有分配空间，也就是常说的野指针，字符串你要放到哪里去，它都没分配空间。</p>
<p>所有指针仅仅进行声明定义，编译的时候不分配给它空间。</p>
<h1 id="8复合类型">8.复合类型
</h1><h2 id="81-结构体">8.1 结构体
</h2><h3 id="811-结构体变量的定义和初始化">8.1.1 结构体变量的定义和初始化
</h3><p><strong>定义结构体变量的方式</strong></p>
<ul>
<li>
<p>先声明结构体类型再定义变量名</p>
</li>
<li>
<p>在声明类型的同时定义变量</p>
</li>
<li>
<p>直接定义结构体类型变量（无类型名）</p>
<p><img src="C:/Users/carp/OneDrive/%e6%a1%8c%e9%9d%a2/C%e8%af%ad%e8%a8%80/%e5%9b%be%e7%89%87/%e5%be%ae%e4%bf%a1%e5%9b%be%e7%89%87_20240216203610.png"
	
	
	
	loading="lazy"
	
		alt="微信图片_20240216203610"
	
	
></p>
</li>
</ul>
<p><strong>例子：</strong></p>
<p>方式一：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student stu;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(stu.name, <span style="color:#e6db74">&#34;张三&#34;</span>);
</span></span><span style="display:flex;"><span>    stu.age <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span> ;
</span></span><span style="display:flex;"><span>    stu.score <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(stu.addr, <span style="color:#e6db74">&#34;北京市昌平区&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;地址：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.addr);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">姓名：张三</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">年龄：</span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">成绩：</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">地址：北京市昌平区</span>
</span></span></code></pre></div><p>方式二：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    struct student stu;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    strcpy(stu.name, &#34;张三&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    stu.age = 18 ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    stu.score = 100;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    strcpy(stu.addr, &#34;北京市昌平区&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student stu <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;张三&#34;</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">100</span>,<span style="color:#e6db74">&#34;北京市昌平区&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;地址：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.addr);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">姓名：张三</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">年龄：</span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">成绩：</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">地址：北京市昌平区</span>
</span></span></code></pre></div><p>方式三：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>}stu;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    struct student stu;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">strcpy</span>(stu.name, <span style="color:#e6db74">&#34;张三&#34;</span>);
</span></span><span style="display:flex;"><span>    stu.age <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span> ;
</span></span><span style="display:flex;"><span>    stu.score <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(stu.addr, <span style="color:#e6db74">&#34;北京市昌平区&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    struct student stu = {&#34;张三&#34;,18,100,&#34;北京市昌平区&#34;};
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;地址：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.addr);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">姓名：张三</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">年龄：</span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">成绩：</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">地址：北京市昌平区</span>
</span></span></code></pre></div><p>方式四：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>}stu <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;张三&#34;</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">100</span>,<span style="color:#e6db74">&#34;北京市昌平区&#34;</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    struct student stu;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    strcpy(stu.name, &#34;张三&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    stu.age = 18 ;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    stu.score = 100;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    strcpy(stu.addr, &#34;北京市昌平区&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    struct student stu = {&#34;张三&#34;,18,100,&#34;北京市昌平区&#34;};
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;地址：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.addr);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>方式五：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student stu;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s%d%d%s&#34;</span>,stu.name , <span style="color:#f92672">&amp;</span>stu.age , <span style="color:#f92672">&amp;</span>stu.score , stu.addr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;地址：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.addr);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">张三</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">北京市</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">姓名：张三</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">年龄：</span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">成绩：</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">地址：北京市</span>
</span></span></code></pre></div><h3 id="812-结构体数组">8.1.2 结构体数组
</h3><ul>
<li>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student stu[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;李某&#34;</span> , <span style="color:#ae81ff">18</span> , <span style="color:#e6db74">&#39;m&#39;</span> ,<span style="color:#ae81ff">15</span> , <span style="color:#ae81ff">18</span> , <span style="color:#ae81ff">90</span> , <span style="color:#e6db74">&#34;北京&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;黄某&#34;</span>, <span style="color:#ae81ff">17</span> , <span style="color:#e6db74">&#39;w&#39;</span> , <span style="color:#ae81ff">58</span> , <span style="color:#ae81ff">91</span> , <span style="color:#ae81ff">90</span> , <span style="color:#e6db74">&#34;东北&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, stu[<span style="color:#ae81ff">1</span>].name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].sex);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].score[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].score[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].score[<span style="color:#ae81ff">2</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[<span style="color:#ae81ff">1</span>].addr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">黄某</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>w
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">58</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">91</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">90</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">东北</span>
</span></span></code></pre></div></li>
<li>
<p><strong>结构体数组排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student stu[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;李某&#34;</span>, <span style="color:#ae81ff">18</span>, <span style="color:#e6db74">&#39;m&#39;</span>,<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">90</span>, <span style="color:#e6db74">&#34;北京&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;黄某&#34;</span>, <span style="color:#ae81ff">17</span>, <span style="color:#e6db74">&#39;w&#39;</span>, <span style="color:#ae81ff">58</span>, <span style="color:#ae81ff">91</span>, <span style="color:#ae81ff">90</span>, <span style="color:#e6db74">&#34;东北&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;陈某&#34;</span>, <span style="color:#ae81ff">20</span>, <span style="color:#e6db74">&#39;w&#39;</span>, <span style="color:#ae81ff">78</span>, <span style="color:#ae81ff">90</span>, <span style="color:#ae81ff">91</span>, <span style="color:#e6db74">&#34;广东&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span><span style="color:#f92672">-</span>i ; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(stu[j].age <span style="color:#f92672">&lt;</span> stu[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>].age)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">struct</span> student temp <span style="color:#f92672">=</span> stu[j];
</span></span><span style="display:flex;"><span>                stu[j] <span style="color:#f92672">=</span> stu[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                stu[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, stu[i].name);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].age);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].sex);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].score[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].score[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].score[<span style="color:#ae81ff">2</span>]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].addr);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>使用指针表示结构体，并开辟堆空间</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> student <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> student)<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//或者
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student ss;
</span></span><span style="display:flex;"><span>ss<span style="color:#f92672">*</span> p<span style="color:#f92672">=</span> (ss<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(ss)<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>);
</span></span></code></pre></div></li>
</ul>
<h3 id="813-结构体嵌套结构体">8.1.3 结构体嵌套结构体
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> score
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> chinese;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> english;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> math;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> score ss;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="814-结构体和指针">8.1.4 结构体和指针
</h3><ul>
<li>
<p><strong>结构体指针</strong></p>
<p>结构体指针-&gt;成员</p>
<p>结构体变量.成员</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student ss <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;林冲&#34;</span>, <span style="color:#ae81ff">30</span> , <span style="color:#ae81ff">100</span> , <span style="color:#e6db74">&#34;汴京&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> student <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>ss;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,(<span style="color:#f92672">*</span>p).name);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,(<span style="color:#f92672">*</span>p).age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,(<span style="color:#f92672">*</span>p).score);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,(<span style="color:#f92672">*</span>p).addr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//方式二   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//  printf(&#34;%s\n&#34;,p-&gt;name);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//  printf(&#34;%d\n&#34;,p-&gt;age);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//  printf(&#34;%d\n&#34;,p-&gt;score);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//  printf(&#34;%s\n&#34;,p-&gt;addr);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">林冲</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">汴京</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="815-结构体作为函数参数">8.1.5 结构体作为函数参数
</h3><h4 id="结构体普通变量做函数参数">结构体普通变量做函数参数
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>} ss;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>(ss stu)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(stu.name, <span style="color:#e6db74">&#34;武松&#34;</span>); <span style="color:#75715e">// 形参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ss stu <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;林冲&#34;</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#34;汴京&#34;</span>}; 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fun</span>(stu);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);  <span style="color:#75715e">//实参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">林冲</span>
</span></span></code></pre></div><h4 id="结构体指针变量做函数参数">结构体指针变量做函数参数
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>} ss;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>(ss stu)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//如果不想改变原本stu.name的值,则加入这句
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//stu.name = (char*)malloc(sizeof(char)*21);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">strcpy</span>(stu.name, <span style="color:#e6db74">&#34;武松&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ss stu <span style="color:#f92672">=</span> {NULL, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#34;汴京&#34;</span>};
</span></span><span style="display:flex;"><span>    stu.name <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">21</span>); <span style="color:#75715e">//因为strucut中name是指针类型 所以要设置动态内存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">strcpy</span>(stu.name , <span style="color:#e6db74">&#34;林冲&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fun</span>(stu); <span style="color:#75715e">//stu.name传递的是指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span></code></pre></div><p>例二</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> addr[<span style="color:#ae81ff">51</span>];
</span></span><span style="display:flex;"><span>} ss;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>(ss <span style="color:#f92672">*</span>p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(p<span style="color:#f92672">-&gt;</span>name, <span style="color:#e6db74">&#34;武松&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,p<span style="color:#f92672">-&gt;</span>name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ss stu <span style="color:#f92672">=</span> {NULL, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#34;汴京&#34;</span>};
</span></span><span style="display:flex;"><span>    stu.name <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">21</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(stu.name , <span style="color:#e6db74">&#34;林冲&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fun</span>(<span style="color:#f92672">&amp;</span>stu);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu.name);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span></code></pre></div><h4 id="结构体数组名做函数参数">结构体数组名做函数参数
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>} ss;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort</span>(ss<span style="color:#f92672">*</span> p , <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j ,tag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>n ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">-</span>i ;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(p[j].age <span style="color:#f92672">&lt;</span> p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>].age)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                ss temp <span style="color:#f92672">=</span>p[j];
</span></span><span style="display:flex;"><span>                p[j] <span style="color:#f92672">=</span> p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                p[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>                tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tag<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ss stu[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;武松&#34;</span>, <span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;宋江&#34;</span> ,  <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;林冲&#34;</span>, <span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sort</span>(stu,<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stu[i].name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">林冲</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">宋江</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">武松</span>
</span></span></code></pre></div><h4 id="const-修饰结构体指针形参变量">const 修饰结构体指针形参变量
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">50</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>}stu;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun1</span>(stu <span style="color:#f92672">*</span> <span style="color:#66d9ef">const</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//p = NULL //error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>age <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#75715e">//correct
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun2</span>(stu <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> NULL <span style="color:#75715e">//correct
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//p -&gt; age =10 //error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun3</span>(<span style="color:#66d9ef">const</span> stu <span style="color:#f92672">*</span><span style="color:#66d9ef">const</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//p = NULL //error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//p -&gt; age =10 //error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="82-联合体">8.2 联合体
</h2><ul>
<li>
<p>联合 union 是一个能在同一个存储空间存储不同类型数据的类型</p>
</li>
<li>
<p>联合体所占的内存长度等于其最长成员的长度倍数（如果最大成员的长度不是最大类型长度的倍数，则联合体内存长度是大于最大成员长度的最大类型长度的倍数）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">union</span> Var
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> d;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">short</span> f[<span style="color:#ae81ff">6</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//最大成员的长度是short f[6],长度为12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//但是最大类型是double，长度为8，12不是8的倍数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//所以最终联合体的内存长度是16
</span></span></span></code></pre></div></li>
<li>
<p>同一内存段可以用来存放几种不同类型的成员，但每一瞬间只有一种起作用</p>
</li>
<li>
<p>共用体变量中起作用的成员是最后一次存放的成员，在存入一个后原有的成员的值会被覆盖</p>
</li>
<li>
<p>共用体变量的地址和它的各成员的地址都是同一个地址</p>
</li>
</ul>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">union</span> Var
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> d;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">short</span> f;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">union</span> Var var ;
</span></span><span style="display:flex;"><span>    var.a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    var.b<span style="color:#f92672">=</span><span style="color:#ae81ff">3.14</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,var.a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,var.b);  <span style="color:#75715e">//共用体变量中起作用的成员是最后一次存放的成员
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>						   <span style="color:#75715e">//在存入一个后原有的成员的值会被覆盖
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>var);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>var.a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>var.b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>var.c); <span style="color:#75715e">//共用体变量的地址和它的各成员的地址都是同一个地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1078523331</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3.140000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">000000000061F</span>E18
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">000000000061F</span>E18
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">000000000061F</span>E18
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">000000000061F</span>E18
</span></span></code></pre></div><h2 id="83-枚举">8.3 枚举
</h2><ul>
<li>
<p>**概念：**将变量的值一一列举出来，变量的值只限于列举出来的值的范围内</p>
</li>
<li>
<p><strong>枚举类型定义：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#960050;background-color:#1e0010">枚举名</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">枚举值表</span>  
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>枚举值表中应列出所有可用值，也称为枚举元素</li>
<li>枚举值是常量，不能在程序中用赋值语句再对它赋值</li>
<li>枚举元素本身由系统定义了一个表示序号的数值从0开始顺序定义为0，1，2……</li>
</ul>
</li>
<li>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> Color
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    red,blue<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>,green
</span></span><span style="display:flex;"><span>} ;  <span style="color:#75715e">//rea代表0 blue代表10 green代表11
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>value);<span style="color:#75715e">//如果输入1，则输出“红色”；输入10，则输出“蓝色”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">switch</span>(value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> red:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;红色</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> blue:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;蓝色</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> green:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;绿色</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="84-typedef">8.4 typedef
</h2><ul>
<li>
<p>typedef 为C语言的关键字</p>
</li>
<li>
<p>**作用：**为一种数据类型（基本类型或自定义数据类型）定义一个新名字，不能创建新类型，（<strong>类似于重命名</strong>）</p>
</li>
<li>
<p>与 <code>#define</code> 不同 ， typedef仅限于数据类型，而不是表达式或具体的值</p>
</li>
<li>
<p><code>#define </code>发生在预处理，typedef发生在编译阶段</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">int</span> ui;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span>  <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> ull;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>}stu;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ui a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    ull b <span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>    stu mike;
</span></span><span style="display:flex;"><span>    mike.age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,mike.age);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%llu</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">18</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span>
</span></span></code></pre></div></li>
</ul>
<h1 id="9-文件操作">9. 文件操作
</h1><h2 id="91-概述">9.1 概述
</h2><h3 id="911-磁盘文件和设备文件">9.1.1 磁盘文件和设备文件
</h3><ul>
<li>
<p><strong>磁盘文件：</strong></p>
<p>指一组相关数据的有序集合，通常存储在外部介质（如磁盘）上，使用时才调入内存</p>
</li>
<li>
<p><strong>设备文件：</strong></p>
<p>在操作系统中把每一个与主机相连的输入、输出设备看作是一个文件，把它们的输入、输出等同于对磁盘文件的读和写</p>
</li>
</ul>
<h2 id="92-文件的打开和关闭">9.2 文件的打开和关闭
</h2><h3 id="921-文件指针">9.2.1 文件指针
</h3><p>在C语言中用一个指针变量指向一个文件，这个指针称为文件指针</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">short</span> level;              <span style="color:#75715e">//缓冲区“满”或者“空”的程度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> flags;      <span style="color:#75715e">//文件状态标志
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> fd;                  <span style="color:#75715e">//文件描述符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> hold;     <span style="color:#75715e">//如无缓冲区不读取字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">short</span> bsize;        <span style="color:#75715e">//缓冲区大小
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>buffer;      <span style="color:#75715e">//数据缓冲区的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> ar;        <span style="color:#75715e">//指针，当前的指向
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> istemp;        <span style="color:#75715e">//临时文件，指示器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">short</span> token;        <span style="color:#75715e">//用于有效性的检查
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            
</span></span><span style="display:flex;"><span>}FILE;
</span></span></code></pre></div><p>FILE是系统使用 typedef 定义出来的有关文件信息的一种结构体类型，结构中含有文件名、文件状态、和文件当前位置等信息</p>
<p><strong>使用 FILE 时需要引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p>C 语言中有三个特殊的文件指针由系统默认打开，用户无需定义即可使用：</p>
<ul>
<li><strong><code>stdin</code></strong>：标准输入，默认为当前终端（键盘），我们使用的<code>scanf</code>、<code>getchar</code> 函数默认从此终端获得数据</li>
<li><strong><code>stdout</code></strong>：标准输出，默认为当前终端（屏幕），我们使用的<code>printf</code> 、<code>puts</code> 函数默认输出信息到此终端</li>
<li><strong><code>stderr</code></strong>：标准出错，默认为当前终端（屏幕），我们使用的<code>perror</code>函数默认输出信息到此终端</li>
</ul>
<h3 id="922-文件的打开">9.2.2 文件的打开
</h3><p>任何文件使用之前必须打开：</p>
<p><strong>使用时引入头文件<code>#include&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>FILE* fopen(const char* filename , const char* mode);</code></p>
<p>​			<strong><code>FILE* p = fopen(&quot;D:/a.txt&quot;,&quot;r&quot;);</code></strong></p>
<p>**功能：**打开文件</p>
<p><strong>参数：</strong></p>
<p>​	<strong><code>filename</code></strong>：需要打开的文件名，根据需要加上路径</p>
<p>​	<strong><code>mode</code></strong>：打开文件的模式设置</p>
<p><strong>返回值：</strong></p>
<p>​	成功：返回文件指针</p>
<p>​	失败：返回NULL</p>
<p><strong>打不开文件的几种原因：</strong></p>
<ul>
<li>找不到文件</li>
<li>文件权限限制（读 写 执行）</li>
<li>程序打开文件超出上限</li>
</ul>
<p><strong>第一个参数的几种形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span>NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//相对路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//打开当前目录passdw文件，源文件（源程序）所在目录
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;pssswd.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//打开当前目录（test）下passdw文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;./test/passwd.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//打开当前目录的上一级目录（相对当前目录）passdw文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;../passwd.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//绝对路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//打开C盘test目录下一个叫passdw文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;c:/test/passwd.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span></code></pre></div><p><strong>第二个参数的几种形式（打开文件的方式）：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>打开模式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>r 或 rb</td>
<td>以只读方式打开一个文本文件（不创建文件，若文件不存在则报错）</td>
</tr>
<tr>
<td>w 或 wb</td>
<td>以写入方式打开文件（如果文件存在则清空文件，文件不存在则创建一个文件）</td>
</tr>
<tr>
<td>a 或 ab</td>
<td>以追加方式打开文件，在末尾添加内容，若文件不存在则创建文件</td>
</tr>
<tr>
<td>r+ 或 rb+</td>
<td>以可读、可写的方式打开文件（不创建新文件）</td>
</tr>
<tr>
<td>w+ 或 wb+</td>
<td>以可读、可写的方式打开文件（如果文件存在则清空文件，文件不存在则创建一个文件）</td>
</tr>
<tr>
<td>a+ 或 ab+</td>
<td>以添加方式打开文件，打开文件并在末尾更改文件，托文件不存在则创建文件</td>
</tr>
</tbody>
</table></div>
<p>注意：</p>
<ul>
<li>b 是二进制模式的意思，b 只是在Windows 有效，在 Linux 用 r 和 rb 的结果是一样的</li>
<li>Unix 和 Linux 下所有的文本文件行都是 \n 结尾 ，而Windows 所有的文本文件行都是 \r\n 结尾</li>
<li>在 Windows 平台下，以 “文本” 方式打开文件，不加 b：
<ul>
<li>在读取文件的时候，系统会将所有的 “\r\n” 转换成 “\n”</li>
<li>在写入文件的时候，系统会将 “\n” 转换成 “\r\n” 写入</li>
<li>以 “二进制” 方式打开文件，则读 \n 写都不会进行这样的转换</li>
</ul>
</li>
</ul>
<h3 id="923-文件的关闭">9.2.3 文件的关闭
</h3><p>任何文件在使用后都应该关闭：</p>
<ul>
<li>打开的文件会占用内存资源，如果总是打开不关闭，会消耗很多内存</li>
<li>一个进程同时打开的文件数是有限制的，超过最大同时打开文件数，再次调用 fopen 打开文件会失败</li>
<li>如果没有明确的调用 fclose 关闭打开的文件，那么程序在退出的时候，操作系统会同意关闭</li>
</ul>
<p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fclose(FILE* stream)</code></p>
<p>​			<strong><code>fclose(fp1);</code></strong></p>
<p>**功能：**关闭先前 <code>fopen()</code> 打开的文件，此动作让缓冲区的数据写入文件中，并释放系统所提供的文件资源</p>
<p><strong>参数：</strong></p>
<p>​	<code>stream</code>：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：返回0</p>
<p>​	失败：返回-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件打开失败</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件成功打开</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="93-文件的顺序读写">9.3 文件的顺序读写
</h2><h3 id="931-按照字符读写文件-fgetc-feof-fputc">9.3.1 按照字符读写文件 fgetc 、feof、 fputc
</h3><h4 id="1-写文件-fputc">1) 写文件 fputc
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fputc(int ch , FILE* stream);</code></p>
<p>​			<strong><code>fputc(ch , fp1);</code></strong></p>
<p>**功能：**将ch转换成unsigned char后写入stream指定的文件中</p>
<p><strong>参数：</strong></p>
<p>​	ch：需要写入文件的字符</p>
<p>​	stream：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：成功写入文件的字符</p>
<p>​	失败：返回-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//以写的方式打开文件，如果文件不存在会创建一个新文件，如果文件存在，会清空内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//字符写入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fputc</span>(ch , fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//手动输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件打开失败&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>,<span style="color:#f92672">&amp;</span>ch);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ch <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;@&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputc</span>(ch,fp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="2-文件结尾-feof">2) 文件结尾 feof
</h4><p>在 C 语言中，<code>EOF</code> 表示文件结束符（end of file）。在 while 循环中以 <code>EOF</code> 作为文件结束标志，<strong>这种以 <code>EOF</code> 作为文件结束标志的文件，必须是文本文件</strong>。在文本文件中，数据都是以字符的ASCII代码值的形式存放。我们知道，ASCII代码值的范围是0~127，不可能出现-1，因此可以用 <code>EOF</code> 作为文件结束标志</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#define EOF (-1)
</span></span></span></code></pre></div><p>把数据以二进制形式存放到文件中时，就会有 -1 值的出现，因此不能采用 <code>EOF</code> 作为二进制文件的结束标志。为解决这个问题，ANSI C 提供一个 <code>feof</code> 函数，用来判断文件是否结束。<strong><code>feof</code> 函数既可用以判断二进制文件又可用以判断文本文件</strong></p>
<p><strong>使用时应引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int feof(FILE* stream);</code></p>
<p>​			<strong><code>feof(fp1);</code></strong></p>
<p>**功能：**检测是否读取到了文件结尾，判断的时最后一次 “读操作的内容”，不是当前位置内容（上一个内容）</p>
<p><strong>参数：</strong></p>
<p>​	stream：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	非0值：已经到文件结尾</p>
<p>​	0：没有到文件结尾</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);   <span style="color:#75715e">//打开文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>);  <span style="color:#75715e">//定义载体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">feof</span>(fp))  <span style="color:#75715e">//逐行读取字符串并输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(p , <span style="color:#ae81ff">0</span> , <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fgets</span>(p , <span style="color:#ae81ff">100</span> , fp);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="3-读文件-fgetc">3） 读文件 fgetc
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fgetc(FILE* stream);</code></p>
<p>​			<strong><code>ch = fgetc(fp1);</code></strong></p>
<p>**功能：**从 stream 指定的文件中读取一个字符</p>
<p><strong>参数：</strong></p>
<p>​	stream：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：返回读取到的字符</p>
<p>​	失败：返回-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>p)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件打开失败&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    ch <span style="color:#f92672">=</span> <span style="color:#a6e22e">fgetc</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="4文件加密解密">4)文件加密解密
</h4><p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/原.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/加密.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!*</span>p1 <span style="color:#f92672">||</span> <span style="color:#f92672">!*</span>p2)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;error&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((ch<span style="color:#f92672">=</span><span style="color:#a6e22e">fgetc</span>(p1)) <span style="color:#f92672">!=</span> EOF)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ch<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputc</span>(ch,p2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="932-按照行读写文件-fgets--fputs">9.3.2 按照行读写文件 fgets 、 fputs
</h3><h4 id="1-写文件-fputs">1) 写文件 fputs
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fputs(const char* str , FILE* stream);</code></p>
<p>​			<strong><code>fputs(ch , fp1);</code></strong></p>
<p>**功能：**将 <code>str</code> 所指定的字符串写入到 stream 指定的文件中，字符串结束符 ‘\0’ 不写入文件</p>
<p><strong>参数：</strong></p>
<p>​	str：字符串</p>
<p>​	stream：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>p)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;这是一个很好的人&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fputs</span>(ch , p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>键盘输入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ch <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">1024</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(ch,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1024</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%[^</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">]&#34;</span>,ch);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">getchar</span>();  <span style="color:#75715e">//吞噬回车
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//停止输入命令
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">strcmp</span>(ch,<span style="color:#e6db74">&#34;comm=exit&#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">strcat</span>(ch,<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);    <span style="color:#75715e">//追加\n
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputs</span>(ch,fp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="2-读文件-fgets">2) 读文件 fgets
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>char* fgets(char* s , int size , FILE* stream);</code></p>
<p>​			<strong><code>fgets(p , sizeof(char)*100 , fp);</code></strong></p>
<p>**功能：**从 stream 指定的文件内读入字符，保存到 s 所指定的内存空间，直到出现换行字符 ‘\n’、读到文件结尾或是已读了（size-1）个字符位置，最后会自动加上字符 ‘\0’ 作为字符串结束</p>
<p><strong>参数：</strong></p>
<p>​	s：字符串</p>
<p>​	size：指定最大读取字符串的长度（size-1）</p>
<p>​	stream：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：成功读取的字符串</p>
<p>​	督导文件尾或出错：NULL</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);   <span style="color:#75715e">//打开文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>);  <span style="color:#75715e">//定义载体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//feof()函数 可以判断文件是否到结尾，可以判断文本文件也可以判断二进制文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//如果到文件结尾 返回值为非0的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//反之 返回0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">feof</span>(fp))  <span style="color:#75715e">//逐行读取字符串并输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(p , <span style="color:#ae81ff">0</span> , <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fgets</span>(p , <span style="color:#ae81ff">100</span> , fp);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="3-练习-四则运算">3) 练习 四则运算
</h4><p>对一个文本文件输入100个随机的四则运算的算式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> opt
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    add,sub,mlt,dive
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>((<span style="color:#66d9ef">size_t</span>)<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>p)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>ch<span style="color:#f92672">=</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> t<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>,a,b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(t<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        b <span style="color:#f92672">=</span> <span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(<span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> add:c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;+&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> sub:c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> mlt:c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> dive:c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(ch , <span style="color:#ae81ff">0</span> ,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(ch , <span style="color:#e6db74">&#34;%d%c%d=</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,c,b);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputs</span>(ch , p);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>计算出这100个算式的结果并存入另一个文本文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/b.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>fp2)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b,t<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>,sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(t<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(p , <span style="color:#ae81ff">0</span> , <span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fgets</span>(p,<span style="color:#ae81ff">20</span>,fp1);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sscanf</span>(p , <span style="color:#e6db74">&#34;%d%c%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>c,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(c)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">+</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">-</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;*&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">*</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">/</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(p,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(p , <span style="color:#e6db74">&#34;%d%c%d=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,c,b,sum);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputs</span>(p,fp2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="934-按照格式化读写文件-fprintffscanf">9.3.4 按照格式化读写文件 fprintf、fscanf
</h3><h4 id="1-写文件-fprintf">1） 写文件 fprintf()
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fprintf(FILE* stream , const char* format,……);</code></p>
<p>​			<strong><code>fprintf(fp1 , “%d%c%d=” , a , b , c );</code></strong></p>
<p>**功能：**根据参数 format 字符串来转换并格式化数据，然后将结果输出到 stream 指定的文件中，直到出现字符串结束符 ‘\0’ 为止</p>
<p><strong>参数：</strong></p>
<p>​	stream：已经打开的文件</p>
<p>​	format：字符串格式，用法和 <code>printf </code>一样</p>
<p><strong>返回值：</strong></p>
<p>​	成功：实际写入文件的字符个数</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<p>1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello world&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(fp , <span style="color:#e6db74">&#34;%s&#34;</span> , ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(fp , <span style="color:#e6db74">&#34;%05d&#34;</span> , a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="2-读文件-fscanf">2） 读文件 fscanf()
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fscanf(FILE* stream , const char* format,…);</code></p>
<p>​			<strong><code>fscanf(fp1 , “%d%c%d=” , &amp;a , &amp;b , &amp;c);</code></strong></p>
<p>**功能：**从 stream 指定的文件读取字符串，并根据参数format字符串来转换并格式化数据，读取到 <strong>\n</strong> 或者 <strong>空格</strong> 就停止读取</p>
<p><strong>参数：</strong></p>
<p>​	stream：已经打开的文件</p>
<p>​	format：字符串格式，用法和 <code>scanf()</code> 一样</p>
<p><strong>返回值：</strong></p>
<p>​	成功：参数数目，成功转换的值的个数</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<p>1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fscanf</span>(fp,<span style="color:#e6db74">&#34;%d%c%d=&#34;</span>,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>c,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,c);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,b);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fscanf</span>(fp , <span style="color:#e6db74">&#34;%[^</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">]&#34;</span> , ch);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="3-四则运算改进">3) 四则运算改进
</h4><p>对一个文本文件输入100个随机的四则运算的算式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>((<span style="color:#66d9ef">size_t</span>)<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span>fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> t<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>,a,b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(t<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        b <span style="color:#f92672">=</span> <span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">10</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(<span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;+&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/&#39;</span>;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fprintf</span>(fp,<span style="color:#e6db74">&#34;%d%c%d=</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,c,b);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>计算出这100个算式的结果并存入另一个文本文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/b.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>fp2)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b,t<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>,sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(t<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fscanf</span>(fp1, <span style="color:#e6db74">&#34;%d%c%d=</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> ,<span style="color:#f92672">&amp;</span>a,<span style="color:#f92672">&amp;</span>c,<span style="color:#f92672">&amp;</span>b);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(c)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">+</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">-</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;*&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">*</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/&#39;</span><span style="color:#f92672">:</span>sum<span style="color:#f92672">=</span>a<span style="color:#f92672">/</span>b;<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fprintf</span>(fp2, <span style="color:#e6db74">&#34;%d%c%d=%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,a,c,b,sum);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="4-大数据排序">4) 大数据排序
</h4><ul>
<li>存入1000个随机数</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main1</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srand</span>((<span style="color:#66d9ef">size_t</span>)<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>p)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1000</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fprintf</span>(p , <span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> , <span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">256</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(p);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>对这1000个数进行排序，并存入另一个文本文件中</p>
<p><strong>法一：</strong></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//冒泡排序法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Bubblesort</span>(<span style="color:#66d9ef">int</span> arr[] , <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j,tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ; i<span style="color:#f92672">&lt;</span>n ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        tag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">&lt;</span>n<span style="color:#f92672">-</span>i ; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(arr[j]<span style="color:#f92672">&gt;</span>arr[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> temp<span style="color:#f92672">=</span>arr[j];
</span></span><span style="display:flex;"><span>                arr[j]<span style="color:#f92672">=</span>arr[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                arr[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>                tag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tag<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/b.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>fp2)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1000</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fscanf</span>(fp1 , <span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> , <span style="color:#f92672">&amp;</span>arr[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Bubblesort</span>(arr , <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1000</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fprintf</span>(fp2 , <span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> , arr[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>法二：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//插入版排序法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//以为随机数在0-255这个范围内
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//所以定义一个长度256的数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//碰到对应的数，数组的对应位置+1，最终依次按数组内的次数存入对应个数字，从而达到排序的目的
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//如1 2 5 5，其中a[1]=1 , a[2]=1, a[5]=2,其他都为0，所以依次，1存入1次，2存入1次，8存入2次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/b.txt&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>fp2)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,num,j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">256</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(arr , <span style="color:#ae81ff">0</span> , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">256</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1000</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fscanf</span>(fp1 , <span style="color:#e6db74">&#34;%d&#34;</span> , <span style="color:#f92672">&amp;</span>num);
</span></span><span style="display:flex;"><span>        arr[num]<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">256</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; j<span style="color:#f92672">&lt;</span>arr[i] ; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">fprintf</span>(fp2 , <span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> , i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(arr);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="937-按照块读写文件-fread--fwrite">9.3.7 按照块读写文件 fread 、 fwrite
</h3><h4 id="1-写文件-fwrite">1） 写文件 fwrite()
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>size_t fwrite(const void* ptr , size_t size , size_t nmemb , FILE* stream);</code></p>
<p>​			<strong><code>fwrite(ch , sizeof(char) , 1024 , fp1);</code></strong></p>
<p>**功能：**以数据块的方式给文件写入内容</p>
<p><strong>参数：</strong></p>
<p>​	<code>ptr</code>：准备写入文件数据的地址</p>
<p>​	<code>size_t</code>：size_t 为 unsigned int 类型，此参数指定写入文件内容的块数据大小</p>
<p>​	<code>nmemb</code>：写入文件的块数，写入文件数据总大小为 size*nmemb</p>
<p>​	<code>stream</code>：已经打开的文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：实际成功写入文件数据的快数目，辞职和 <code>nmemb</code> 相等</p>
<p>​	失败：0</p>
<p><strong>例子：</strong></p>
<p>1.单一变量</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//写入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>, <span style="color:#e6db74">&#34;wb&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">5678</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fwrite</span>(<span style="color:#f92672">&amp;</span>a , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>) , <span style="color:#ae81ff">1</span> , fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//读出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span> , <span style="color:#e6db74">&#34;rb&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fread</span>(<span style="color:#f92672">&amp;</span>value , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>) , <span style="color:#ae81ff">1</span> , fp1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,value);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2.数组</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//写入10个数字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>, <span style="color:#e6db74">&#34;wb&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">10</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fwrite</span>(a , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>) , <span style="color:#ae81ff">10</span> , fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//读出10个数字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span> , <span style="color:#e6db74">&#34;rb&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fread</span>(value , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>) , <span style="color:#ae81ff">10</span> , fp1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i ;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,value[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span></code></pre></div><h4 id="2-读文件-fread">2） 读文件 fread()
</h4><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>size_t fread(const void* ptr , size_t size , size_t nmemb , FILE* stream);</code></p>
<p>​			<strong><code>fread(ch , sizeof(char) , 1024 , fp1);</code></strong></p>
<p>**功能：**以数据块的方式给文件写入内容</p>
<p><strong>参数：</strong></p>
<p>​	<code>ptr</code>：准备写入文件数据的地址</p>
<p>​	<code>size_t</code>：size_t 为 unsigned int 类型，此参数指定写入文件内容的块数据大小</p>
<p>​	<code>nmemb</code>：写入文件的块数，写入文件数据总大小为 size*nmemb</p>
<p>​	<code>stream</code>：已经打开的文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：实际成功写入文件数据的快数目，此值和 <code>nmemb</code> 相等</p>
<p>​	失败：0</p>
<h4 id="3-文件读写结构体">3） 文件读写结构体
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//将结构体数组写入文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score
</span></span><span style="display:flex;"><span>}stu;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main1</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span>, <span style="color:#e6db74">&#34;wb&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    stu ss[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;黄某&#34;</span> , <span style="color:#ae81ff">18</span> , <span style="color:#ae81ff">87</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;陈某&#34;</span> , <span style="color:#ae81ff">28</span> , <span style="color:#ae81ff">89</span>}
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span>  i ;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span> ;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fwrite</span>(ss<span style="color:#f92672">+</span>i , <span style="color:#66d9ef">sizeof</span>(stu) , <span style="color:#ae81ff">1</span> , fp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//将文件中的结构体数组读出，并打印输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">21</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> score;
</span></span><span style="display:flex;"><span>}stu;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span> , <span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    stu ss[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fread</span>(<span style="color:#f92672">&amp;</span>ss[i] , <span style="color:#66d9ef">sizeof</span>(stu) , <span style="color:#ae81ff">1</span> , fp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;姓名：%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ss[i].name);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;年龄：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ss[i].age);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;成绩：%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ss[i].score);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="94-获取文件状态">9.4 获取文件状态
</h2><ul>
<li>
<p><strong>stat( ) 函数</strong></p>
<p><strong>使用时引入头文件<code>&lt;sys/types.h&gt;</code>、<code>&lt;sys/stat.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int stat(const char* path , struct stat* buf);</code></p>
<p>​			<strong><code>stat(argv[1] , ss);</code></strong></p>
<p>**功能：**获取文件信息</p>
<p><strong>参数：</strong></p>
<p>​	**path：**文件名</p>
<p>​	**buf：**保存文件信息的结构体</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>结构体stat具体参数：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> stat
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  	<span style="color:#66d9ef">dev_t</span>	st dev;		<span style="color:#75715e">//文件的设备编号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ino		st ino;		<span style="color:#75715e">//节点
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">mode_t</span>	st mode;	<span style="color:#75715e">//文件的类型和存取的权限
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">nlink_t</span>	st nlink;	<span style="color:#75715e">//连到该文件的硬链接数目，刚建立的文件值为1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">uid_t</span>	st uid;		<span style="color:#75715e">//用户ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">gid_t</span>	st gid;		<span style="color:#75715e">//组ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">dev_t</span>	st rdev;	<span style="color:#75715e">//（设备类型）若此文件为设备文件，则为其设备编号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">off_t</span>	st size;	<span style="color:#75715e">//文件字节数（文件大小）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    unsiged <span style="color:#66d9ef">long</span> st	blksize;	<span style="color:#75715e">//块大小（文件系统的I/O缓冲区大小）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> st blocks;	<span style="color:#75715e">//快数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">time_t</span>	st atime;	<span style="color:#75715e">//最后一次访问时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">time_t</span> st_mtime;	<span style="color:#75715e">//最后一次修改时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">time_t</span> st ctime;	<span style="color:#75715e">//最后依次改变时间（指属性）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span></code></pre></div></li>
</ul>
<h2 id="95-大文件拷贝">9.5 大文件拷贝
</h2><p><strong>代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;sys/types.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;sys/stat.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define SIZE 1024
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> argv[])	<span style="color:#75715e">//argc是指参数个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    								<span style="color:#75715e">//argv是指针数组，具体解释不清，先记住
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(argc <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件复制出错&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(argv[<span style="color:#ae81ff">1</span>] , <span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(argv[<span style="color:#ae81ff">2</span>] , <span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp1 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>fp2)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件复制出错&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span> ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> , count;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> temp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> stat ss;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stat</span>(argv[<span style="color:#ae81ff">1</span>] , <span style="color:#f92672">&amp;</span>ss);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ss.st_size <span style="color:#f92672">&gt;</span> SIZE)
</span></span><span style="display:flex;"><span>        size <span style="color:#f92672">=</span> SIZE;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        size <span style="color:#f92672">=</span> ss.st_size <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span> ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    temp <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span>size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">feof</span>(fp1))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(temp , <span style="color:#ae81ff">0</span> , size);
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#a6e22e">fread</span>(temp , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>) , size , fp1);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fwrite</span>(temp , <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>) , count , fp2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fp2);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(temp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>过程：</strong></p>
<p>![屏幕截图 2024-02-23 161438](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2024-02-23 161438.png)</p>
<p>即可将D盘中的文本文件a 复制到D盘code中</p>
<h2 id="96-文件的随机读写">9.6 文件的随机读写
</h2><h3 id="1fseek-">1.fseek( )
</h3><p><strong>使用时引入头文件&lt;stdio.h&gt;</strong></p>
<p><strong>格式：</strong><code>int fseek(FILE* stream , long offset , int whence);</code></p>
<p>​			<strong><code>fseek(p , 0 , SEEK_SET);</code></strong></p>
<p>**功能：**移动文件流（文件光标）的读写位置</p>
<p><strong>参数：</strong></p>
<p>​	<strong>stream</strong>：已经打开的文件指针</p>
<p>​	<strong>offset</strong>：根据 whence 来移动的位移数，可以是正数，也可以是负数。如果是<strong>正数</strong>，则相对于 whence 往<strong>右</strong>移				   动，如果是<strong>负数</strong>，则相对 whence 往<strong>左</strong>移动。如果向前移动的字节数超过文件开头，则出错返回。如				   果向后移动的字节数超过了文件末尾，再次写入时将增大文件尺寸</p>
<p>​	<strong>whence</strong>：其取值如下</p>
<p>​						SEEK_SET	从文件开头移动 offset个字节</p>
<p>​						SEEK_CUR	从当前位置移动过 offset 个字节</p>
<p>​						SEEK_END	从文件末尾移动 offset 个字节</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span>,<span style="color:#e6db74">&#34;r&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>p)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ch <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">char</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(ch , <span style="color:#ae81ff">0</span> ,<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fgets</span>(ch , <span style="color:#ae81ff">100</span> , p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fseek</span>(p , <span style="color:#ae81ff">0</span> , SEEK_SET);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(ch , <span style="color:#ae81ff">0</span> ,<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fgets</span>(ch , <span style="color:#ae81ff">100</span> , p);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ch);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-ftell-">2. ftell( )
</h3><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>long ftell(FILE* stream);</code></p>
<p>**功能：**获取文件光标的读写位置</p>
<p><strong>参数：</strong></p>
<p>​	stream：已经打开的文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：当前文件光标的读写位置</p>
<p>​	失败：-1</p>
<h3 id="3-rewind-">3. rewind( )
</h3><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>void rewind(FILE* stream);</code></p>
<p>**功能：**把文件光标的读写位置移动到文件开头</p>
<p><strong>参数：</strong></p>
<p>​	stream：已经打开的文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	无返回值</p>
<h2 id="97-删除文件重命名文件名">9.7 删除文件、重命名文件名
</h2><h3 id="1删除文件-remove-">1）删除文件 remove( )
</h3><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int remove(const char* pathname);</code></p>
<p>**功能：**删除文件</p>
<p><strong>参数：</strong></p>
<p>​	pathname：文件名</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>具体代码实现：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value <span style="color:#f92672">=</span> <span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#34;d:/b.txt&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(value <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件删除成功</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件删除失败</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2重命名文件名-rename-">2）重命名文件名 rename( )
</h3><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int rename(const char* oldpath , const char* newpath);</code></p>
<p>**功能：**把 <code>oldpath</code> 的文件名改为 <code>newpath</code></p>
<p><strong>参数：</strong></p>
<p>​	<code>oldpath</code>：旧文件名</p>
<p>​	<code>newpath</code>：新文件名</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>具体代码实现：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value  <span style="color:#f92672">=</span> <span style="color:#a6e22e">rename</span>(<span style="color:#e6db74">&#34;d:/a.txt&#34;</span> , <span style="color:#e6db74">&#34;d:/b.txt&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//也可以实现文件剪切
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//int value  = rename(&#34;d:/a.txt&#34; , &#34;d:/code/a.txt&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(value <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件名更改成功</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;文件名更改失败</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="98-文件缓冲区">9.8 文件缓冲区
</h2><h3 id="981-文件缓冲区">9.8.1 文件缓冲区
</h3><p>ANSI C 标准采用 “缓冲文件系统” 处理数据文件</p>
<p>所谓 <strong>缓冲文件系统</strong> ，是指系统自动地在内存区为程序中每一个正在使用的文件开辟一个文件缓冲区，从内存向磁盘输出数据必须先送到内存中的缓冲区，装满缓冲区后才一起送到磁盘去</p>
<p>如果从磁盘向计算机读入数据，则一次从磁盘文件将一批数据输入到内存缓冲区，直到充满缓冲区，然后再从缓冲区逐个地将数据送到程序区</p>
<h3 id="982-磁盘文件存取">9.8.2 磁盘文件存取
</h3><p>![屏幕截图 2024-02-23 214838](C:/Users/carp/OneDrive/桌面/C语言/图片/屏幕截图 2024-02-23 214838.png)</p>
<ul>
<li>磁盘文件，一般保存在硬盘、U盘等掉电不丢失的磁盘设备中，在需要时调入内存</li>
<li>在内存中对文件进行编辑处理后，保存到磁盘中</li>
<li>程序与磁盘之间交互，不是立即完成，系统或程序可根据需要设置缓冲区，以提高存取效率</li>
</ul>
<h3 id="983-更新缓冲区-fflush-">9.8.3 更新缓冲区 fflush( )
</h3><p><strong>使用时引入头文件<code>&lt;stdio.h&gt;</code></strong></p>
<p><strong>格式：</strong><code>int fflush(FILE* stream);</code></p>
<p>**功能：**更新缓冲区，让缓冲区的数据立马写道文件中</p>
<p><strong>参数：</strong></p>
<p>​	<code>stream</code>：文件指针</p>
<p><strong>返回值：</strong></p>
<p>​	成功：0</p>
<p>​	失败：-1</p>
<p><strong>具体代码实现：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE<span style="color:#f92672">*</span> fp <span style="color:#f92672">=</span> <span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;D:/a.txt&#34;</span> , <span style="color:#e6db74">&#34;w+&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>fp)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>,<span style="color:#f92672">&amp;</span>ch);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ch <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;@&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//频繁和硬盘交互，损伤硬盘
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//所以不建议直接使用此函数，要加上条件判断，如修改字数或经过时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">fflush</span>(fp);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fputc</span>(ch , fp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 Carp&#39;s blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.26.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
