<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="1. C++ 基础概念 1.1 输入输出 1.1 输出语句： cout&lt;&lt; 表达式1 &lt;&lt; 表达式2 &lt;&lt; …… &lt;&lt; 表达式n; 例1： cout&lt;&lt;&#34;hello world&#34;&lt;&lt;endl; //endl 表示换行 例2： cout&lt;&lt;a,b,c;\t//错误，不能依次输入多项 cout&lt;&lt;a&lt;&lt;b&lt;&lt;c;\t//正确 cout&lt;&lt;a+b+c;\t//正确 1.2 输入语句： cin&gt;&gt; 变量1 &gt;&gt; 变量2 &gt;&gt; …… &gt;&gt;变量n; 例1： cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; 1.3 在标准输入流和输出流中使用控制符 **注：**使用前引入头文件 &lt; iostream &gt;, &lt; iomanip &gt; 控制符 作用 dec 设置数值的技术为10 hex 设置数值的基数为16 oct 设置数值的基数为8 setfill(c) 设置填充字符c，c可以是字符常量或字符变量 setprecision(n) 设置浮点数的精度为n位。在以一般十进制小数形式输出时，n代表有效数字的位数在以fixed（固定小数位数）形式和scientific（指数）形式输出是，n位小数位数 setw(n) 设置字段宽度为n位 fixed 设置浮点数以固定的小数位数显示（与**setprecision**搭配使用） scientific 设置浮点数以科学计数法（即指数形式）显示 left 输出数据左对齐 right 输出数据右对齐 skipws 忽略签到的空格 uppercase 数据以十六进制形式输出是字母以大写表示 lowercase 数据以十六进制形式输出是字母以小写表示 shoupos 输出证书是给出“+”号 例子：">
<title>C&#43;&#43;</title>

<link rel='canonical' href='http://localhost:1313/post/c&#43;&#43;/'>

<link rel="stylesheet" href="/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css"><meta property='og:title' content="C++">
<meta property='og:description' content="1. C++ 基础概念 1.1 输入输出 1.1 输出语句： cout&lt;&lt; 表达式1 &lt;&lt; 表达式2 &lt;&lt; …… &lt;&lt; 表达式n; 例1： cout&lt;&lt;&#34;hello world&#34;&lt;&lt;endl; //endl 表示换行 例2： cout&lt;&lt;a,b,c;\t//错误，不能依次输入多项 cout&lt;&lt;a&lt;&lt;b&lt;&lt;c;\t//正确 cout&lt;&lt;a+b+c;\t//正确 1.2 输入语句： cin&gt;&gt; 变量1 &gt;&gt; 变量2 &gt;&gt; …… &gt;&gt;变量n; 例1： cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; 1.3 在标准输入流和输出流中使用控制符 **注：**使用前引入头文件 &lt; iostream &gt;, &lt; iomanip &gt; 控制符 作用 dec 设置数值的技术为10 hex 设置数值的基数为16 oct 设置数值的基数为8 setfill(c) 设置填充字符c，c可以是字符常量或字符变量 setprecision(n) 设置浮点数的精度为n位。在以一般十进制小数形式输出时，n代表有效数字的位数在以fixed（固定小数位数）形式和scientific（指数）形式输出是，n位小数位数 setw(n) 设置字段宽度为n位 fixed 设置浮点数以固定的小数位数显示（与**setprecision**搭配使用） scientific 设置浮点数以科学计数法（即指数形式）显示 left 输出数据左对齐 right 输出数据右对齐 skipws 忽略签到的空格 uppercase 数据以十六进制形式输出是字母以大写表示 lowercase 数据以十六进制形式输出是字母以小写表示 shoupos 输出证书是给出“+”号 例子：">
<meta property='og:url' content='http://localhost:1313/post/c&#43;&#43;/'>
<meta property='og:site_name' content='Carp&#39;s blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-08-08T00:38:54&#43;08:00'/><meta property='article:modified_time' content='2024-08-08T00:38:54&#43;08:00'/>
<meta name="twitter:title" content="C++">
<meta name="twitter:description" content="1. C++ 基础概念 1.1 输入输出 1.1 输出语句： cout&lt;&lt; 表达式1 &lt;&lt; 表达式2 &lt;&lt; …… &lt;&lt; 表达式n; 例1： cout&lt;&lt;&#34;hello world&#34;&lt;&lt;endl; //endl 表示换行 例2： cout&lt;&lt;a,b,c;\t//错误，不能依次输入多项 cout&lt;&lt;a&lt;&lt;b&lt;&lt;c;\t//正确 cout&lt;&lt;a+b+c;\t//正确 1.2 输入语句： cin&gt;&gt; 变量1 &gt;&gt; 变量2 &gt;&gt; …… &gt;&gt;变量n; 例1： cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; 1.3 在标准输入流和输出流中使用控制符 **注：**使用前引入头文件 &lt; iostream &gt;, &lt; iomanip &gt; 控制符 作用 dec 设置数值的技术为10 hex 设置数值的基数为16 oct 设置数值的基数为8 setfill(c) 设置填充字符c，c可以是字符常量或字符变量 setprecision(n) 设置浮点数的精度为n位。在以一般十进制小数形式输出时，n代表有效数字的位数在以fixed（固定小数位数）形式和scientific（指数）形式输出是，n位小数位数 setw(n) 设置字段宽度为n位 fixed 设置浮点数以固定的小数位数显示（与**setprecision**搭配使用） scientific 设置浮点数以科学计数法（即指数形式）显示 left 输出数据左对齐 right 输出数据右对齐 skipws 忽略签到的空格 uppercase 数据以十六进制形式输出是字母以大写表示 lowercase 数据以十六进制形式输出是字母以小写表示 shoupos 输出证书是给出“+”号 例子：">
  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu8602028200308506927.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Carp&#39;s blog</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/c&#43;&#43;/">C&#43;&#43;</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 08, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    39 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="1-c-基础概念">1. C++ 基础概念
</h1><h2 id="11-输入输出">1.1 输入输出
</h2><h3 id="11-输出语句"><strong>1.1 输出语句：</strong>
</h3><p><code>cout&lt;&lt; 表达式1 &lt;&lt; 表达式2 &lt;&lt; …… &lt;&lt; 表达式n;</code></p>
<ul>
<li>
<p><strong>例1：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;hello world&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//endl 表示换行
</span></span></span></code></pre></div></li>
<li>
<p><strong>例2：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>a,b,c;		<span style="color:#75715e">//错误，不能依次输入多项
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span>b<span style="color:#f92672">&lt;&lt;</span>c;		<span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">+</span>b<span style="color:#f92672">+</span>c;		<span style="color:#75715e">//正确
</span></span></span></code></pre></div></li>
</ul>
<h3 id="12-输入语句"><strong>1.2 输入语句：</strong>
</h3><p><code>cin&gt;&gt; 变量1 &gt;&gt; 变量2 &gt;&gt; …… &gt;&gt;变量n;</code></p>
<ul>
<li>
<p><strong>例1：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>cin<span style="color:#f92672">&gt;&gt;</span>a<span style="color:#f92672">&gt;&gt;</span>b<span style="color:#f92672">&gt;&gt;</span>c;
</span></span></code></pre></div></li>
</ul>
<h3 id="13-在标准输入流和输出流中使用控制符">1.3 在标准输入流和输出流中使用控制符
</h3><p>**注：**使用前引入头文件</p>
<p><strong>&lt; iostream &gt;</strong>, <strong>&lt; iomanip &gt;</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">控制符</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong><code>dec</code></strong></td>
<td style="text-align:center">设置数值的技术为10</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>hex</code></strong></td>
<td style="text-align:center">设置数值的基数为16</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>oct</code></strong></td>
<td style="text-align:center">设置数值的基数为8</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>setfill(c)</code></strong></td>
<td style="text-align:center">设置填充<strong>字符</strong>c，c可以是字符常量或字符变量</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>setprecision(n)</code></strong></td>
<td style="text-align:center">设置浮点数的精度为n位。<!-- raw HTML omitted -->在以一般十进制小数形式输出时，n代表有效数字的位数<!-- raw HTML omitted -->在以fixed（固定小数位数）形式和scientific（指数）形式输出是，n位小数位数</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>setw(n)</code></strong></td>
<td style="text-align:center">设置字段宽度为n位</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>fixed</code></strong></td>
<td style="text-align:center">设置浮点数以固定的小数位数显示（与**<code>setprecision</code>**搭配使用）</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>scientific</code></strong></td>
<td style="text-align:center">设置浮点数以科学计数法（即指数形式）显示</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>left</code></strong></td>
<td style="text-align:center">输出数据左对齐</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>right</code></strong></td>
<td style="text-align:center">输出数据右对齐</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>skipws</code></strong></td>
<td style="text-align:center">忽略签到的空格</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>uppercase</code></strong></td>
<td style="text-align:center">数据以十六进制形式输出是字母以大写表示</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>lowercase</code></strong></td>
<td style="text-align:center">数据以十六进制形式输出是字母以小写表示</td>
</tr>
<tr>
<td style="text-align:center"><strong><code>shoupos</code></strong></td>
<td style="text-align:center">输出证书是给出“+”号</td>
</tr>
</tbody>
</table></div>
<ul>
<li>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">123.456789012345</span>
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>a;						<span style="color:#75715e">//输出：123.456
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>setprecision(<span style="color:#ae81ff">9</span>)<span style="color:#f92672">&lt;&lt;</span>a		<span style="color:#75715e">//输出：123.456789
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>setprecision(<span style="color:#ae81ff">6</span>);			<span style="color:#75715e">//回复默认格式（精度为6，即有效数字为6）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>fixed;					<span style="color:#75715e">//输出：123.456789
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>fixed<span style="color:#f92672">&lt;&lt;</span>setprecision(<span style="color:#ae81ff">8</span>)<span style="color:#f92672">&lt;&lt;</span>a;<span style="color:#75715e">//输出123.45678901
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>scientific<span style="color:#f92672">&lt;&lt;</span>a;			<span style="color:#75715e">//输出：1.2345678e+02
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>scientific<span style="color:#f92672">&lt;&lt;</span>setprecision(<span style="color:#ae81ff">4</span>)<span style="color:#f92672">&lt;&lt;</span>a;<span style="color:#75715e">//输出：1.2346e+02
</span></span></span></code></pre></div></li>
<li>
<p><strong>正数输出的例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">123456</span>;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>b;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>hex<span style="color:#f92672">&lt;&lt;</span>b;						<span style="color:#75715e">//输出：1e240
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>uppercase<span style="color:#f92672">&lt;&lt;</span>b;					<span style="color:#75715e">//输出：1E240
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#a6e22e">setw</span>(<span style="color:#ae81ff">10</span>)<span style="color:#f92672">&lt;&lt;</span>b<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#39;,&#39;</span><span style="color:#f92672">&lt;&lt;</span>b;			<span style="color:#75715e">//输出：123456，123456
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#a6e22e">setfill</span>(<span style="color:#e6db74">&#39;*&#39;</span>)<span style="color:#f92672">&lt;&lt;</span><span style="color:#a6e22e">setw</span>(<span style="color:#ae81ff">10</span>)<span style="color:#f92672">&lt;&lt;</span>b;	<span style="color:#75715e">//输出：****123456
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>showpos<span style="color:#f92672">&lt;&lt;</span>b;					<span style="color:#75715e">//输出：+123456
</span></span></span></code></pre></div></li>
</ul>
<h2 id="12-引用">1.2 引用
</h2><h3 id="1引用的概念">1.引用的概念
</h3><p>​	引用就是某一变量的一个别名，它是某个已存在变量的另一个名字。对引用的操作与对变量名直接操作完全一样</p>
<h3 id="2引用的初始化">2.引用的初始化
</h3><p>​	<strong><code>类型标识符 &amp;引用名 = 目标变量名；</code></strong></p>
<p>​	上述格式中，“&amp;”并不是取地址操作符，而是起标识作用，标识所定义的标识符是一个引用。引用声明完成以后相当于目标变量有两个名称</p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">&amp;</span> b <span style="color:#f92672">=</span> a;
</span></span></code></pre></div><h3 id="3定义引用注意事项">3.定义引用注意事项
</h3><ul>
<li>
<p><strong>引用在定义是必须初始化</strong>，如 <strong><code>int &amp;b;</code></strong> 是错误的，并未进行初始化</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">&amp;</span>b<span style="color:#f92672">=</span>a;<span style="color:#75715e">//正确
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#f92672">&amp;</span>b;	 <span style="color:#75715e">//error
</span></span></span></code></pre></div></li>
<li>
<p>引用在初始化时<strong>只能绑定变量</strong>不能绑定常量值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">&amp;</span>p<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;<span style="color:#75715e">//error
</span></span></span></code></pre></div></li>
<li>
<p>引用<strong>一旦初始化</strong>，<strong>其值不能再更改</strong>，否则其值会改变</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> b<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">&amp;</span>p<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">=</span>b;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">20</span>
</span></span></code></pre></div></li>
<li>
<p><strong>数组不能定义引用</strong>，因为数组时一组数据，无法定义其别名</p>
</li>
</ul>
<h3 id="4引用与指针的区别">4.引用与指针的区别
</h3><ul>
<li>不存再空引用，引用必须连接到一块合法的内存</li>
<li>一旦引用被初始化为一个对象，就不能被指向到另一个对象。指针可以在任何时候指向到另一个对象</li>
<li>引用必须在创建时被初始化，指针可以在任何时间被初始化</li>
</ul>
<h3 id="5引用应用">5.引用应用
</h3><p><strong>例：交换数字</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">&amp;</span> x, <span style="color:#66d9ef">int</span><span style="color:#f92672">&amp;</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp<span style="color:#f92672">=</span>x;
</span></span><span style="display:flex;"><span>    x<span style="color:#f92672">=</span>y;
</span></span><span style="display:flex;"><span>    y<span style="color:#f92672">=</span>temp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a,b;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>a<span style="color:#f92672">&gt;&gt;</span>b;
</span></span><span style="display:flex;"><span>    swap(a,b);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>b<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h1 id="2-类">2. 类
</h1><h2 id="21-类的声明和对象的定义">2.1 类的声明和对象的定义
</h2><h3 id="211-类和对象的关系">2.1.1 类和对象的关系
</h3><ul>
<li>
<p>C++中对象的类型称为<strong>类</strong></p>
</li>
<li>
<p><strong>类是对象的抽象，而对象是类的具体实例</strong></p>
</li>
<li>
<p>C++中如同定义结构体一样，先声明一个<strong>类类型</strong>，然后用它定义若干个同类型的对象。对象就是<strong>类</strong>类型的一个变量</p>
</li>
</ul>
<h3 id="212-声明类类型">2.1.2 声明类类型
</h3><p><strong>格式：</strong>（与声明结构体类似）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>class Student           <span style="color:#75715e">//以class开头，类名为Student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;               <span style="color:#75715e">//以上3行是数据成员
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>()          <span style="color:#75715e">//这是成员函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl; 
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;sex:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span>endl;            <span style="color:#75715e">//以上3行是函数中的操作语句
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Student stud1,stud2;            <span style="color:#75715e">//定义了两个Student类的对象
</span></span></span></code></pre></div><p><strong>名称：</strong></p>
<ul>
<li>**类头：**第一行，由关键字class与类名Student组成</li>
<li>**类体：**花括号括起来的</li>
<li>**成员表：**类中的所有成员 （把数据和操作封装在一起）</li>
</ul>
<h3 id="213-成员访问限定符"><strong>2.1.3 成员访问限定符：</strong>
</h3><ul>
<li><strong>private：<strong>被声明为</strong>私有的</strong>成员，只能被本类中的成语那函数引用，类外函数不能调用（友元类除外）</li>
<li><strong>public：<strong>被声明为</strong>公用的</strong>成员，既可以被本类中的成员函数所引用，也可以被类的作用域内的其他函数引用</li>
<li><strong>protected：<strong>用protected声明的成员称为</strong>受保护的</strong>成员，它不能被类外访问，但可以被派生类的成员函数访问</li>
</ul>
<p><strong>格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">类名</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#960050;background-color:#1e0010">公有的数据和成员函数</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    	<span style="color:#960050;background-color:#1e0010">私有的数据和成员函数</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="214-定义对象的方法">2.1.4 定义对象的方法
</h3><h4 id="1-先声明类类型然后再定义对象">1. 先声明类类型，然后再定义对象
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student stu1,stu2;		<span style="color:#75715e">//Student是已经声明的类类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> stud1,stud2;	<span style="color:#75715e">//与上句等效，这是C语言特点，此句虽在C++中仍适用，但上句更简便
</span></span></span></code></pre></div><h4 id="2-在声明类的同时定义对象">2. 在声明类的同时定义对象
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>                                              <span style="color:#75715e">//声明类类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>                                                    <span style="color:#75715e">//先声明公用部分
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> display()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;sex:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>                                                   <span style="color:#75715e">//后声明私有部分
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>}stu1,stu2;                                                <span style="color:#75715e">//定义两个Student类的对象
</span></span></span></code></pre></div><h4 id="3-不出现类名直接定义对象">3. 不出现类名，直接定义对象
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>}stu1,stu2;
</span></span></code></pre></div><p>直接定义对象在C++中是合法的、允许的，但不提倡使用</p>
<h3 id="215-重载成员函数">2.1.5 重载成员函数
</h3><p><strong>重载概念：</strong></p>
<ul>
<li>编程中重载是指函数相同，函数的参数列表不同（包括参数个数和参数类型），至于返回类型可同可不同。</li>
<li>重载是可使相同函数、运算符等处理不同类型数据或接受不同个数的参数的一种方法。</li>
<li>如果过同一作用域内的几个函数名字相同单行参列表不同，称之为<strong>重载函数</strong>。</li>
</ul>
<p>由于类名是成员函数名的一部分，所以一个类的成员函数与另一个类的成员函数即使同名，也不能认为是重载</p>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> grade();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">grade</span>(<span style="color:#66d9ef">float</span> newGPA);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Slope</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> grade();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>}t;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#a6e22e">grade</span>(<span style="color:#66d9ef">float</span> value);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student s;
</span></span><span style="display:flex;"><span>    slope t;
</span></span><span style="display:flex;"><span>    s.grade(<span style="color:#ae81ff">3.2</span>);             <span style="color:#75715e">//对应 Student::grade(float);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">float</span> v <span style="color:#f92672">=</span> s.grade;        <span style="color:#75715e">//对应 Student::grade();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> c  <span style="color:#f92672">=</span> grade(v);       <span style="color:#75715e">//对应 grade();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">float</span> m <span style="color:#f92672">=</span> t.grade();      <span style="color:#75715e">//对应 Slope::grade();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p><strong>在主函数运行时，一共调用了4个grade() 函数</strong></p>
<h2 id="22-类的成员函数">2.2 类的成员函数
</h2><h3 id="221-成员函数的性质">2.2.1 成员函数的性质
</h3><ul>
<li>它是属于一个类的成员，出现在类体中。它可以被指定为private、public或protected</li>
<li><strong>私有的</strong>成员函数只能被本类中的其他成员函数所调用</li>
<li>成员函数可以访问本类对象中任何成员（包括私有的和公用的），可以引用在本作用域中有效的数据</li>
</ul>
<h3 id="222-在类外定义成员函数">2.2.2 在类外定义成员函数
</h3><ul>
<li>
<p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>class Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>public:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();                    <span style="color:#75715e">//公用成员函数原型声明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>private:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;                          <span style="color:#75715e">//以上3行是私有数据成员
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Student<span style="color:#f92672">::</span><span style="color:#a6e22e">display</span>()                <span style="color:#75715e">//在类外定义display类函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;           <span style="color:#75715e">//函数体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;sex:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Student stud1,stud2;                   <span style="color:#75715e">//定义两个类对象
</span></span></span></code></pre></div></li>
<li>
<p><strong>注意：</strong></p>
<ul>
<li>在类体重定义函数，不需要再函数名前面加上类名</li>
<li>成员函数在类外定义时，必须在函数名前面加上类名，予以限定，“::”是<strong>作用域限制符</strong>或<strong>作用域运算符</strong>，用它声明函数是属于哪个类</li>
<li>如果在作用域运算符::的前面没有类名，或者函数名前面既无类名又无作用域运算符，如::display() 或 display ，则表示display函数不属于任何类，这个函数不是成员函数，而是全局函数</li>
<li><strong>类函数必须先在类体中作原型声明，然后再类外定义，否则编译时会出错。即类体的位置应在函数定义之前</strong></li>
<li>在类的内部对成员函数做声明，在类体外定义成员函数，这是程序设计的一种良好习惯</li>
</ul>
</li>
</ul>
<h3 id="223-内置成员函数">2.2.3 内置成员函数
</h3><ul>
<li>
<p>为了减少时间开销，如果<strong>在类体中定义</strong>的成员函数中不包括循环等控制结构，C++系统自动的对他们作为<strong>内置函数</strong>来处理</p>
</li>
<li>
<p>一般的内置函数要用关键字inline声明，但对类内定义的成员函数，可以省略inline，因为这些成员函数已被隐含地指定为内置函数</p>
</li>
<li>
<p>如果成员函数不在类体内定义，而在类体外定义，系统并不把它默认为内置函数，调用这些成员函数的过程和调用一般函数是相同的。如果想将这些成员函数指定为内置函数，应当用inline作显式声明。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> display();                          <span style="color:#75715e">//声明此成员函数为内置函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">inline</span> Student<span style="color:#f92672">::</span>display()                       <span style="color:#75715e">//在类外定义display函数为内置函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;sex:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="23-调用成员函数">2.3 调用成员函数
</h2><h3 id="1调用一个成员函数">1、调用一个成员函数
</h3><p>调用成员函数的形式类似于访问一个结构对象的分量，先指明对象，再指明分量。它必须指定对象和成员名，否则无意义</p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tdate</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Set(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span> );
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">IsLeapYear</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Print</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> month;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> day;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> year;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>()					<span style="color:#75715e">//普通函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    Tdate oneday;			<span style="color:#75715e">//创建对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    oneday.Set(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">19</span>,<span style="color:#ae81ff">1998</span>);	<span style="color:#75715e">//调用其成员函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    oneday.Print();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2用指针调用成员函数">2、用指针调用成员函数
</h3><p>例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tdate</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Set(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span> );
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">IsLeapYear</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Print</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> month;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> day;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> year;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">someFunc</span>(Tdate<span style="color:#f92672">*</span> pS)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    pS <span style="color:#f92672">-&gt;</span> Print();                      <span style="color:#75715e">//pS是s对象的指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(pS <span style="color:#f92672">-&gt;</span> IsLeapYear())
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;oh oh</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;right</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Tdate s;
</span></span><span style="display:flex;"><span>    s.Set(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">1998</span>);
</span></span><span style="display:flex;"><span>    someFunc(<span style="color:#f92672">&amp;</span>s);                   <span style="color:#75715e">//对象的地址传给指针
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="3用引用传递来访问成员函数">3、用引用传递来访问成员函数
</h3><p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tdate</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Set(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span> );
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">IsLeapYear</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Print</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> month;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> day;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> year;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">someFunc</span>(Tdate<span style="color:#f92672">&amp;</span> refs)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    refs.Print();                       <span style="color:#75715e">//refs是s对象的别名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(refs.IsLeapYear())
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;oh oh</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;right</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Tdate s;
</span></span><span style="display:flex;"><span>    s.Set(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">1998</span>);
</span></span><span style="display:flex;"><span>    someFunc(s);                    <span style="color:#75715e">//对象的地址传给引用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="4在成员函数中访问成员">4.在成员函数中访问成员
</h3><p>​	成员函数必须用对象来调用。</p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tdate</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Set(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span> );
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">IsLeapYear</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Print</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> month;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> day;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> year;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Tdate<span style="color:#f92672">::</span>Set(<span style="color:#66d9ef">int</span> m , <span style="color:#66d9ef">int</span> d , <span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    month <span style="color:#f92672">=</span> m ;<span style="color:#75715e">//不能在month前加对象名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    s.month <span style="color:#f92672">=</span> m;<span style="color:#75715e">//error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    day <span style="color:#f92672">=</span> d;
</span></span><span style="display:flex;"><span>    year  <span style="color:#f92672">=</span> y;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Tdate<span style="color:#f92672">::</span>Print()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>month<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">&lt;&lt;</span>day<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">&lt;&lt;</span>year<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Tdate<span style="color:#f92672">::</span>IsLeapYear()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Tdate s;
</span></span><span style="display:flex;"><span>    Tdate t;
</span></span><span style="display:flex;"><span>    s.Set(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">1998</span>);
</span></span><span style="display:flex;"><span>    t.Set(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">1997</span>);
</span></span><span style="display:flex;"><span>    s.Print();
</span></span><span style="display:flex;"><span>    t.Print();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="24-名字识别">2.4 名字识别
</h2><h3 id="1类的作用域">1、类的作用域
</h3><ul>
<li><strong>一个类的所有成员位于这个类的作用域内，一个类的任何成员都能访问同一类的任一其他成员</strong></li>
<li>C++认为一个类的全部成员都是一个整体的相关部分</li>
<li><strong>类作用域</strong>是指<strong>类定义和相应的成员函数定义范围</strong>，在范围内，一个类的成员函数对用一类的数据成员具有无限制的访问权</li>
<li>在类作用域外，对一个类的数据成员和成员函数的访问受到访问权限的制约</li>
</ul>
<h3 id="2可见性">2、可见性
</h3><p>​	<strong>两个名字在同一作用域内，由于层次不同，内层名字往往会遮挡外层名字。</strong></p>
<p>​	例如，m是X类的数据成员，且其成员函数定义中有同名的局部作用域变量，则数据成员m会被隐藏</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">X</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> f1();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">f2</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> m;
</span></span><span style="display:flex;"><span>}x;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> X<span style="color:#f92672">::</span>f1()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    m<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> X<span style="color:#f92672">::</span>f2()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> m;
</span></span><span style="display:flex;"><span>    m<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;		<span style="color:#75715e">//X::m 被隐藏
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>​	类X的数据成员m的作用域尽管在类X中，但是成员函数中定义了同名的局部作用域变量后，就把数据成员m给隐藏了</p>
<h3 id="3类名遮挡">3、类名遮挡
</h3><p>​	<strong>类名允许与其他变量名或函数名相同。</strong></p>
<p>​	当类名与程序中的其他变量或者函数名相同时，可以通过下面的方法来<strong>正确访问</strong>：</p>
<p><strong>（1）如果一个非类型名隐藏了类型名，则类型名通过加前缀可用</strong></p>
<p>​	例，一个类名被在函数中的形参所覆盖，在该函数内，要定义一个类对象，则加上class即可</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sample</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>(<span style="color:#66d9ef">int</span> Sample)	<span style="color:#75715e">//函数形参隐藏了原类名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sample</span> s;
</span></span><span style="display:flex;"><span>    Sample<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>（2）如果一个类型名隐藏了非类型名，则用一般作用域规则即可</strong></p>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> s<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;			<span style="color:#75715e">//全局变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">s</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> b;
</span></span><span style="display:flex;"><span>    };				<span style="color:#75715e">//类s隐藏了全局变量s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    s a;			<span style="color:#75715e">//定义一个类对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">::</span>s <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;		<span style="color:#75715e">//引用全局变量,要加入::
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}					<span style="color:#75715e">//class s 作用域结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> g <span style="color:#f92672">=</span> s;			<span style="color:#75715e">//用全局变量给变量g初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    func();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>s;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><p>在函数中定义的类称为<strong>局部类</strong>，局部类的作用域在定义该类的函数块中</p>
<p><strong>局部类的成员函数必须在类定义内部定义</strong>。如果在<strong>类外部</strong>和<strong>包含该类的函数内部</strong>中定义，则导致在函数内部定义函数的矛盾，如果在包含类的函数外部定义，则局部类无法与其取得联系</p>
<h3 id="4名空间">4、名空间
</h3><p><strong>定义：<strong>名空间是指</strong>某名字在其中必须唯一的作用域</strong></p>
<p>C++规定，一个名字不能同时指两种类型，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>	<span style="color:#75715e">//定义一个类类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//..
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> C;	<span style="color:#75715e">//error:定义了一个不同类型但同名
</span></span></span></code></pre></div><p>非类型名（变量名、常量名、函数名、对象名或枚举名）不能重名，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student a;	<span style="color:#75715e">//定义一个对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">a</span>();	<span style="color:#75715e">//error：函数名与对象名同名
</span></span></span></code></pre></div><p>**类型与非类型不在同一名空间。**在一个作用域中，一个名字可以声明为一个类型，也可以声明为一个非类型。当二者同时登场时，<strong>类型名要加前缀，以区别非类型名</strong>。如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">stat</span>			<span style="color:#75715e">//先定义类类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//..
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>stat a;				<span style="color:#75715e">//定义类对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stat</span>(stat<span style="color:#f92672">*</span> p);	<span style="color:#75715e">//函数名与类名相同，不在同一名空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">stat</span> b;		<span style="color:#75715e">//必须区分stat是类型还是函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>stat(<span style="color:#ae81ff">0</span>);			<span style="color:#75715e">//非类型名：函数调用
</span></span></span></code></pre></div><h1 id="3-使用类与对象">3. 使用类与对象
</h1><h2 id="31-构造函数">3.1 构造函数
</h2><h3 id="311-用构造函数实现数据成员的初始化">3.1.1 用构造函数实现数据成员的初始化
</h3><p><strong>定义：<strong>构造函数是一种</strong>特殊的成员函数</strong>，与其他成员函数不同，不需要用户来调用它，而是在建立对象时自动执行</p>
<p><strong>特点：</strong></p>
<ul>
<li><strong>构造函数的名字必须与类名同名</strong>，而不能任意命名，以便编译系统能识别它并把它作为构造函数处理</li>
<li><strong>他不具有任何类型，不返回任何值</strong></li>
</ul>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>                   <span style="color:#75715e">//声明Time类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>                      <span style="color:#75715e">//以下为公用函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Time()                   <span style="color:#75715e">//定义构造成员函数，函数名与类名相同
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;              <span style="color:#75715e">//利用构造函数对对象中的数据成员赋初值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        sec<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">set_time</span>();         <span style="color:#75715e">//成员函数声明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show_time</span>();        <span style="color:#75715e">//成员函数声明
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>                     <span style="color:#75715e">//以下为私有数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;    
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//也可以
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//在类中声明 Time();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//在类外定义构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//Time::Time()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//{...}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Time<span style="color:#f92672">::</span>set_time()        <span style="color:#75715e">//定义成员函数，向函数成员赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>hour;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>minute;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>sec;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Time<span style="color:#f92672">::</span>show_time()       <span style="color:#75715e">//定义成员函数，输出数据成员的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>hour<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">&lt;&lt;</span>minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">&lt;&lt;</span>sec<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time t1;                        
</span></span><span style="display:flex;"><span>    t1.set_time();
</span></span><span style="display:flex;"><span>    t1.show_time();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    Time t2;
</span></span><span style="display:flex;"><span>    t2.set_time();
</span></span><span style="display:flex;"><span>    t2.show_time();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">10</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">10</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">25</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">54</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>**分析：**在类中定义了构造函数Time,它和所在的类同名，在建立对象时会自动指向构造函数，根据构造函数Time的定义，起作用是对该对象中的全部数据成员赋予初值0。</p>
<p><strong>说明：</strong></p>
<ol>
<li>
<p>构造函数没有返回值，因此也没有类型，他的作用只是对对象进行初始化。因此也<strong>不需要在定义构造函数时声明类型</strong>。<strong>直接写成Time();</strong> ，不能写成void Time()</p>
</li>
<li>
<p><strong>构造函数不需要用户调用，也不能被用户调用</strong></p>
<p><code>t1.Time();	 //这时错误的用法</code></p>
<p>构造函数是在定义对象时有系统自动执行的，而且只能执行一次。</p>
</li>
<li>
<p><strong>构造函数一般声明为public</strong></p>
</li>
<li>
<p><strong>可以用一个类类对象初始化另一个类对象</strong>，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time t1;		<span style="color:#75715e">//建立对象t1，同时调用构造函数t1.Time();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Time t2 <span style="color:#f92672">=</span> t1;	<span style="color:#75715e">//建立对象t2，并用一个t1初始化t2
</span></span></span></code></pre></div><p>此时，把对象<code>t1</code>的个数据成员的值赋值到<code>t2</code>相应各成员，而不调用构造函数<code>t2.Time()</code></p>
</li>
<li>
<p>如果用户没有定义构造函数，则C++系统会自动生成一个构造函数，只是这个构造函数的函数体是空的，也没有参数，不执行初始化操作</p>
</li>
</ol>
<h3 id="312-带参数的构造函数">3.1.2 带参数的构造函数
</h3><p>**定义：**可以从外面讲不同的数据传递给构造函数，以实现不同的初始化的构造函数</p>
<p>**一般形式： ** <strong><code>构造函数名（类型1 形参1，类型2 形参2，...）</code></strong></p>
<p><strong>定义对象的一般形式：</strong> <code>类名 对象名（实参1，实参2，...）</code></p>
<p>在建立对象时把实参的值传递给构造函数相应的形参，把他们作为数据成员的初值</p>
<p>**例：**有两个长方柱，其高、宽、长分别为（1）12，20，25；（2）10，14，20。求他们的体积</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>                          <span style="color:#75715e">//声明Box类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Box(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);            <span style="color:#75715e">//声明带参数的构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">volume</span>();                  <span style="color:#75715e">//声明计算体积的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box(<span style="color:#66d9ef">int</span> h , <span style="color:#66d9ef">int</span> w , <span style="color:#66d9ef">int</span> len)   <span style="color:#75715e">//类外定义带参数的构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    height <span style="color:#f92672">=</span> h;
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> w;
</span></span><span style="display:flex;"><span>    length <span style="color:#f92672">=</span> len;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>volume()                       <span style="color:#75715e">//定义计算体积的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(height<span style="color:#f92672">*</span>width<span style="color:#f92672">*</span>length);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box box1(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">25</span>,<span style="color:#ae81ff">30</span>);		<span style="color:#75715e">//定义对象的语句形式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;The volume of box1 is &#34;</span><span style="color:#f92672">&lt;&lt;</span>box1.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Box box2(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">21</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;The volume of box2 is &#34;</span><span style="color:#f92672">&lt;&lt;</span>box2.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>The volume of box1 is <span style="color:#ae81ff">9000</span>
</span></span><span style="display:flex;"><span>The volume of box2 is <span style="color:#ae81ff">9450</span>
</span></span></code></pre></div><h3 id="313-用参数初始化表对数据成员初始化">3.1.3 用参数初始化表对数据成员初始化
</h3><p>**定义：**C++还提供另一种初始化数据成员的方法——参数初始化表</p>
<p><strong>一般形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">类名</span><span style="color:#f92672">::</span><span style="color:#960050;background-color:#1e0010">构造函数名（</span>[<span style="color:#960050;background-color:#1e0010">参数表</span>]<span style="color:#960050;background-color:#1e0010">）</span>[<span style="color:#960050;background-color:#1e0010">：成员初始化表</span>]
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    [<span style="color:#960050;background-color:#1e0010">构造函数体</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//方括号内为可有可无
</span></span></span></code></pre></div><p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> w,<span style="color:#66d9ef">int</span> len)<span style="color:#f92672">:</span>height(h),width(w),length(len){}
</span></span></code></pre></div><p><strong>说明：</strong></p>
<p>即在原来函数首部的末尾加一个冒号，然后列出参数的初始化表。</p>
<p>上面的初始化表表示：用形参h的值初始化数据成员height,用形参w的初始化数据成员width，用形参len的初始化数据成员length。后面的花括号是空的，即函数体是空的。没有任何执行语句</p>
<p><strong>注：</strong></p>
<p>如果数据成员是数组，则应当在构造函数的函数体中用语句对其赋值，而不能在参数初始化表中对其初始化，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;string.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">int</span> n , <span style="color:#66d9ef">char</span>  s , <span style="color:#66d9ef">char</span> nam[])<span style="color:#f92672">:</span>num(n),sex(s)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        strcpy(name , nam);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Student<span style="color:#f92672">::</span>show()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student stu1(<span style="color:#ae81ff">10101</span> , <span style="color:#e6db74">&#39;m&#39;</span> , <span style="color:#e6db74">&#34;Wang_li&#34;</span>);
</span></span><span style="display:flex;"><span>    stu1.show();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="314-构造函数的重载">3.1.4 构造函数的重载
</h3><p><strong>定义：<strong>在一个类中可以定义多个构造函数，以便为对象提供不同的初始化的方法供用户选用。这些构造函数</strong>具			有相同的名字，而参数的个数或参数的类型不相同</strong>。这称为构造函数的<strong>重载</strong></p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Box();
</span></span><span style="display:flex;"><span>    Box(<span style="color:#66d9ef">int</span> h, <span style="color:#66d9ef">int</span> w , <span style="color:#66d9ef">int</span> len)<span style="color:#f92672">:</span>height(h),width(w),length(len){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">volume</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    height <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    length <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>volume()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (height<span style="color:#f92672">*</span>width<span style="color:#f92672">*</span>length);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box box1;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box1.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    Box box2(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">25</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box2.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11250</span>
</span></span></code></pre></div><h3 id="315-使用默认参数的构造函数">3.1.5 使用默认参数的构造函数
</h3><p>构造函数中参数的值既可以通过实参传递，也可以指定为某些默认值，即如果用户不指定实参值，编译系统就是形参取默认值</p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Box(<span style="color:#66d9ef">int</span> h<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> , <span style="color:#66d9ef">int</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> , <span style="color:#66d9ef">int</span> len<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">volume</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> w,<span style="color:#66d9ef">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    height <span style="color:#f92672">=</span> h;
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> w;
</span></span><span style="display:flex;"><span>    length <span style="color:#f92672">=</span> len;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>volume()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (height<span style="color:#f92672">*</span>width<span style="color:#f92672">*</span>length);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box box1;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box1.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    Box box2(<span style="color:#ae81ff">15</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box2.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    Box box3(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">30</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box3.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    Box box4(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>box4.volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1500</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4500</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9000</span>
</span></span></code></pre></div><h2 id="32-析构函数">3.2 析构函数
</h2><p><strong>定义：</strong> <strong>析构函数的作用与构造函数相反</strong>，它的名字是类名的前面加一个“~”符号。（在C++中“ ~ ”是<strong>位取反</strong>运算符）</p>
<p><strong>当对象的生命期结束时，会自动执行析构函数。</strong></p>
<p>具体的说如果出现以下4种情况，程序就会执行析构函数：</p>
<ol>
<li>如果在一个函数中定义了一个对象（假设时自动局部对象），<strong>当这个函数被调用结束时，对象应该释放，在对象释放前自动执行析构函数</strong></li>
<li>静态局部对象在函数调用结束时对象并不释放，因此也不调用析构函数，<strong>只在main函数结束或调用exit函数结束程序时，才调用static局部对象的析构函数</strong></li>
<li>如果定义了一个全局的对象，则在程序的流程离开其作用域时（如main函数结束或调用exit函数）时，调用该全局的对象的析构函数</li>
<li>如果用new运算符动态的建立了一个对象，当用delete运算符释放该对象时，先调用该对象的析构函数</li>
</ol>
<p><strong>析构函数的作用并不是删除对象，而是在撤销对象占用的内存之前完成一些清理工作，使这部分内存可以被程序分配给新对象使用</strong></p>
<p>程序设计者实现设计好析构函数，以完成所需的功能，只要对象的生命期结束，程序就自动执行析构函数来完成这些工作</p>
<p>析构函数不返回任何值，没有函数类型，也没有函数参数。由于没有函数参数，因此它<strong>不能被重载</strong>。</p>
<p>一个类可以有多个构造函数，但是<strong>只能由一个析构函数</strong></p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">int</span> n,string nam , <span style="color:#66d9ef">char</span> s)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        num<span style="color:#f92672">=</span>n;
</span></span><span style="display:flex;"><span>        name<span style="color:#f92672">=</span>nam;
</span></span><span style="display:flex;"><span>        sex<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Constructor called&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Student()								<span style="color:#75715e">//定义析构函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Destructor called&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;	<span style="color:#75715e">//输出有关信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>sex<span style="color:#f92672">&lt;&lt;</span>endl<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student stu1(<span style="color:#ae81ff">10010</span>,<span style="color:#e6db74">&#34;Wang_li&#34;</span>,<span style="color:#e6db74">&#39;f&#39;</span>);
</span></span><span style="display:flex;"><span>    stu1.display();
</span></span><span style="display:flex;"><span>    Student stu2(<span style="color:#ae81ff">10011</span>,<span style="color:#e6db74">&#34;Zhang_fang&#34;</span>,<span style="color:#e6db74">&#39;m&#39;</span>);
</span></span><span style="display:flex;"><span>    stu2.display();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Constructor called
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10010</span>
</span></span><span style="display:flex;"><span>Wang_li
</span></span><span style="display:flex;"><span>f
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Constructor called
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10011</span>
</span></span><span style="display:flex;"><span>Zhang_fang
</span></span><span style="display:flex;"><span>m
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Destructor called		<span style="color:#75715e">//执行stud2的析构函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Destructor called		<span style="color:#75715e">//执行stud1的析构函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span></code></pre></div><p>**//**在本例中，析构函数并无任何实质上的作用，只是输出一个信息</p>
<h2 id="33-调用构造函数和析构函数的顺序">3.3 调用构造函数和析构函数的顺序
</h2><p><strong>先构造的后析构，后构造的先析构</strong>，相当于一个栈，<strong>先进后出</strong></p>
<p>下面归纳一下系统在什么时候调用构造函数和析构函数：</p>
<ul>
<li>
<p>如果在<strong>全局范围中定义对象</strong>（即在所有函数之外定义的对象），那么他的构造函数在本文件模块中的所有函数（包括main函数）执行之前调用。<strong>当main函数执行完毕或调用exit函数值，调用析构函数</strong></p>
</li>
<li>
<p>如果定义的是<strong>局部自动对象</strong>（如在函数中定义对象），则在建立对象是调用其构造函数。如果对象所在的函数被多次调用，则在每次建立对象时都要调用构造函数。<strong>在函数调用结束时，对象释放时先调用析构函数</strong></p>
</li>
<li>
<p>如果在函数中定义<strong>静态局部对象</strong>，则<strong>只在程序第一次调用此函数定义对象时调用一次构造函数</strong>，在调用函数结束时对象并不释放，因此也不调用析构函数，<strong>只在main函数结束或调用exit函数结束程序时，才调用析构函数</strong></p>
</li>
</ul>
<h2 id="34-对象数组">3.4 对象数组
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student stu[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student(<span style="color:#ae81ff">1001</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">87</span>);
</span></span><span style="display:flex;"><span>    Student(<span style="color:#ae81ff">1002</span>,<span style="color:#ae81ff">19</span>,<span style="color:#ae81ff">76</span>);
</span></span><span style="display:flex;"><span>    Student(<span style="color:#ae81ff">1003</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">72</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Box(<span style="color:#66d9ef">int</span> h<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> , <span style="color:#66d9ef">int</span> w<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span> , <span style="color:#66d9ef">int</span> len<span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>)<span style="color:#f92672">:</span>height(h),width(w),length(l){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> volume;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>volume()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(height<span style="color:#f92672">*</span>length<span style="color:#f92672">*</span>width);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box a[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Box(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">15</span>),
</span></span><span style="display:flex;"><span>        Box(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">20</span>),
</span></span><span style="display:flex;"><span>        Box(<span style="color:#ae81ff">16</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">26</span>)
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>a[<span style="color:#ae81ff">0</span>].volume()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="35-对象指针">3.5 对象指针
</h2><h3 id="351-指向对象的指针">3.5.1 指向对象的指针
</h3><p><strong>对象空间的起始地址就是对象的指针</strong></p>
<p>定义指向类对象的指针变量的一般形式为</p>
<p><strong>类名 * 对象指针名</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">//如果有一个类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">get_time</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">//在此基础上有以下语句：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Time<span style="color:#f92672">*</span> p1;
</span></span><span style="display:flex;"><span>Time t1;
</span></span><span style="display:flex;"><span>p1 <span style="color:#f92672">=</span> t1;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//这样p1就是指向Time类对象的指针变量，指向t1
</span></span></span></code></pre></div><p>可以通过对象指针访问对象和对象的成员，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#f92672">*</span>p1				<span style="color:#75715e">//p1指向的对象，即t1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#f92672">*</span> p1).hour		<span style="color:#75715e">//p1所指向的对象中的hour成员。即t1.hour
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p1<span style="color:#f92672">-&gt;</span>hour		<span style="color:#75715e">//p1所指向的对象中的hour成员
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#f92672">*</span>pt).get_time	<span style="color:#75715e">//p1所指向的对象中的成员函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p1<span style="color:#f92672">-&gt;</span>get_time
</span></span></code></pre></div><h3 id="352-指向对象成员的指针">3.5.2 指向对象成员的指针
</h3><h4 id="1-指向对象数据成员的指针">1. 指向对象数据成员的指针
</h4><ul>
<li>
<p>定义指向对象数据成员的指针变量名的<strong>一般形式</strong>为</p>
<p><strong>数据类型名 * 指针变量名</strong></p>
</li>
<li>
<p>定义<strong>指向对象数据成员的指针变量</strong>的方法和定义<strong>指向普通变量的指针变量</strong>方法<strong>相同</strong></p>
<p>如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p1;
</span></span></code></pre></div></li>
<li>
<p>如果Time类的数据成员hour为公用的整型数据，则可以在类外通过指向对象数据成员的指针变量访问对象数据成员hour</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>p1 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>t1.hour;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;*</span>p1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span></code></pre></div></li>
</ul>
<h4 id="2-指向对象成员函数的指针">2. 指向对象成员函数的指针
</h4><p><strong>注意：<strong>定义</strong>指向对象成员函数的指针变量的方法</strong>与<strong>定义指向普通函数的指针变量的方法</strong>有所<strong>不同</strong></p>
<ul>
<li>
<p>这里重温指向<strong>普通函数</strong>的指针变量的定义方法</p>
<p>格式：*<em>类型名（<em>指针变量名）（参数列表）；</em></em></p>
<p>如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>(<span style="color:#f92672">*</span>p)();	 <span style="color:#75715e">//p是指向void型函数的指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">=</span>fun;		<span style="color:#75715e">//将fun函数的地址赋给指针变量p,p就是指向函数fun
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#f92672">*</span>p)();		<span style="color:#75715e">//调用fun函数
</span></span></span></code></pre></div></li>
<li>
<p>定义<strong>对象成员函数</strong>的方法：</p>
<p>*<em>数据类型名（类名 :: <em>指针变量名）（参数列表）；</em></em></p>
<p>如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span>(Time<span style="color:#f92672">::*</span>p2)();	<span style="color:#75715e">//定义p2为指向Time类中公用成员函数的指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p2<span style="color:#f92672">=&amp;</span>Time<span style="color:#f92672">::</span>get_time;	<span style="color:#75715e">//函数名后不用加括号（）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//将Time类中的get_time成员函数的地址复制给p2
</span></span></span></code></pre></div><p>例题：</p>
<p>用不同的方法输出时间记录器的时、分、秒</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Time(<span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span> , <span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Get_time</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Time<span style="color:#f92672">::</span>Time(<span style="color:#66d9ef">int</span> h , <span style="color:#66d9ef">int</span> m , <span style="color:#66d9ef">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    hour <span style="color:#f92672">=</span> h;
</span></span><span style="display:flex;"><span>    minute <span style="color:#f92672">=</span> m;
</span></span><span style="display:flex;"><span>    sec <span style="color:#f92672">=</span> s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Time<span style="color:#f92672">::</span>Get_time()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>hour<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">&lt;&lt;</span>minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">&lt;&lt;</span>sec<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time t1(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">56</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p1 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>t1.hour;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;*</span>p1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    t1.Get_time();
</span></span><span style="display:flex;"><span>    Time<span style="color:#f92672">*</span> p2 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>t1;
</span></span><span style="display:flex;"><span>    p2<span style="color:#f92672">-&gt;</span>Get_time();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span>(Time<span style="color:#f92672">::</span> <span style="color:#f92672">*</span>p3)();
</span></span><span style="display:flex;"><span>    p3<span style="color:#f92672">=&amp;</span>Time<span style="color:#f92672">::</span>Get_time;
</span></span><span style="display:flex;"><span>    (t1.<span style="color:#f92672">*</span>p3)();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="353-this指针">3.5.3 this指针
</h3><p>在每一个成员函数中都包含一个特殊的指针，这个指针的名字是固定的，称为<strong>this</strong></p>
<p>它是<strong>指向本类对象的指针</strong>，他的值是<strong>当前被调用的成员函数所在的对象的起始地址</strong></p>
<p>例如，当调用成员函数 a.volume 时，编译系统就把对象a的起始地址赋给this指针，于是在成员函数引用数据成员时，就按照this的指向找到对象a的数据成员。</p>
<p>如volume函数要计算height * width * length 的值，实际是执行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>(<span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>height)<span style="color:#f92672">*</span>(<span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>width)<span style="color:#f92672">*</span>(<span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>length)
</span></span><span style="display:flex;"><span><span style="color:#75715e">//相当于执行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> (a.height)<span style="color:#f92672">*</span>(a.width)<span style="color:#f92672">*</span>(a.length)
</span></span><span style="display:flex;"><span><span style="color:#75715e">//上述两个句子的括号是不必要的，只是为了方便阅读
</span></span></span></code></pre></div><p>this指针是隐式使用的，它是作为参数被传递给成员函数的</p>
<h2 id="36-共用数据的保护">3.6 共用数据的保护
</h2><h3 id="361-常对象">3.6.1 常对象
</h3><p>可以在定义对象时加关键字const，指定对象为常对象</p>
<p>常对象必须有初值，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">t1</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">34</span>,<span style="color:#ae81ff">46</span>);
</span></span></code></pre></div><p>定义常对象的一般形式为</p>
<p><strong>类名 const 对象名 [(实参表)]</strong></p>
<p><strong>const 类名 对象名 [(实参表)]</strong></p>
<p>二者等价。在定义常对象时，必须同时对峙初始化，之后不能再改变</p>
<p><strong>注意：</strong></p>
<ul>
<li>
<p>如果一个对象被声明为常对象，则通过该对象只能调用它的常成员函数，而不能调用该对象的普通成员函数（除了有系统自动调用的隐式的构造函数和析构函数）。常成员函数是常对象唯一的对外接口</p>
</li>
<li>
<p>常成员函数可以访问常对象中的数据成员，但任然不允许修改常对象中数据成员的值</p>
</li>
<li>
<p>若一定要修改常对象中的某个数据成员的值，可以对该数据成员声明为mutable，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">mutable</span> <span style="color:#66d9ef">int</span> count;
</span></span></code></pre></div></li>
</ul>
<h3 id="362-常对象成员">3.6.2 常对象成员
</h3><h4 id="1-常数据成员">1. 常数据成员
</h4><p>常数据成员的值是不能改变的。</p>
<p>**注意：**只能通过构造函数的参数初始化表对常数据成员进行初始化，任何其他函数都不能对常数据成员赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time<span style="color:#f92672">::</span>Time(<span style="color:#66d9ef">int</span> h)<span style="color:#f92672">:</span>hour(h){}		<span style="color:#75715e">//通过参数初始化表对长数据成员hour进行初始化
</span></span></span></code></pre></div><p><strong>构造函数只能用参数初始化表对长数据成员进行初始化</strong></p>
<h4 id="2-常成员函数">2. 常成员函数
</h4><p>声明常成员函数的<strong>一般形式</strong>为：</p>
<p><strong>类型名 函数名（参数表）const</strong></p>
<p>如，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">get_time</span>()<span style="color:#66d9ef">const</span>;	<span style="color:#75715e">//注意const的位置在函数名和括号之后
</span></span></span></code></pre></div><p>const是函数类型的一部分，在声明函数和定义函数时都要有const关键字，在调用时不必加</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>数据成员</th>
<th>非const的普通成员函数</th>
<th>const成员函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>非const的普通数据成员</td>
<td>可以引用，也可以改变值</td>
<td>可以引用，但不可以改变值</td>
</tr>
<tr>
<td>const数据成员</td>
<td>可以引用，但不可以改变值</td>
<td>可以引用，但不可以改变值</td>
</tr>
<tr>
<td>const对象</td>
<td>不允许</td>
<td>可以引用，但不可以改变值</td>
</tr>
</tbody>
</table></div>
<h3 id="363-指向对象的常指针">3.6.3 指向对象的常指针
</h3><p>将指针变量声明为const型，这样指针变量始终保持为初值，不能改变，即指向不变</p>
<p>定义指向对象的长指针变量的一般形式为</p>
<p><strong>类名 * const 指针变量名；</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time <span style="color:#a6e22e">t1</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">15</span>),t2;	<span style="color:#75715e">//定义对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Time<span style="color:#f92672">*</span> <span style="color:#66d9ef">const</span> ptr;		<span style="color:#75715e">//const位置在指针变量名前面，指定ptr是常指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>ptr<span style="color:#f92672">=&amp;</span>t1;				<span style="color:#75715e">//ptr指向对象t1，此后不能再改变指向
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>ptr<span style="color:#f92672">=&amp;</span>t1;				<span style="color:#75715e">//error错误，ptr不能改变指向
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//也可合并成
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Time<span style="color:#f92672">*</span> <span style="color:#66d9ef">const</span> ptr<span style="color:#f92672">=&amp;</span>t1;
</span></span></code></pre></div><h3 id="364-指向常对象的指针变量">3.6.4 指向常对象的指针变量
</h3><h4 id="1指向常变量">1.指向常变量
</h4><p>定义<strong>指向常变量</strong>的指针变量的<strong>一般形式</strong>为：</p>
<p><strong>const 类型名 * 指针变量名</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ptr;
</span></span></code></pre></div><p>说明：</p>
<ul>
<li>
<p><strong>如果一个变量已被声明为常变量，只能用指向常变量的指针变量指向它</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> c[]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;boy&#34;</span>;	<span style="color:#75715e">//定义const型的char数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p1;			<span style="color:#75715e">//定义p1为指向const型的char变量的指针元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p1<span style="color:#f92672">=</span>c;					<span style="color:#75715e">//合法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p2 <span style="color:#f92672">=</span>c;			<span style="color:#75715e">//error不合法
</span></span></span></code></pre></div></li>
<li>
<p><strong>指向常变量的指针变量除了可以指向常变量，还可以指向未被声明为const的变量</strong>。此时不能通过此指针变量改变该变量的值，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> c1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>;		<span style="color:#75715e">//定义字符变量c1,它并未声明为const
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p;		<span style="color:#75715e">//定义一个指向常变量的指针变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>c1;
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>p<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;b&#39;</span>;				<span style="color:#75715e">//error非法，不能通过p来改变变量c1的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;b&#39;</span>;				<span style="color:#75715e">//合法，没有通过p访问c1,c1不是常变量
</span></span></span></code></pre></div><p><strong>只是指针变量访问c1期间</strong>，c1具有常变量的特征，其值不能改变。<strong>在其他情况下</strong>，c1任然是一个普通的变量，其值可以该改变</p>
</li>
<li>
<p>如果函数的形参是指向普通变量的指针变量，实参只能用指向普通变量的指针，而不能用指向const变量的指针</p>
</li>
</ul>
<h4 id="2指向常对象">2.指向常对象
</h4><p><strong>指向常对象的指针变量</strong>的概念和使用与上述类似，只要将“变量”换成“对象”即可</p>
<ul>
<li>
<p><strong>如果一个对象已被声明为常对象，只能用指向常对象的指针变量指向它，而不能用一般的指针变量</strong></p>
</li>
<li>
<p><strong>如果定义了一个指向常对象的指针变量，并使它指向一个非const的对象，则其指向的对象是不能通过该指针变量来改变的</strong></p>
</li>
<li>
<p><strong>指向常对象的指针最常用于函数的形参，目的是在保护形参指针所指向的对象，使它在函数执行过程中不被修改</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> fun(<span style="color:#66d9ef">const</span> Time<span style="color:#f92672">*</span>);
</span></span><span style="display:flex;"><span>    Time t1(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">56</span>);
</span></span><span style="display:flex;"><span>    fun(<span style="color:#f92672">&amp;</span>t1);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>(<span style="color:#66d9ef">const</span> Time<span style="color:#f92672">*</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">-&gt;</span>hour<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>;		<span style="color:#75715e">//error错误，不能改变其值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span>p<span style="color:#f92672">-&gt;</span>hour<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**注意：**当希望在调用函数时对象的值不被修改，就应当把形参定义为指向常对象的指针变量，同时用对象的地址作实参（对象可以是const或非const型）</p>
</li>
<li>
<p><strong>如果定义了一个指向常对象的指针变量，是不能通过它改变所指向的对象的值的，但是指针变量本身的值是可以改变的,如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> Time<span style="color:#f92672">*</span> p <span style="color:#f92672">=&amp;</span>t1;	<span style="color:#75715e">//定义指向常对象的指针变量p，并指向对象t1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>t2;		<span style="color:#75715e">//p改为指向t2，合法
</span></span></span></code></pre></div></li>
</ul>
<h3 id="365-对象的常引用">3.6.5 对象的常引用
</h3><p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Time(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Time<span style="color:#f92672">::</span>Time(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    hour<span style="color:#f92672">=</span>h;
</span></span><span style="display:flex;"><span>    minute<span style="color:#f92672">=</span>m;
</span></span><span style="display:flex;"><span>    sec<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fun</span>(Time <span style="color:#f92672">&amp;</span>t)		<span style="color:#75715e">//如果不希望在函数中修改实参t1的值，可以把fun函数的形参t声明为const
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{						<span style="color:#75715e">//即，void fun(const Time &amp;t);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    t.hour<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time t1(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">56</span>);
</span></span><span style="display:flex;"><span>    fun(t1);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>t1.hour<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">18</span>
</span></span></code></pre></div><h3 id="366-const型数据小结">3.6.6 const型数据小结
</h3><div class="table-wrapper"><table>
<thead>
<tr>
<th>形式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>Time const t;</td>
<td>t是常对象，其值在任何情况下都不能改变</td>
</tr>
<tr>
<td>void Time::fun()const;</td>
<td>fun是Time类中的常成员函数，可以引用，但不能修改本类中的数据成员</td>
</tr>
<tr>
<td>Time* const p;</td>
<td>p是指向Time类对象的常指针变量，p的指向不能改变</td>
</tr>
<tr>
<td>const Time* p;</td>
<td>p是指向Time类对象的常指针变量，p指向的类对象的值不能通过p来改变，p的指向可以改变</td>
</tr>
<tr>
<td>const Time &amp;t1 = t;</td>
<td>t1是Time类对象t的引用，二者指向同一存储空间，t的值不能改变</td>
</tr>
</tbody>
</table></div>
<h2 id="37-对象的动态建立和释放">3.7 对象的动态建立和释放
</h2><p><strong>new</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box<span style="color:#f92672">*</span> p1;
</span></span><span style="display:flex;"><span>p1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Box;
</span></span></code></pre></div><p><strong>delete</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">delete</span> p1;
</span></span></code></pre></div><h2 id="38-对象的赋值和复制">3.8 对象的赋值和复制
</h2><h3 id="381-对象的赋值">3.8.1 对象的赋值
</h3><p>如果对一个类定义了两个或多个对象，则这些同类的对象之间可以互相赋值，或者说，一个对象的值可以赋给另一个同类的对象。</p>
<p><strong>对象名 1 = 对象名 2</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student stu1,stu2;	<span style="color:#75715e">//定义两个同类的对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>stu1 <span style="color:#f92672">=</span> stu2;		<span style="color:#75715e">//将stu1赋给stu2
</span></span></span></code></pre></div><p><strong>注意：</strong></p>
<p>类的数据成员中不能包括动态分配的数据，否则在赋值时，可能出现严重后果</p>
<h3 id="382-对象的复制">3.8.2 对象的复制
</h3><ul>
<li>
<p><strong>一般形式：</strong></p>
<p><strong>类名 对象2（对象1）；</strong></p>
<p><strong>类名 对象2 = 对象1；</strong>//与上者等效</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box <span style="color:#a6e22e">box2</span>(box1);	<span style="color:#75715e">//用对象1复制出对象2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Box box2 <span style="color:#f92672">=</span> box1;	<span style="color:#75715e">//效果相同
</span></span></span></code></pre></div></li>
<li>
<p><strong>复制构造函数 （拷贝构造函数）</strong></p>
<p><strong>一般格式：</strong></p>
<p><strong>类名::函数名（类名&amp; 参数）</strong></p>
<p><strong>例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box(Box<span style="color:#f92672">&amp;</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    height<span style="color:#f92672">=</span>b.height;
</span></span><span style="display:flex;"><span>    width<span style="color:#f92672">=</span>b.width;
</span></span><span style="display:flex;"><span>    length<span style="color:#f92672">=</span>b.length;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box box2(box1);	<span style="color:#75715e">//将box1的值赋值给box2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
<li>
<p><strong>复制与复制的区别：</strong></p>
<p>对象的<strong>赋值</strong>时对一个已经存在的对象赋值，因此必须先定义被赋值的对象，才能进行赋值。</p>
<p>对象的<strong>复制</strong>则是从无到有地建立一个新对象，并使它与一个已有的对象完全相同</p>
</li>
</ul>
<h3 id="383-浅拷贝深拷贝">3.8.3 浅拷贝、深拷贝
</h3><ul>
<li>
<p><strong>浅拷贝</strong></p>
<p>简单地制作一个该对象的拷贝，而不对它本身进行资源分配和复制，就得面临一个麻烦的局面：两个对象都拥有同一个资源，当对象析构时，该资源将经历两次资源返还。</p>
<p>例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pName;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Person(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pN);
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Person();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">::</span>Person(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pN)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Constructing &#34;</span><span style="color:#f92672">&lt;&lt;</span>pN<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    pName <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(pN)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pName<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        strcpy(pName,pN);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">::~</span>Person()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Destructing &#34;</span><span style="color:#f92672">&lt;&lt;</span>pName<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    pName[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\0&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> pName;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Person p1(<span style="color:#e6db74">&#34;Randy&#34;</span>);
</span></span><span style="display:flex;"><span>    Person p2<span style="color:#f92672">=</span>p1;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Constructing Randy
</span></span><span style="display:flex;"><span>Destructing Randy
</span></span><span style="display:flex;"><span>Destructing <span style="color:#960050;background-color:#1e0010">␦</span>u
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">然后是程序崩溃</span>
</span></span></code></pre></div><p>​	程序开始运行时，创建p1对象，p1对象的构造函数从堆中分配空间并赋给数据成员pName，同时产生第一行输出；</p>
<p>​	执行第二行“Person p2=p1；”时，因为没有定义拷贝构造函数，于是就调用默认拷贝构造函数，使得p2和p1完全一样，并没有分配新的对空间给p2；如图</p>
<p><img src="C:/Users/carp/AppData/Roaming/Typora/typora-user-images/image-20240415195748277.png"
	
	
	
	loading="lazy"
	
		alt="image-20240415195748277"
	
	
></p>
<p>​	主函数结束时，对象逐个析构，<strong>先构造的后析构，后构造的先析构</strong>。析构p2时，将堆中字符串清成空串，然后将堆空间返还给系统，并同时得到第二行输出；</p>
<p>​	析构p1时，因为这时pName指向的是空串，所以第三行输出中显示的只是Destructing；</p>
<p>​	当执行“delete pName;”时，系统报错，显示第四行结果</p>
<p>创建p2时，对象p1被复制给了p2，但资源并未复制，因此p1和p2指向同一个资源，这称为浅拷贝</p>
</li>
<li>
<p><strong>深拷贝</strong></p>
<p>例，下面的代码实在上面程序的基础上，增加一个Person类的拷贝构造函数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pName;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Person(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pN);
</span></span><span style="display:flex;"><span>    Person(Person<span style="color:#f92672">&amp;</span> p);
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Person();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">::</span>Person(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pN)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Constructing &#34;</span><span style="color:#f92672">&lt;&lt;</span>pN<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    pName <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(pN)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pName<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        strcpy(pName,pN);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">::</span>Person(Person<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Copying &#34;</span><span style="color:#f92672">&lt;&lt;</span>p.pName<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; into its own block</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>    pName <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(p.pName)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pName<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        strcpy(pName,p.pName);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">::~</span>Person()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Destructing &#34;</span><span style="color:#f92672">&lt;&lt;</span>pName<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    pName[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\0&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> pName;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Person p1(<span style="color:#e6db74">&#34;Randy&#34;</span>);
</span></span><span style="display:flex;"><span>    Person p2<span style="color:#f92672">=</span>p1;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Constructing Randy
</span></span><span style="display:flex;"><span>Copying Randy into its own block
</span></span><span style="display:flex;"><span>Destructing Randy
</span></span><span style="display:flex;"><span>Destructing Randy
</span></span></code></pre></div><p>​	程序开始运行时，创建p1对象，产生第一行输出；</p>
<p>​	用p1去创建p2对象，调用自己定义的拷贝构造函数，于是得到第二行输出；</p>
<p>​	拷贝构造函数中，不但复制了对象空间，也复制堆内存空间，见图</p>
<p><img src="C:/Users/carp/AppData/Roaming/Typora/typora-user-images/image-20240415201723008.png"
	
	
	
	loading="lazy"
	
		alt="image-20240415201723008"
	
	
></p>
<p>​	当主函数退出时，先后析构p2和p1，但这时候对象们有其各自的资源，所以析构函数能够进行，产生最后两行输出</p>
<p>​</p>
<p>​	创建p2时，对象p1被复制给了p2，同时资源也作了复制，因此p1和p2指向不同的资源，这称为<strong>深拷贝</strong></p>
</li>
</ul>
<h2 id="39-静态成员">3.9 静态成员
</h2><h3 id="391-静态数据成员">3.9.1 静态数据成员
</h3><p>静态数据成员的一种特殊的数据成员，它以关键字static，例如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> volume();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li><strong>如果希望各对象中的数据成员的值是一样的，就可以把它定义为静态数据成员</strong>，这样它就为个对象所共有，而不只属于某个对象的成员，所有对象都可以引用它。</li>
<li><strong>静态对象的数据成员在内存中只占用一份空间</strong>，而不是每个对象都分别为他保留一份空间</li>
<li>静态成员的值对所有对象都是一样的，如果改变它的值，则在个对象中这个数据成员的值都同时改变了。</li>
<li>可以节约空间，提高效率</li>
</ul>
<p><strong>说明：</strong></p>
<ul>
<li>
<p>如果只声明了类而为定义对象，则类的一般数据成员是不占内存空间的，只有在定义对象时，才为对象的数据成员分配空间，但是静态数据成员不属于一个对象，在为对象所分配的空间中不包括静态数据成员所占的空间。静态数据成员时在所有对象之外单独开辟空间。<strong>只要在类中指定了静态数据成员，即使不定义对象，也为静态数据成员分配空间，它可以被引用</strong></p>
</li>
<li>
<p>它不随对象的建立而分配空间，也不随对象的撤销而释放（一般数据成员时在对象建立时分配空间，在对象撤销时释放）。<strong>静态数据成员是在程序开始运行时被分配空间，到程序结束时才释放空间</strong></p>
</li>
<li>
<p><strong>静态数据成员可以初始化，但是只能在类外进行初始化</strong>，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>height<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>;
</span></span></code></pre></div><p>一般形式：<strong>数据类型 类名::静态数据成员名=初值</strong></p>
<p><strong>只要在类体中声明静态数据成员时加static，不必在类外初始化语句中加static</strong></p>
<p>注意：不能用参数初始化表对静态数据成员初始化，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> w,<span style="color:#66d9ef">int</span> len)<span style="color:#f92672">:</span>height(h);	<span style="color:#75715e">//error，height是静态数据成员
</span></span></span></code></pre></div></li>
<li>
<p><strong>静态数据成员既可以通过对象名引用，也可以通过类名来引用</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>  Box(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">volume</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> height;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> width;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> length;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>Box(<span style="color:#66d9ef">int</span> w,<span style="color:#66d9ef">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> w;
</span></span><span style="display:flex;"><span>    length <span style="color:#f92672">=</span> len;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Box<span style="color:#f92672">::</span>height <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Box a(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">20</span>),b(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">30</span>);		<span style="color:#75715e">//建立两个对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span>a.height<span style="color:#f92672">&lt;&lt;</span>endl;		<span style="color:#75715e">//通过对象名a引用静态数据成员height
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span>b.height<span style="color:#f92672">&lt;&lt;</span>endl;		<span style="color:#75715e">//通过对象名b引用静态数据成员height
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span>Box<span style="color:#f92672">::</span>height<span style="color:#f92672">&lt;&lt;</span>endl;	<span style="color:#75715e">//通过类名引用静态数据成员height
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>    
</span></span></code></pre></div><p>注意：<strong>如果静态数据成员被定义为私有的，则不能在类外直接引用，而必须通过公用的成员函数引用</strong></p>
</li>
<li>
<p>有了静态数据成员，各对象之间的数据有了沟通的渠道，实现了数据共享，因此可以不适用全局变量</p>
</li>
</ul>
<h3 id="992-静态成员函数">9.9.2 静态成员函数
</h3><p><strong>定义静态成员函数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> volume
</span></span></code></pre></div><p><strong>静态成员函数是类的一部分而不是对象的一部分，如果要在类外调用公用的静态成员函数，要用类名和域运算符“::”</strong>，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Box<span style="color:#f92672">::</span>volume();
</span></span></code></pre></div><p><strong>静态成员函数主要用来访问静态数据成员，而不访问非静态成员</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">//假如在一个静态成员函数中有以下语句
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>height<span style="color:#f92672">&lt;&lt;</span>endl;		<span style="color:#75715e">//若height已声明为static，则引用本类中的静态成员，合法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span>width<span style="color:#f92672">&lt;&lt;</span>endl;		<span style="color:#75715e">//若width是非静态数据成员，不合法，error
</span></span></span></code></pre></div><p><strong>如果一定要引用本类的非静态成员，应该加对象名和成员运算符，如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>a.width<span style="color:#f92672">&lt;&lt;</span>endl;	<span style="color:#75715e">//引用本类对象a中的非静态成员
</span></span></span></code></pre></div><p>注：<strong>因为静态成员对象并不属于某一对象，所以没有this指针。所以不能进行默认访问</strong></p>
<p>**例：**统计学生平均成绩。使用静态成员函数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">int</span> n,<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">float</span> s)<span style="color:#f92672">:</span>num(n),age(a),score(s) {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">total</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">average</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">float</span> sum;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> count;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Student<span style="color:#f92672">::</span>total()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    sum<span style="color:#f92672">+=</span>score;
</span></span><span style="display:flex;"><span>    count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span> Student<span style="color:#f92672">::</span>average()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (sum<span style="color:#f92672">/</span>count);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span> Student<span style="color:#f92672">::</span>sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> Student<span style="color:#f92672">::</span>count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student stud[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Student(<span style="color:#ae81ff">1001</span>,<span style="color:#ae81ff">18</span>,<span style="color:#ae81ff">70</span>),
</span></span><span style="display:flex;"><span>        Student(<span style="color:#ae81ff">1002</span>,<span style="color:#ae81ff">19</span>,<span style="color:#ae81ff">78</span>),
</span></span><span style="display:flex;"><span>        Student(<span style="color:#ae81ff">1005</span>,<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">98</span>)
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span>n ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        stud[i].total();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>n<span style="color:#f92672">&lt;&lt;</span>endl<span style="color:#f92672">&lt;&lt;</span>Student<span style="color:#f92672">::</span>average()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">82</span>    
</span></span></code></pre></div><p>最好养成习惯：<strong>只用静态成员函数引用静态数据成员，而不引用非静态数据成员</strong></p>
<h2 id="312-构造函数用于类型转换">3.12 构造函数用于类型转换
</h2><p>例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fn</span>(Student<span style="color:#f92672">&amp;</span> s);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    fn(<span style="color:#e6db74">&#34;Jenny&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>​	因为有Student（char*)的构造函数，，又有fn(Student&amp; s)函数，于是，fn(&ldquo;Jenny&rdquo;)便被认为是fn(Student(“Jenny”))，最终予以匹配。</p>
<p>​	把构造函数用来从一种类型转换为另一种类型，这是C++从类机制中获得的附加性能</p>
<p>​	但要注意：</p>
<ul>
<li>
<p><strong>只会尝试含有一个参数的构造函数</strong></p>
</li>
<li>
<p><strong>如果有二义性，则放弃尝试，如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addCourse</span>(Student<span style="color:#f92672">&amp;</span> s);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addCourse</span>(Teachar<span style="color:#f92672">&amp;</span> t);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    addCourse(<span style="color:#e6db74">&#34;prof&#34;</span>);<span style="color:#75715e">//error，存在二义性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="310-友元">3.10 友元
</h2><h3 id="3101-友元函数">3.10.1 友元函数
</h3><p>如果在本类以外的其他地方定义了一个函数（这个函数可以是不属于任何类的非成员函数，也可以是其他类的成员函数），在类体中用friend对其进行声明，此函数就称为本类的友元函数。</p>
<p>友元函数可以访问这个类中的私有成员，</p>
<h4 id="1将普通函数声明为友元函数">1.将普通函数声明为友元函数
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Time(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>(Time <span style="color:#f92672">&amp;</span>);        <span style="color:#75715e">//声明display函数为Time类的友元函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>Time<span style="color:#f92672">::</span>Time(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    hour<span style="color:#f92672">=</span>h;
</span></span><span style="display:flex;"><span>    minute<span style="color:#f92672">=</span>m;
</span></span><span style="display:flex;"><span>    sec<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>(Time<span style="color:#f92672">&amp;</span> t)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>t.hour<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>t.minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>t.sec<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time t1(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">56</span>);
</span></span><span style="display:flex;"><span>    display(t1);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">13</span><span style="color:#f92672">:</span><span style="color:#ae81ff">56</span>
</span></span></code></pre></div><p>disp函数中，在引用私有私有数据成员时，必须加上对象名，要写成</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span>t.hour<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>t.minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>t.sec<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span></code></pre></div><p>因为display函数不是Time类的成员函数，没有this指针，不能默认引用Time类的数据成员，必须指定要访问的对象</p>
<h4 id="2友元成员函数">2.友元成员函数
</h4><p>friend函数不仅可以使一般函数，也可以是另一个类中的成员函数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Date</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Time(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>(Date <span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hour;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Date</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Date(<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span> ,<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">void</span> Time<span style="color:#f92672">::</span>display(Date <span style="color:#f92672">&amp;</span>);		<span style="color:#75715e">//声明Time中的display函数为本类的友元成员函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> month;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> day;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> year;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Time<span style="color:#f92672">::</span>Time(<span style="color:#66d9ef">int</span> h,<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    hour<span style="color:#f92672">=</span>h;
</span></span><span style="display:flex;"><span>    minute<span style="color:#f92672">=</span>m;
</span></span><span style="display:flex;"><span>    sec<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Time<span style="color:#f92672">::</span>display(Date <span style="color:#f92672">&amp;</span>d)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>d.month<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">&lt;&lt;</span>d.day<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">&lt;&lt;</span>d.year<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>hour<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sec<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Date<span style="color:#f92672">::</span>Date(<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> d,<span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    month<span style="color:#f92672">=</span>m;
</span></span><span style="display:flex;"><span>    day<span style="color:#f92672">=</span>d;
</span></span><span style="display:flex;"><span>    year<span style="color:#f92672">=</span>y;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time t1(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">56</span>);
</span></span><span style="display:flex;"><span>    Date d1(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">25</span>,<span style="color:#ae81ff">2004</span>);
</span></span><span style="display:flex;"><span>    t1.display(d1);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">12</span><span style="color:#f92672">/</span><span style="color:#ae81ff">25</span><span style="color:#f92672">/</span><span style="color:#ae81ff">2004</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">13</span><span style="color:#f92672">:</span><span style="color:#ae81ff">56</span>
</span></span></code></pre></div><p><strong>注意：</strong></p>
<ul>
<li>在函数名display的前面要加display所在的对象名</li>
<li>display成员函数的实参是Date类对象d1，否则就不能访问对象d1 中的私有数据</li>
<li>在Time::display的函数中引用Date类私有数据时必须加上对象名，如d.month</li>
<li>要先声明Date类名，表示此类将在稍后声明。只包含类名，不包括类体。否则使用不了友元成员函数</li>
</ul>
<h3 id="9102-友元类">9.10.2 友元类
</h3><p><strong>不仅可以将一个函数声明为一个类的“朋友”，而且可以将一个类（如B类）声明为另一个类（A类）的“朋友”</strong></p>
<p><strong>这时B类就是A类的友元类</strong></p>
<p><strong>友元类B中的所有函数都是A类的友元函数，可以访问A类中的所有成员</strong></p>
<p>在A类的定义体中用以下的语句声明B类为其友元类</p>
<p><strong>friend B</strong></p>
<p>声明友元类的一般形式为：
<strong>friend 类名</strong></p>
<p><strong>说明：</strong></p>
<ul>
<li><strong>友元的关系是单向的</strong>，而不是双向的。如果声明了B类是A类的友元类，不等于A类是B类的友元类，A类中的成员函数不能访问B类中的私有数据，B类中的成员函数能访问A类中的私有数据</li>
<li><strong>友元的关系不能传递</strong>，如果B类是A类的友元类，C类是B类的友元类，不等于C类是A类的友元类。如果想让C类是A类的友元类，应在A类中另外声明</li>
<li>一般情况下并不把整个类声明为友元类，而只将确实有需要的成员函数声明为友元函数，这样更安全一点</li>
</ul>
<h2 id="311-类模板">3.11 类模板
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">numtype</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Compare</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Compare(numtype a,numtype b)
</span></span><span style="display:flex;"><span>    {x<span style="color:#f92672">=</span>a;y<span style="color:#f92672">=</span>b;}
</span></span><span style="display:flex;"><span>    numtype <span style="color:#a6e22e">max</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>(x<span style="color:#f92672">&gt;</span>y)<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    numtype <span style="color:#a6e22e">min</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>(x<span style="color:#f92672">&lt;</span>y)<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    numtype x,y;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>说明：</strong></p>
<ul>
<li>
<p><strong>声明类模板时要增加一行</strong></p>
<p><strong>template&lt;class 类型参数名&gt;</strong></p>
<p>template是声明类模板时必须写的关键字。在template后面的尖括号内的内容为模板的参数表，关键字class表示其后面的是类型参数。</p>
<p>在本例中，numtype是一个类型参数名，这个名字是任意取的，只要是合法的标识符即可。</p>
</li>
<li>
<p>原有的类型名 int 换成虚拟类型参数名：numtype。这样就能实现<strong>一类多用</strong></p>
</li>
</ul>
<p>由于类模板包含类型参数，因此又称为<strong>参数化的类</strong>。</p>
<p><strong>类模板是类的抽象，类是类模板的实例。</strong></p>
<p><strong>类模板的使用：</strong></p>
<p>Compare是类模板名，而不是一个具体的类，类模板中的类型numtype并不是一个实际的类型，只是一个虚拟的类型，无法用它去定义对象，<strong>必须用实际类型名去替代虚拟的类型</strong>，<strong>具体做法是：</strong></p>
<p><strong>Compare &lt; int &gt; cmp (4,7);</strong></p>
<p>即在类模板名之后再尖括号内指定实际的类型名，在进行编译时，编译系统就用int取代类模板中的类型参数numtype，这样就把类模板具体化了</p>
<p>其一般形式为：</p>
<p><strong>类模板名&lt;实际类型名&gt; 对象名（参数表）；</strong></p>
<p><strong>例：声明一个类模板，利用它分别实现两个整数、浮点数和字符的比较，求出大数和小数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">numtype</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Compare</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Compare(numtype a,numtype b)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        x<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>        y<span style="color:#f92672">=</span>b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    numtype <span style="color:#a6e22e">max</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>(x<span style="color:#f92672">&gt;</span>y)<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    numtype <span style="color:#a6e22e">min</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>(x<span style="color:#f92672">&lt;</span>y)<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    numtype x,y;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Compare<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> cmp1(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">7</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp1.max()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp1.min()<span style="color:#f92672">&lt;&lt;</span>endl<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Compare<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span> cmp2(<span style="color:#ae81ff">45.78</span>,<span style="color:#ae81ff">93.6</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp2.max()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp2.min()<span style="color:#f92672">&lt;&lt;</span>endl<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Compare<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">char</span><span style="color:#f92672">&gt;</span> cmp3(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;A&#39;</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp3.max()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>cmp3.min()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">93.6</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">45.78</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a
</span></span><span style="display:flex;"><span>A
</span></span></code></pre></div><p>上面列出的类模板中的成员函数实在类模板内定义的，<strong>如果改为在类模板外定义</strong>，不能用一般定义类成员函数的形式，<strong>应当写成类模板的形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">numtype</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>numtype Compare<span style="color:#f92672">&lt;</span>numtype<span style="color:#f92672">&gt;::</span>max()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(x<span style="color:#f92672">&gt;</span>y)<span style="color:#f92672">?</span>x:y;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>归纳以上的介绍，可以这样声明和使用类模板：</strong></p>
<ul>
<li>
<p>先写出一个实际的类</p>
</li>
<li>
<p>将此类中准备改变的类型（如int要改为float或char）改用一个自己指定的虚拟类型名（如上例中的numtype）</p>
</li>
<li>
<p>在类声明前面加入一行</p>
<p><strong>template&lt;class 虚拟类型名&gt;</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">numtype</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Compare</span>
</span></span><span style="display:flex;"><span>{};
</span></span></code></pre></div></li>
<li>
<p><strong>用类型模板定义对象时</strong>用以下形式</p>
<p><strong>类型模板名&lt;实际类型名&gt;对象名；</strong></p>
<p><strong>类型模板名&lt;实际类型名&gt;对象名（实参表）；</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Compare<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>cmp;
</span></span><span style="display:flex;"><span>Compare<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>cmp(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">7</span>);
</span></span></code></pre></div></li>
<li>
<p>如果<strong>在类模板外定义成员函数</strong>，应写成类模板形式：</p>
<p><strong>template&lt;class 虚拟类型参数&gt;</strong></p>
<p><strong>函数类型 类模板名&lt;虚拟类型参数&gt;::成员函数名（函数形参表）{}</strong></p>
<p>说明：</p>
<ol>
<li>
<p>类模板的类型参数可以有一个或多个，每个类型前面都必须加class，如</p>
<p>template&lt;class T1,class T2&gt;</p>
<p>class someclass</p>
<p>{……}；</p>
<p>在定义对象时分别代入实际的类型名，如</p>
<p>someclass&lt;int,double&gt; obj;</p>
</li>
<li>
<p>和使用类一样，使用类模板使要注意其作用于，只能在其有效作用域内用它定义对象。</p>
<p>如果类模板是在A文件开头定义的，则A文件范围内为有效作用域，但不能在B文件中用类模板定义对象</p>
</li>
<li>
<p>模板可以有层次，一个类模板可以作为基类，派生出派生模板类</p>
</li>
</ol>
</li>
</ul>
<h1 id="4-运算符重载">4. 运算符重载
</h1><h2 id="101运算符重载的方法">10.1运算符重载的方法
</h2><p>运算符重载的方法是<strong>定义一个重载运算符的函数</strong>，使指定的运算符不仅能实现原有的功能，而且能实现在函数中指定的新的功能。</p>
<p>在使用重载的运算符时，系统就自动调用该函数，以实现相应的功能。</p>
<p><strong>运算符重载的实质是函数的重载</strong></p>
<hr>
<p>重载运算符的函数一般格式如下：</p>
<p><strong>函数类型 operator 运算符名称（形参表）</strong></p>
<p><strong>{对运算符的重载处理}</strong></p>
<p>例如，将“+”用于Complex类（复数）的加法运算，函数的圆形可以是：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c1,Complex<span style="color:#f92672">&amp;</span> c2);
</span></span></code></pre></div><p><strong>operator</strong>是关键字，是专门用于定义重载运算符的函数</p>
<p><strong>运算符名称</strong>就是C++已有的运算符</p>
<p>注意：<strong>函数名是由 operator 和运算符组成的</strong>，上面的 <strong>“operator +”</strong> 就是函数名</p>
<hr>
<p><strong>例：对运算符“+”实行重载，使之能用于两个复数相加</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Complex(){real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r, <span style="color:#66d9ef">double</span> i){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span>i;}
</span></span><span style="display:flex;"><span>    Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Complex Complex<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span><span style="color:#f92672">+</span>(Complex<span style="color:#f92672">&amp;</span> c2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c;
</span></span><span style="display:flex;"><span>    c.real <span style="color:#f92672">=</span> real<span style="color:#f92672">+</span>c2.real;
</span></span><span style="display:flex;"><span>    c.imag <span style="color:#f92672">=</span> imag<span style="color:#f92672">+</span>c2.imag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> c;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Complex<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>real<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">&lt;&lt;</span>imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>) , c2(<span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>),c3;
</span></span><span style="display:flex;"><span>    c3<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>c2;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c1=&#34;</span>;c1.display();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c2=&#34;</span>;c2.display();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c1+c2=&#34;</span>;c3.display();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>上面的运算符重载函数还可以写的更简练一点</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Complex Comoplex<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c2)
</span></span><span style="display:flex;"><span>{<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(real<span style="color:#f92672">+</span>c2.real , imag<span style="color:#f92672">+</span>c2.imag);}
</span></span></code></pre></div><p><strong>return语句中 Complex(real+c2.real , imag+c2.imag) 是建立一个临时对象</strong>，它没有对象名，只是一个无名对象。在建立临时对象过程中调用构造函数。return 语句将此临时对象作为函数返回值</p>
<p><strong>在例题中如何实现一个常量和一个复数对象相加？</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c3<span style="color:#f92672">=</span>Complex(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">0</span>)<span style="color:#f92672">+</span>c2;
</span></span></code></pre></div><h2 id="102-重载运算符的规则">10.2 重载运算符的规则
</h2><ol>
<li>
<p><strong>C++不允许用户自己定义新的运算符，只能对已有的C++运算符进行重载</strong></p>
<p>例如有人想将 “**” 定义为幂运算符，这是不行的</p>
</li>
<li>
<p><strong>C++允许重载运算符</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>C++允许重载的运算符：</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>双目算术运算符        |</td>
<td>+，-，*，/，%                                                |</td>
</tr>
<tr>
<td>关系运算符            |</td>
<td>==，！=，&lt;，&gt;，&lt;=，&gt;=                                        |</td>
</tr>
<tr>
<td>逻辑运算符            |</td>
<td>||，&amp;&amp;，!                                                  |</td>
</tr>
<tr>
<td>单目运算符            |</td>
<td>+（正），-（负），*（指针），&amp;（取地址）                     |</td>
</tr>
<tr>
<td>自增自减运算符        |</td>
<td>++，- -                                                      |</td>
</tr>
<tr>
<td>位运算符              |</td>
<td>|（按位或），&amp;（按位与），~（按位取反），^（按位异或），&laquo;（左移），&raquo;（右移） |</td>
</tr>
<tr>
<td>赋值运算符            |</td>
<td>=，+=，-=，*=，/=，%=，&amp;=，|=，^=，&laquo;=，&raquo;=                 |</td>
</tr>
<tr>
<td>空间申请与释放        |</td>
<td>new，delete，new[ ]，delete[ ]                               |</td>
</tr>
<tr>
<td>其他运算符            |</td>
<td>（）（函数调用），-&gt;（成员访问），-&gt;*（成员指针访问），，（逗号），[ ]（下标） |</td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>不能重载的运算符（只有5个）</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>成员访问运算符              |</td>
<td>.      |</td>
</tr>
<tr>
<td>成员指针访问运算符          |</td>
<td>*      |</td>
</tr>
<tr>
<td>域运算符                    |</td>
<td>::     |</td>
</tr>
<tr>
<td>长度运算符                  |</td>
<td>sizeof |</td>
</tr>
<tr>
<td>条件运算符                  |</td>
<td>?:     |</td>
</tr>
</tbody>
</table></div>
<p><strong>前两个运算符不能重载是为了保护访问成员的功能不被改变</strong></p>
<p><strong>域运算符和sizeof运算符的运算对象是类型而不是变量或一般表达式，不具备重载的特征</strong></p>
</li>
<li>
<p><strong>重载不能改变运算符运算对象的个数</strong></p>
<p>如关系运算符 “&gt;” 是双目运算符，重载后仍为双目运算符，需要两个参数</p>
<p>运算符 “+ , - , * , &amp; ”等既可以作为单目运算符，也可以作为双目运算符，可以分别将他们重载为单目运算符或双目运算符</p>
</li>
<li>
<p><strong>重载不能改变运算符的优先级别</strong></p>
<p>例如 * 和 / 优先于 + 和 -，不论怎样进行重载，各运算符之间的优先级别不会改变</p>
</li>
<li>
<p><strong>重载不能改变运算符的结合性</strong></p>
<p>如赋值运算符 “ = ”是右结合性（自右向左），重载后仍为右结合性</p>
</li>
<li>
<p><strong>重载运算符的函数不能有默认的参数</strong></p>
<p>否则改变了运算符参数的个数，与前面第3点矛盾</p>
</li>
<li>
<p><strong>重载的运算符必须和用户定义的自定义类型的对象一起使用，其参数至少应有一个是类对象（或类对象的引用）</strong></p>
<p>也就是说，参数不能全部是C++的标准类型，以防止用户修改用于标准类型数据的运算符的性质，如下面</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{<span style="color:#66d9ef">return</span>(a<span style="color:#f92672">-</span>b);}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//error
</span></span></span></code></pre></div></li>
<li>
<p><strong>用于类对象的运算符一般必须重载，但有两个例外，=，&amp;不必用户重载</strong></p>
<p>“=” 可以用于每一个类对象，可以利用它在同类对象之间相互赋值</p>
<p>“&amp;” 地址运算符也不必重载，它能返回类对象在内存中的起始地址</p>
</li>
<li>
<p><strong>从理论上说，可以将一个运算符重载为执行任意操作</strong></p>
</li>
</ol>
<h2 id="103-运算符重载函数作为类成员函数和友元函数">10.3 运算符重载函数作为类成员函数和友元函数
</h2><p><strong>对运算符重载的函数有两种处理方式：</strong></p>
<ol>
<li>
<p>把运算符重载的函数作为类的成员函数</p>
</li>
<li>
<p>运算符重载函数在类外定义（不是类的成员函数），在类中把它声明为友元函数</p>
</li>
</ol>
<p>当重载函数是类中的成员函数时，有一个参数是隐含的，运算符函数使用 this 指针隐式地访问类对象的成员，如this-&gt;real+c2.real。所以”+”是双目运算符，而类中重载函数中只有一个参数</p>
<p><strong>例：将运算符 “+” 重载为适用于复数加法，重载函数不作为成员函数，而放在类外，作为Complex类的友元函数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Complex()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        real<span style="color:#f92672">=</span>r;
</span></span><span style="display:flex;"><span>        imag<span style="color:#f92672">=</span>i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c1,Complex<span style="color:#f92672">&amp;</span> c2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c1,Complex<span style="color:#f92672">&amp;</span> c2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(c1.real<span style="color:#f92672">+</span>c2.real,c1.imag<span style="color:#f92672">+</span>c2.imag);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Complex<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">&lt;&lt;</span>real <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; ,&#34;</span> <span style="color:#f92672">&lt;&lt;</span>imag <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span> <span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>),c2(<span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>),c3;
</span></span><span style="display:flex;"><span>    c3<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>c2;
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c1=&#34;</span> ;
</span></span><span style="display:flex;"><span>    c1.display( );
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c2 =&#34;</span> ;
</span></span><span style="display:flex;"><span>    c2. display( );
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;c1 + c2 =&#34;</span> ;
</span></span><span style="display:flex;"><span>    c3. display( );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>如果将运算符重载函数作为成员函数，它可以通过this指针自由地访问本类的数据成员，因此可以少写一个函数的参数</strong></p>
<ul>
<li>但必须要求运算表达式（如c1+c2）中第1个参数是一个类对象，而且与运算符函数的类型相同。因为必须通过类的对象去调用该类的成员函数，而且只有运算符重载函数返回值与该对象同类型，运算结果才有意义。</li>
</ul>
<p><strong>如果将双目运算符重载为友元函数时，由于友元函数不是该类的成员函数，因此在函数的形参表列中必须有两个参数，不能省略</strong></p>
<p>注意：数学上的交换律在此不适用，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c3<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span>c2;
</span></span><span style="display:flex;"><span>c3<span style="color:#f92672">=</span>c2<span style="color:#f92672">+</span>i;	<span style="color:#75715e">//error 类型不匹配
</span></span></span></code></pre></div><p>如果希望适用交换律，则应再重载一次运算符“+”，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (Complex<span style="color:#f92672">&amp;</span> c,<span style="color:#66d9ef">int</span><span style="color:#f92672">&amp;</span> i)
</span></span><span style="display:flex;"><span>{<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(i<span style="color:#f92672">+</span>c.real,c.imag);}
</span></span></code></pre></div><p><strong>默认规定：</strong></p>
<ol>
<li>赋值运算符“=”，下表运算符“[ ]”、函数调用运算符“（）”、成员运算符“-&gt;”必须作为成员函数重载</li>
<li>流插入“&laquo;” 和 流提取运算符“&raquo;”、类型转换运算符函数不能定义为类的成员函数，只能作为友元函数</li>
<li>一般将单目运算符和复合运算符重载为成员函数</li>
<li>一般将双目运算符重载为友元函数</li>
</ol>
<h2 id="104-重载双目运算符">10.4 重载双目运算符
</h2><p><strong>例：声明一个字符串类String，用来存放不定长的字符串，重载运算符“==”，“&gt;”和“&lt;”，用于两个字符串的等于、小于和大于的比较运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    String(){p<span style="color:#f92672">=</span>NULL;};
</span></span><span style="display:flex;"><span>    String(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> str);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">==</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> p;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>String<span style="color:#f92672">::</span>String(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> str)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">=</span>str;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> String<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(strcmp(s1.p,s2.p)<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(strcmp(s1.p,s2.p)<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">==</span> (String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(strcmp(s1.p,s2.p)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">compare</span>(String<span style="color:#f92672">&amp;</span> s1,String<span style="color:#f92672">&amp;</span> s2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;</span> (s1,s2)<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        s1.display();
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>        s2.display();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;</span> (s1,s2)<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        s1.display();
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;&lt;&#34;</span>;
</span></span><span style="display:flex;"><span>        s2.display();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">operator</span> <span style="color:#f92672">==</span> (s1,s2)<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        s1.display();
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;=&#34;</span>;
</span></span><span style="display:flex;"><span>        s2.display();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    String s1(<span style="color:#e6db74">&#34;Hello&#34;</span>),s2(<span style="color:#e6db74">&#34;Book&#34;</span>),s3(<span style="color:#e6db74">&#34;Computer&#34;</span>),s4(<span style="color:#e6db74">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span>    compare(s1,s2);
</span></span><span style="display:flex;"><span>    compare(s2,s3);
</span></span><span style="display:flex;"><span>    compare(s1,s4);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Hello<span style="color:#f92672">&gt;</span>Book
</span></span><span style="display:flex;"><span>Book<span style="color:#f92672">&lt;</span>Computer
</span></span><span style="display:flex;"><span>Hello<span style="color:#f92672">=</span>Hello
</span></span></code></pre></div><h2 id="105-重载单目运算符">10.5 重载单目运算符
</h2><p>​	单目运算符只有一个操作数，如!a，-b，&amp;c，*p，++i，- -i</p>
<p>​	由于单目运算符只有一个操作数，所以运算符重载函数只有一个参数，如果运算符重载函数函数作为成员函数还可以省略此参数</p>
<p>++自增、- -自减运算符氛围前置和后置，C++中区分两者的方式是：<strong>在自增（自减）运算符重载函数中，增加一个int型形参，就是后置自增（自减）运算符函数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time <span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>();		<span style="color:#75715e">//前置自增
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Time <span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>(<span style="color:#66d9ef">int</span>);	<span style="color:#75715e">//后置自增
</span></span></span></code></pre></div><p>（注：后置自增多了一个int型的参数，增加这个参数只是为了与前置自增运算符重载函数有所区别，此外没有任何作用，在定义函数时也不必使用此参数，因此可省写参数名，只需在括号中写int即可）</p>
<p><strong>实现自增函数时直接返回此类的指针，如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time Time<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">++</span>sec<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">60</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sec<span style="color:#f92672">-=</span><span style="color:#ae81ff">60</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>minute;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>在实现后置自增函数时需要先保存未自增时的数据，函数结束后再返回此数据，如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Time Time<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>(<span style="color:#66d9ef">int</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time <span style="color:#a6e22e">temp</span>(<span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    sec<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(sec<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">60</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sec<span style="color:#f92672">-=</span><span style="color:#ae81ff">60</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>minute;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> temp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//此时temp类就是原本未自增时的数值
</span></span></span></code></pre></div><p><strong>例：有一个TIme类，包含数据成员minute、sec，模拟秒表，每秒走1秒，满60秒进1分钟，秒钟重置。要求输出分和秒。</strong></p>
<p>（注意：本题要求对Time类使用运算符++）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Time</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Time(){minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;sec<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Time(<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> s)<span style="color:#f92672">:</span>minute(m),sec(s){}
</span></span><span style="display:flex;"><span>    Time <span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>();
</span></span><span style="display:flex;"><span>    Time <span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>(<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>(){cout<span style="color:#f92672">&lt;&lt;</span>minute<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">&lt;&lt;</span>sec<span style="color:#f92672">&lt;&lt;</span>endl;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> minute;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sec;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Time Time<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">++</span>sec<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">60</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sec<span style="color:#f92672">-=</span><span style="color:#ae81ff">60</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>minute;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Time Time<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">++</span>(<span style="color:#66d9ef">int</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time <span style="color:#a6e22e">temp</span>(<span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    sec<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(sec<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">60</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sec<span style="color:#f92672">-=</span><span style="color:#ae81ff">60</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>minute;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> temp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Time time1(<span style="color:#ae81ff">34</span>,<span style="color:#ae81ff">59</span>),time2;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;time1:&#34;</span>;
</span></span><span style="display:flex;"><span>    time1.display();
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">++</span>time1;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;++time1:&#34;</span>;
</span></span><span style="display:flex;"><span>    time1.display();
</span></span><span style="display:flex;"><span>    time2<span style="color:#f92672">=</span>time1<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;time1++:&#34;</span>;
</span></span><span style="display:flex;"><span>    time1.display();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;time2:&#34;</span>;
</span></span><span style="display:flex;"><span>    time2.display();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>time1:<span style="color:#ae81ff">34</span><span style="color:#f92672">:</span><span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">++</span>time1:<span style="color:#ae81ff">35</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>time1<span style="color:#f92672">++:</span><span style="color:#ae81ff">35</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>time2:<span style="color:#ae81ff">35</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h2 id="107重载流插入运算符和流提取运算符">10.7重载流插入运算符“&laquo;”和流提取运算符“&raquo;”
</h2><p>如果想用“&raquo;”和“&laquo;”输出和输入自己声明的类型的数据，必须对它们重载</p>
<p><strong>对“&raquo;”和“&laquo;”的重载函数形式如下：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>istream <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;&gt;</span>(istream <span style="color:#f92672">&amp;</span>,<span style="color:#960050;background-color:#1e0010">自定义类</span> <span style="color:#f92672">&amp;</span>);	<span style="color:#75715e">//&gt;&gt;重载
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>ostream <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream <span style="color:#f92672">&amp;</span>,<span style="color:#960050;background-color:#1e0010">自定义类</span> <span style="color:#f92672">&amp;</span>);	<span style="color:#75715e">//&lt;&lt;重载
</span></span></span></code></pre></div><ul>
<li>
<p>重载运算符“&raquo;”的函数的第1个参数和函数的类型都必须是**<code>istream&amp;</code><strong>类型(即</strong><code>istream </code>**类对象的引用),第2个参数是要进行输人操作的类。</p>
</li>
<li>
<p>重载“&laquo;”的函数的第1个参数和函数的类型都必须是**<code> ostream&amp;</code>**类型,函数第2个参数是要进行输入操作的类。</p>
</li>
<li>
<p>因此，<strong>只能将重载“&raquo;”和“&laquo;”的函数作为友元函数</strong>，而不能将它们定义为成员函数</p>
</li>
</ul>
<h3 id="1071-重载流插入运算符">10.7.1 重载流插入运算符“&laquo;”
</h3><p><strong>例，用重载运算符“&laquo;”输出复数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Complex(){real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span>i;}
</span></span><span style="display:flex;"><span>    Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex <span style="color:#f92672">&amp;</span>c2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span>,Complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Complex Complex<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex <span style="color:#f92672">&amp;</span>c2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(real<span style="color:#f92672">+</span>c2.real,imag<span style="color:#f92672">+</span>c2.imag);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream <span style="color:#f92672">&amp;</span> output,Complex<span style="color:#f92672">&amp;</span> c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.real<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;+&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>),c2(<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">10</span>),c3;
</span></span><span style="display:flex;"><span>    c3<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>c2;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c3;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#ae81ff">8</span><span style="color:#f92672">+</span><span style="color:#ae81ff">14</span>i)
</span></span></code></pre></div><ul>
<li>
<p>程序中的**<code>output</code><strong>是</strong><code>ostream</code>**类对象的引用，形参名output可以用户任意取</p>
</li>
<li>
<p>调用函数时，形参成为实参**<code>cout</code><strong>的引用,形参</strong>c<strong>成为</strong><code>c3</code>**的引用。因此调用函数的过程相当于执行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; ( &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c3. real <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; + &#34;</span> <span style="color:#f92672">&lt;&lt;</span>cЗ, imag <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span> <span style="color:#f92672">&lt;&lt;</span>endl ;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> cout;
</span></span></code></pre></div><p>此时的“&laquo;”是C++预定义的流插入符，因为它右侧的操作数是字符串常量和 double 类型数据</p>
</li>
<li>
<p>其中，**<code>return output</code>**的作用为能连续向输出流插入信息</p>
<p><strong>output</strong> 是**<code>ostream</code><strong>类的对象的引用(它是实参</strong><code>cout</code><strong>的引用,或者说output是</strong><code>cout</code><strong>的别名),</strong><code>cout </code><strong>通过传送地址给 output,使它们二者共享同一段存储单元,因此,</strong><code>return output</code><strong>就是</strong><code> return cout</code><strong>.将输出流</strong><code>cout </code>**的现状返回,即保留输出流的现状。</p>
</li>
</ul>
<h3 id="1072-重载流提取运算符">10.7.2 重载流提取运算符“&raquo;”
</h3><p>重载流提取运算符的目的是希望将&raquo;”用于输人自定义类型的对象的信息。</p>
<p><strong>例，增加重载流提取运算符“&raquo;”，用<code>“cin&gt;&gt;”</code>输入复数，用<code>”cout&lt;&lt;“</code>输出复数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span>,Complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> istream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;&gt;</span>(istream<span style="color:#f92672">&amp;</span>,Complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output , Complex <span style="color:#f92672">&amp;</span>c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.real<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;+&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>istream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;&gt;</span>(istream<span style="color:#f92672">&amp;</span> input,Complex<span style="color:#f92672">&amp;</span> c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;input real part and imaginary part of complex number:&#34;</span>;
</span></span><span style="display:flex;"><span>    input<span style="color:#f92672">&gt;&gt;</span>c.real<span style="color:#f92672">&gt;&gt;</span>c.imag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> input;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1,c2;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>c1<span style="color:#f92672">&gt;&gt;</span>c2;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>input real part and imaginary part of complex number:<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>input real part and imaginary part of complex number:<span style="color:#ae81ff">4</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>i)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>i)
</span></span></code></pre></div><ul>
<li>
<p>运算符“&raquo;”重载函数中的形参input是istream 类的对象的引用,在执行cin &raquo;c时,调用“ operator &raquo;”函数,将 cin地址传递给 input,input是cin的引用,同样c是c1 的引用。</p>
<p>因此,“input &raquo;c.real &raquo;c.imag;”相当于“ cin &raquo;c1.real &raquo;cl.inag;”</p>
</li>
<li>
<p>以上运行结果无疑是正确的,但并不完善。在输入复数的虚部为正值时,输出的结果是没有问题的,但是虚部如果是负数,就不理想,请观察输出结果</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>input real part and imaginary part of complex number :<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span> C1input real part and imaginary part of complex number:<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>cl<span style="color:#f92672">=</span>(<span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>i)
</span></span><span style="display:flex;"><span>c2 <span style="color:#f92672">=</span>(<span style="color:#ae81ff">4</span> <span style="color:#f92672">+-</span><span style="color:#ae81ff">10</span>i)
</span></span></code></pre></div><p>所以将输出函数修改为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output , Complex <span style="color:#f92672">&amp;</span>c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(c.imag<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;+&#34;</span>;
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span>c.imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>最终函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span>,Complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> istream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;&gt;</span>(istream<span style="color:#f92672">&amp;</span>,Complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output , Complex <span style="color:#f92672">&amp;</span>c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(c.imag<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;+&#34;</span>;
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span>c.imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>istream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&gt;&gt;</span>(istream<span style="color:#f92672">&amp;</span> input,Complex<span style="color:#f92672">&amp;</span> c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;input real part and imaginary part of complex number:&#34;</span>;
</span></span><span style="display:flex;"><span>    input<span style="color:#f92672">&gt;&gt;</span>c.real<span style="color:#f92672">&gt;&gt;</span>c.imag;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> input;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1,c2;
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>c1<span style="color:#f92672">&gt;&gt;</span>c2;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span> 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>input real part and imaginary part of complex number:<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>input real part and imaginary part of complex number:<span style="color:#ae81ff">4</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">6</span>i)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>i)
</span></span></code></pre></div></li>
</ul>
<h2 id="109-不同类型数据间的转换">10.9 不同类型数据间的转换
</h2><p>C++提供类型转换函数(type conversion function)来解决这个问题。</p>
<p><strong>类型转换函数的作用是将一个类的对象转换成另一类型的数据</strong>。</p>
<p>如果已声明了一个Complex类，可以在Complex类中这样定义类型转换函数:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">double</span>( )
</span></span><span style="display:flex;"><span>{<span style="color:#66d9ef">return</span> real;}
</span></span></code></pre></div><p>函数返回 double 型变量real的值。它的作用是将一个Complex类对象转换为一个double型数据,其值是Complex类中的数据成员 real的值。</p>
<p><strong>类型转换函数的一般形式为：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">operator</span> <span style="color:#960050;background-color:#1e0010">类型名</span>()
</span></span><span style="display:flex;"><span>{<span style="color:#960050;background-color:#1e0010">实现转换的语句</span>}
</span></span></code></pre></div><p><strong>注：</strong></p>
<ul>
<li>
<p><strong>在函数名前面不能指定函数类型,函数没有参数。</strong></p>
<p>其返回值的类型是由函数名中指定的类型名来确定的(例如前面定义的类型转换函数operator double,其返回值的类型是double)。</p>
</li>
<li>
<p><strong>类型转换函数只能作为成员函数,因为转换的主体是本类的对象。不能作为友元函数或普通函数。</strong></p>
</li>
</ul>
<p><strong>转换构造函数和类型转换运算符有一个共同的功能:当需要的时候,编译系统会自动调用这些函数,建立一个无名的临时对象(或临时变量)。</strong></p>
<p>例如，若已定义若已定义d1,d2为double 型变量,c1,c2为Complex类对象,如类中已定义了类型转换函数,若在程序中有以下表达式:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>dl <span style="color:#f92672">=</span> d2 <span style="color:#f92672">+</span>c1<span style="color:#960050;background-color:#1e0010">；</span>
</span></span></code></pre></div><p>编译系统发现“+”的左侧d2是 double型,而右侧的c1是Complex类对象</p>
<p>如果没有对运算符+进行重载,就会检查有无类型转换函数,结果发现了有对double的重载函数,就调用该函数,把 Complex 类对象 cl 转换为 double 型数据,建立了一个临时的 double 数据,并与 d2 相加,最后将一个 double 的值赋给 d1。</p>
<p>如果类中已定义了转换构造函数并且又重载了运算符“+”(作为Complex类的友元函数),但未对double定义类型转换函数(或者说未对double重载),若有以下表达式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c2<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>d2;
</span></span></code></pre></div><p>它发现运算符“+“左侧的c1是complex类对象,右侧的 d2是double型。编译系统寻找有无对“+&ldquo;的重载,发现有 operator+函数,但它是 Complex 类的友元函数,要求两个Complex类的形参,即只能实现两个Complex类对象相加,而现在d2是double 型,不符合要求。在类中又没有对 double 进行重载,因此不可能把c1 转换为couble 型数据然后相加。编译系统就去找有无转换构造函数,发现有,就调用转换构造医数Complex(d2),建立一个临时的Complex类对象,再调用operator+函数,将两个复数相加,然后赋给c2。相当于执行表达式:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c2<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>Complex(d2);
</span></span></code></pre></div><p><strong>例，将一个double数据与Complex类数据相加</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Complex(){real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span>i;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">double</span> (){<span style="color:#66d9ef">return</span> real;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>),c2(<span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>),c3;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> d;
</span></span><span style="display:flex;"><span>    d<span style="color:#f92672">=</span><span style="color:#ae81ff">2.5</span><span style="color:#f92672">+</span>c1;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>d<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">5.5</span>
</span></span></code></pre></div><p><strong>程序分析：</strong></p>
<ul>
<li>
<p><strong>如果在 Complex 类中没有定义类型转换函数 operator double,程序编译将出错。</strong></p>
<p>因为不能实现double 型数据与Complex类对象的相加。现在,已定义了成员函数operator double,就可以利用它将 Complex类对象转换为 double 型数据。</p>
<p>请注意,程序中不必显式地调用类型转换函数,它是自动被调用的,即隐式调用。</p>
<p>编译系统在处理表达式2.5+c1时,发现运算符“+”的左侧是 double 型数据,而右侧是 Complex 类对象,又无运算符“+&ldquo;重载函数,不能直接相加,编译系统发现有对 double的重载函数,因此调用这个函数,返回一个 double 型数据,然后与 2.5 相加。</p>
</li>
<li>
<p>如果在main函数中加一个语句：</p>
<p>c3=c2;</p>
<p>由于赋值号两侧都是同一类的数据,是可以合法进行赋值的,没有必要把c2转换为 double列数据。</p>
</li>
<li>
<p>如果在Complex,类中声明了重载运算符“+&ldquo;函数作为友元函数:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex c1,Complex c2)
</span></span><span style="display:flex;"><span>{<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(c1.real<span style="color:#f92672">+</span>c2.real,c1.imag<span style="color:#f92672">+</span>c2.imag);}
</span></span></code></pre></div><p>若在main函数中有语句</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c3<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>C2;
</span></span></code></pre></div><p>由于已对运算符+重载,使之能用于两个Complex类对象的相加,因此将cl和c2按
Complex类对象处理,相加后赋值给同类对象c3</p>
<p>如果改为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>d<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span>c2;	<span style="color:#75715e">//d为double型变量
</span></span></span></code></pre></div><p>将c1与c2两个类对象相加,得到一个临时的Complex类对象,由于它不能赋值给 double型变量,而又有对 double 的重载函数,于是调用此函数,把临时类对象转换为 double数据,然后赋给 d。</p>
</li>
</ul>
<p><strong>类型转换函数的好处：</strong></p>
<ul>
<li>如果用类型转换函数对 double进行重载(使Complex类对象转换头double 型数据),就不必对各种运算符进行重载,因为Complex类对象可以被自动地转换为 double 型数据,而标准类型的数据的运算,是可以使用系统提供的各种运算符的。</li>
</ul>
<p><strong>例10.10，包含转换构造函数、运算符重载函数和类型转换函数的程序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Complex(){real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    Complex(<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span>i;}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex c1,Complex c2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> real;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> imag;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex c1,Complex c2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Complex</span>(c1.real<span style="color:#f92672">+</span>c2.real,c1.imag<span style="color:#f92672">+</span>c2.imag);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Complex<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;(&#34;</span><span style="color:#f92672">&lt;&lt;</span>real<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">&lt;&lt;</span>imag<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;i)&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Complex c1(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>),c2(<span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>),c3;
</span></span><span style="display:flex;"><span>    c3<span style="color:#f92672">=</span>c1<span style="color:#f92672">+</span><span style="color:#ae81ff">2.5</span>;
</span></span><span style="display:flex;"><span>    c3.display();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>(<span style="color:#ae81ff">5.5</span>,<span style="color:#ae81ff">4</span>i)
</span></span></code></pre></div><p><strong>程序分析：</strong></p>
<ol>
<li>
<p><strong>如果没有定义转换构造函数，则此程序编译出错，因为没有重载运算符使之能将Complex 类对象与 double 数据相加。</strong></p>
<p>由于c3 是Complex 类对象,先将 2.5,转换为 Complex 类对象,然后与 c1相加,再赋值给 c3。</p>
</li>
<li>
<p>由于已重载了运算符“+”,在处理表达式 c1+2.5时,编译系统把它解释为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(c1,<span style="color:#ae81ff">2.5</span>);
</span></span></code></pre></div><p>由于2.5不是 Complex类对象,系统先调用转换构造函数Complex(2.5),建立一个临时的 Complex 类对象,其值为(2.5+0i)。上面的函数调用相当于</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(c1,Complex(<span style="color:#ae81ff">2.5</span>));
</span></span></code></pre></div><p>将c1与(2.5+0i)相加,赋给c3。</p>
</li>
<li>
<p>如果把“c3=c1+2.5”改为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c3<span style="color:#f92672">=</span><span style="color:#ae81ff">2.5</span><span style="color:#f92672">+</span>c1;
</span></span></code></pre></div><p>结果与前面相同，说明此函数适用交换律</p>
<p>从中得到一个重要结论：</p>
<p><strong>在已定义了相应的转换构造函数情况下,将运算符“+”函数重载为友元函数,在进行两个复数相加时,可以用交换律。</strong></p>
</li>
</ol>
<p>​		<strong>结论：</strong></p>
<ul>
<li><strong>如果运算符函数重载为成员函数,它的第1个参数必须是本类的对象。</strong></li>
<li><strong>当第1个操作数不是类对象时,不能将运算符函数重载为成员函数，而是友元函数</strong></li>
<li><strong>如果将运算符“+”函数重载为类的成员函数,交换律不适用。</strong></li>
<li><strong>一般将双目运算符函数重载为友元函数，单目运算符重载为成员函数</strong></li>
</ul>
<ol start="4">
<li>
<p>如果在上面程序的基础上增加类型转换函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">double</span>(){<span style="color:#66d9ef">return</span> real;}
</span></span></code></pre></div><p>此时Complex类的公用部分为</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>Complex(){real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}					<span style="color:#75715e">//默认构造函数，无形参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Complex(<span style="color:#66d9ef">double</span> r){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;}			<span style="color:#75715e">//转换构造函数，一个形参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Complex(doubel r,<span style="color:#66d9ef">double</span> i){real<span style="color:#f92672">=</span>r;imag<span style="color:#f92672">=</span>i;}	<span style="color:#75715e">//实现初始化的构造函数，两个形参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">double</span>(){<span style="color:#66d9ef">return</span> real;}				<span style="color:#75715e">//烈性转换函数，无形参
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">friend</span> Complex <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span>(Complex c1,Complex c2);	<span style="color:#75715e">//重载运算符“+”的友元函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span></code></pre></div><p>此时，程序在编译时出错,原因是在处理c1+2.5时出现二义性。</p>
<p>一种理解是,调用转换构造函数,把2.5变成Complex 类对象,然后调用运算符“+”重载函数,与。进行复数相加。</p>
<p>另一种理解是,调用类型转换函数,把c1转换为 double 型数,然后与2,5进行相加。</p>
<p>系统无法判定,这二者是矛盾的。</p>
</li>
</ol>
<h1 id="5-继承与派生">5. 继承与派生
</h1><h2 id="111-派生类的声明方式">11.1 派生类的声明方式
</h2><p><strong>声明派生类的一般形式为：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">派生类名：[继承方式] 基类名</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">派生类新增加的成员；</span>
</span></span><span style="display:flex;"><span>}<span style="color:#960050;background-color:#1e0010">；</span>
</span></span></code></pre></div><p><strong>例：声明一个基类 Student,在此基础上通过单继承建立一个派生类 Student1</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student1</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> display_1()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;age:&#34;</span><span style="color:#f92672">&lt;&lt;</span>age<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;address:&#34;</span><span style="color:#f92672">&lt;&lt;</span>addr<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    string addr;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>其中，public表示<strong>公有继承</strong></p>
<p>继承方式包括：<strong>public（公有的）</strong>，<strong>private（私有的）<strong>和</strong>protected（受保护的）</strong></p>
<p>继承方式是可选的，如果不写此项，则默认为private（私有的）</p>
<h2 id="112-派生类的构成">11.2 派生类的构成
</h2><p><strong>派生类中的成员主要包括：</strong></p>
<ul>
<li>从基类继承过来的成员</li>
<li>自己增加的成员</li>
</ul>
<p>从基类继承的成员体现了派生类从基类继承而获得的共性,而新增加的成员体现了派生类的个性。正是这些新增加的成员体现了派生类与基类的不同,体现了不同派生类之间的区别。</p>
<h2 id="114-派生类成员的访问属性">11.4 派生类成员的访问属性
</h2><ul>
<li>
<p><strong>公有继承</strong></p>
<p>基类的公有成员和保护成员在派生类中保持原有访问属性，其私有成员仍为基类私有</p>
</li>
<li>
<p><strong>私有继承</strong></p>
<p>基类的公有成员和保护成员在派生类中成了私有成员。其私有成员仍为基类私有</p>
</li>
<li>
<p>受保护的继承</p>
<p>基类的公有成员和保护成员在派生类中成了保护成员，其私有成员仍为基类私有。</p>
<p>保护成员的意思是，不能被外界引用，但可以被派生类的成员引用。</p>
</li>
</ul>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">派生类中访问属性</th>
<th style="text-align:center">在派生类中</th>
<th style="text-align:center">在派生类外部</th>
<th style="text-align:center">在下一层公用派生类中</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">公用</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">可以</td>
</tr>
<tr>
<td style="text-align:center">保护</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">可以</td>
</tr>
<tr>
<td style="text-align:center">私有</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">不可以</td>
</tr>
<tr>
<td style="text-align:center">不可访问</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">不可以</td>
</tr>
</tbody>
</table></div>
<h2 id="115-派生类的构造函数和析构函数">11.5 派生类的构造函数和析构函数
</h2><h3 id="1151-简单的派生类的构造函数">11.5.1 简单的派生类的构造函数
</h3><p><strong>派生类构造函数一般形式为：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">派生类构造函数名</span>(<span style="color:#960050;background-color:#1e0010">总参数表</span>)<span style="color:#960050;background-color:#1e0010">：基类构造函数名</span>(<span style="color:#960050;background-color:#1e0010">参数表</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">派生类中新增成员初始化语句；</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>例子：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student1(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">char</span> s,<span style="color:#66d9ef">int</span> a,string ad)<span style="color:#f92672">:</span>Student(n,nam,s){
</span></span><span style="display:flex;"><span>    age<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>    addr<span style="color:#f92672">=</span>ad;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="1152-有子对象的派生类的构造函数">11.5.2 有子对象的派生类的构造函数
</h3><p><strong>定义派生类构造函数的一般形式为：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">派生类构造函数名（总参数表）：基类构造函数名（参数表），子对象名（参数表）</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">派生类中新增数据成员初始化语句；</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>执行派生类构造函数的顺序：</strong></p>
<ol>
<li>调用基类构造函数，对基类数据成员初始化</li>
<li>调用子对象构造函数，对子对象数据成员初始化</li>
<li>再执行再执行派生类构造函数本身，对派生类数据成员初始化</li>
</ol>
<p><strong>例：派生类Student1中定义了一个子对象monitor</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">int</span> n,string nam)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        num<span style="color:#f92672">=</span>n;
</span></span><span style="display:flex;"><span>        name<span style="color:#f92672">=</span>nam;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student1</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student1(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">int</span> n1,string name1,<span style="color:#66d9ef">int</span> a,string ad)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>Student(n,nam),monitor(n1,nam1)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        age<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>        addr<span style="color:#f92672">=</span>ad;    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student monitor;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    string addr;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="1153-多层派生时的构造函数">11.5.3 多层派生时的构造函数
</h3><p>基类的构造函数首部：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student(<span style="color:#66d9ef">int</span> n,string nam)
</span></span></code></pre></div><p>派生类Student1的结构函数首部：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student1(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">int</span> a)<span style="color:#f92672">:</span>Student(n,nam)
</span></span></code></pre></div><p>派生类Student2的构造函数首部：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student2(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> s)<span style="color:#f92672">:</span>Student1(n,nam,a)
</span></span></code></pre></div><p><strong>注：不需要列出每一层派生类的构造函数，只需写出其上一层派生类（即它的直接基类）的构造函数即可</strong></p>
<p><strong>初始化的顺序：</strong></p>
<ol>
<li>先初始化基类的数据成员num和name</li>
<li>再初始化Student1的数据成员age</li>
<li>最后再初始化Student2的数据成员score</li>
</ol>
<h3 id="1154-派生类构造函数的特殊形式">11.5.4 派生类构造函数的特殊形式
</h3><ul>
<li>
<p><strong>当不需要对派生类新增的成员进行任何初始操作时,派生类构造函数的函数体可以为空,即构造函数是空函数，如</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>Student1(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">int</span> n1,string nam1)<span style="color:#f92672">:</span>Student(n,nam),monitor(n1,nam1){}
</span></span></code></pre></div></li>
<li>
<p><strong>如果在基类中没有定义构造丽数,或定义了没有参数的构造函数,那么,在定义派生类构造函数时可以不写基类构造函数。</strong></p>
</li>
</ul>
<h2 id="116-多重继承">11.6 多重继承
</h2><h3 id="1161-声明多重继承的方法">11.6.1 声明多重继承的方法
</h3><p>如果已声明了类A、类B和类C，可以声明多重继承的派生类D：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> A,<span style="color:#66d9ef">private</span> B,<span style="color:#66d9ef">protected</span> C
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">类</span>D新增加的成员
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>D是多重继承的派生类，它以公用继承方式继承类A,以私有继承方式继承类B,以保护继承方式继承类C。</p>
<h3 id="1162-多重继承派生类的构造函数">11.6.2 多重继承派生类的构造函数
</h3><p>​		多重继承派生类的构造函数形式与单继承时的构造函数形式基本相同,只是在初始表中包含多个基类构造函数。如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">派生类构造函数名（总参数表）：基类</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">构造函数（参数表），基类</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">构造函数（参数表），基类</span><span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">构造函数（参数表列）</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">派生类中新增数据成员初始化语句；</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>例11.8：</strong></p>
<p><strong>声明一个教师(Teacher)类和一个学生(Student)类,用多重继承的方式声明一个在职研究生派生类（在职教师攻读研究生）。教师类中包括数据成员name、age、title（职称）学生类中包括数据成员name1（姓名）、age（性别）、score（成绩）</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Graduate</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Teacher,<span style="color:#66d9ef">public</span> Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Graduate(string nam,<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">char</span> s,string t,<span style="color:#66d9ef">float</span> sco,<span style="color:#66d9ef">float</span> w)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    	Teacher(nam,a,t),Student(nam,s,sco),wage(w){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> wage;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="1163-多重继承引起的二义性问题">11.6.3 多重继承引起的二义性问题
</h3><ol>
<li>
<p><strong>两个基类有同名成员</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> A,<span style="color:#66d9ef">public</span> B   
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    C c1;
</span></span><span style="display:flex;"><span>    c1.a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    c1.display();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>上述程序，由于基类A和基类B都有数据成员a和成员函数display，编译系统无法判别要访问的是哪一个基类的成员</p>
<p>所以需要加基类名来限定，修改为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c1.A<span style="color:#f92672">::</span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>c1.A<span style="color:#f92672">::</span>display();
</span></span></code></pre></div><p>如果派生类C中的成员函数show访问基类A的display和a，可以不必写对象名而直接写类名，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>A<span style="color:#f92672">::</span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;			<span style="color:#75715e">//指当前对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>A<span style="color:#f92672">::</span>display();
</span></span></code></pre></div></li>
<li>
<p><strong>两个基类和派生类三者都有同名成员</strong></p>
<p>将上述的C类声明改为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> A,<span style="color:#66d9ef">public</span> B
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>此时有3个display函数</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">C类</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">int a; <!-- raw HTML omitted -->int A::a;<!-- raw HTML omitted -->int B::a;                           |</td>
</tr>
<tr>
<td style="text-align:left">void display();<!-- raw HTML omitted -->void A::display();<!-- raw HTML omitted -->void B::display(); |</td>
</tr>
</tbody>
</table></div>
<p>main函数改为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>C c1;
</span></span><span style="display:flex;"><span>c1.a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>c1.display();
</span></span></code></pre></div><p>此时访问的是派生类中的display函数</p>
<p>因为在C++中有这样的<strong>规则：</strong></p>
<p><strong>派生类新增加的同名成员覆盖了基类中的同名成员。</strong></p>
<p>（注意：不同的成员函数,只有在函数名和参数个数相同、类型相匹配的情况下才发生同名覆盖；如果只有函数名相同而参数不同,不会发生同名覆盖,而属于函数重载。）</p>
</li>
<li>
<p><strong>如果类A 和类B是从同一个基类派生的</strong></p>
<p>如图</p>
<p><img src="C:/Users/carp/AppData/Roaming/Typora/typora-user-images/image-20240527223705482.png"
	
	
	
	loading="lazy"
	
		alt="image-20240527223705482"
	
	
></p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">N</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>(){cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span>endl;}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> N
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a1;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> N
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a2;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> A,<span style="color:#66d9ef">public</span> B
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a3;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span>(){cout<span style="color:#f92672">&lt;&lt;</span>a3<span style="color:#f92672">&lt;&lt;</span>endl;}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    C c1;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>在类A和类B中虽然没有定义数据成员a和成员函数 display；</strong></p>
<p><strong>但是它们分别从类N继承了数据成员a和成员函数display；</strong></p>
<p><strong>这样在类A和类B中同时有在看两个同名的类成员a和成员函数 display。</strong></p>
<p>那怎样访问类A中从基类N继承下来的成员呢？</p>
<p>通过类N的直接派生类名来支出要访问的是类N的哪一个派生类中的基类成员，如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>c1.A<span style="color:#f92672">::</span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>c1.A<span style="color:#f92672">::</span>display();
</span></span></code></pre></div><h3 id="1164-虚基类">11.6.4 虚基类
</h3><ol>
<li>
<p><strong>虚基类的作用</strong></p>
<p>C++提供虚基类(virtual base class)的方法,使得在<strong>继承间接共同基类时只保留一份成员</strong></p>
</li>
<li>
<p><strong>虚基类的声明方法：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>{...};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> A
</span></span><span style="display:flex;"><span>{...};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> A
</span></span><span style="display:flex;"><span>{...};
</span></span></code></pre></div><p><strong>注意：虚基类并不是在声明基类时声明的，而是在声明派生类时，指定继承方式时声明的</strong></p>
</li>
<li>
<p><strong>声明虚基类的一般形式为：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">派生类名：</span><span style="color:#a6e22e">virtual</span> <span style="color:#960050;background-color:#1e0010">继承方式</span> <span style="color:#960050;background-color:#1e0010">基类名</span>
</span></span></code></pre></div><p>经过这样的声明后，当基类通过多条派生路径被一个派生类继承时，该派生类只继承该基类一次，也就是说，基类成员只保留一次</p>
<p>需要注意，为了保证虚基类在派生类中只继承一次,应当在该基类的所有直接派生类横中声明为虚基类。否则仍然会出现对基类的多次继承</p>
</li>
<li>
<p><strong>虚基类的初始化：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    A(<span style="color:#66d9ef">int</span> i){}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> A
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    B(<span style="color:#66d9ef">int</span> n)<span style="color:#f92672">:</span>A(n){}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> A
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    C(<span style="color:#66d9ef">int</span> n)<span style="color:#f92672">:</span>A(n){}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> B,<span style="color:#66d9ef">public</span> C
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    D(<span style="color:#66d9ef">int</span> n)<span style="color:#f92672">:</span>A(n),B(n),C(n)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>**注意：**在定义D类构造函数时,与以往使用的方法有所不同。以前,在派生类的构造商数中只须负责对其直接基类初始化,再由其直接基类负责对间接基类初始化。</p>
<p>现在,由于虚基类在派生类中只有一份数据成员,所以这份数据成员的初始化必须由派生类直接给出。</p>
<p><strong>所以规定：</strong></p>
<p><strong>在最后的派生类中不仅要负责对其直接基类进行初始化，还要负责对虚基类初始化</strong></p>
</li>
<li>
<p><strong>虚基类的简单应用举例</strong></p>
<p><strong>例11.9 在例11.8的基础上,在Teacher 类和 Student类之上增加一个共同的基类Person,如图11.25所示。作为人员的一些基本数据都放在Person中,在Teacher 类和 Student 类中再增加一些必要的数据。</strong></p>
<p><img src="C:/Users/carp/AppData/Roaming/Typora/typora-user-images/image-20240527234623740.png"
	
	
	
	loading="lazy"
	
		alt="image-20240527234623740"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Person(string nam,<span style="color:#66d9ef">char</span> s,<span style="color:#66d9ef">int</span> a)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        name<span style="color:#f92672">=</span>nam;
</span></span><span style="display:flex;"><span>        sex<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>        age<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> sex;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Teacher</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> Person
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Teacher(string nam,<span style="color:#66d9ef">char</span> s,<span style="color:#66d9ef">int</span> a,string t)<span style="color:#f92672">:</span>Person(nam,s,a){title<span style="color:#f92672">=</span>t;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    string title;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span><span style="color:#f92672">:</span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">public</span> Person
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(string nam,<span style="color:#66d9ef">char</span> s,<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">float</span> sco)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>Person(nam,s,a),score(sco){}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> score;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Graduate</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Teacher,<span style="color:#66d9ef">public</span> Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Graduate(string nam,<span style="color:#66d9ef">char</span> s,<span style="color:#66d9ef">int</span> a,string t,<span style="color:#66d9ef">float</span> sco,<span style="color:#66d9ef">float</span> w)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>Person(nam,s,a),Teacher(nam,s,a,t),Student(nam,s,a,sco),wage(w){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; name :&#34;</span> <span style="color:#f92672">&lt;&lt;</span> name <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; age :&#34;</span> <span style="color:#f92672">&lt;&lt;</span> age <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; sex :&#34;</span> <span style="color:#f92672">&lt;&lt;</span> sex <span style="color:#f92672">&lt;&lt;</span> endl ;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; score : &#34;</span> <span style="color:#f92672">&lt;&lt;</span> score <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; title :&#34;</span> <span style="color:#f92672">&lt;&lt;</span> title <span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; wages :&#34;</span> <span style="color:#f92672">&lt;&lt;</span> wage <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> wage;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Graduate grad1(<span style="color:#e6db74">&#34;Wang_li&#34;</span>, <span style="color:#e6db74">&#39;f&#39;</span> , <span style="color:#ae81ff">24</span>,<span style="color:#e6db74">&#34;assistant&#34;</span>,<span style="color:#ae81ff">89.5</span>,<span style="color:#ae81ff">1200</span>);
</span></span><span style="display:flex;"><span>    grad1.show();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> name :Wang_li
</span></span><span style="display:flex;"><span> age :<span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span> sex :f
</span></span><span style="display:flex;"><span> score : <span style="color:#ae81ff">89.5</span>
</span></span><span style="display:flex;"><span> title :assistant
</span></span><span style="display:flex;"><span> wages :<span style="color:#ae81ff">1200</span>
</span></span></code></pre></div></li>
</ol>
<h1 id="6-多态和虚函数">6、 多态和虚函数
</h1><p><strong>C++中，多态性表现形式之一是：具有不同功能的函数可以用同一个函数名，这样就可以实现用一个函数名调用不同内容的函数</strong></p>
<h2 id="61-利用虚函数实现动态多态性">6.1 利用虚函数实现动态多态性
</h2><p>通过指针调用不同层次的同名函数，如</p>
<p><code>pt-&gt;display();</code>可以调用不同派生层次中的 display 函数，只需在调用前临时给指针变量pt赋予不同的值（使之指向不同的类对象）</p>
<p>具体程序实现：</p>
<p>Student是基类，Graduate是派生类，它们都有display这个同名的函数，实现对两个类的输出</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> score;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Student(<span style="color:#66d9ef">int</span> ,string ,<span style="color:#66d9ef">float</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Student<span style="color:#f92672">::</span>Student(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">float</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    num<span style="color:#f92672">=</span>n;
</span></span><span style="display:flex;"><span>    name<span style="color:#f92672">=</span>nam;
</span></span><span style="display:flex;"><span>    score<span style="color:#f92672">=</span>s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Student<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">score:&#34;</span><span style="color:#f92672">&lt;&lt;</span>score<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Graduate</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Student
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> wage;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Graduate(<span style="color:#66d9ef">int</span> n,string nam,<span style="color:#66d9ef">float</span> s,<span style="color:#66d9ef">float</span> w)<span style="color:#f92672">:</span>Student(n,nam,s),wage(w){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span>();
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Graduate<span style="color:#f92672">::</span>display()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">name:&#34;</span><span style="color:#f92672">&lt;&lt;</span>name<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">score:&#34;</span><span style="color:#f92672">&lt;&lt;</span>score<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">wage = &#34;</span><span style="color:#f92672">&lt;&lt;</span>wage<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Student stud1(<span style="color:#ae81ff">1001</span> , <span style="color:#e6db74">&#34;Li&#34;</span> , <span style="color:#ae81ff">87.5</span>);
</span></span><span style="display:flex;"><span>    Graduate grad1(<span style="color:#ae81ff">2001</span> ,<span style="color:#e6db74">&#34;Wang&#34;</span>,<span style="color:#ae81ff">98.5</span>,<span style="color:#ae81ff">1200</span>);
</span></span><span style="display:flex;"><span>    Student<span style="color:#f92672">*</span> pt <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>stud1;
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">-&gt;</span>display();
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">=&amp;</span>grad1;
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">-&gt;</span>display();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>num:<span style="color:#ae81ff">1001</span>
</span></span><span style="display:flex;"><span>name:Li
</span></span><span style="display:flex;"><span>score:<span style="color:#ae81ff">87.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>num:<span style="color:#ae81ff">2001</span>
</span></span><span style="display:flex;"><span>name:Wang
</span></span><span style="display:flex;"><span>score:<span style="color:#ae81ff">98.5</span>
</span></span><span style="display:flex;"><span>wage <span style="color:#f92672">=</span> <span style="color:#ae81ff">1200</span>
</span></span></code></pre></div><p>用同一种调用形式<code>pt-&gt;display()</code>，而且pt是同一个基类指针，可以调用同一类族中不同类的虚函数，这就是<strong>多态性</strong></p>
<p>**说明：**本来，Student类的 display 函数前没有加 virtual ，基类指针是用来指向基类对象的，如果用它指向派生类对象，则自动进行指针类型转换，将派生类的对象的指针先转换为基类的指针，这样基类指针指向的是派生类对象中的基类部分</p>
<p>在基类中的 display 被声明为虚函数，在声明派生类时被重载，这是派生类的同名函数 display 就取代了其基类中的虚函数。因此在使基类指针指向派生类对象后，调用 display 函数时就调用了派生类的 display 函数</p>
<p>要注意，如果不声明为虚函数，试图通过基类指针调用派生类的非虚函数是不行的</p>
<p><strong>虚函数的使用方法：</strong></p>
<ol>
<li>
<p>在基类中用 virtual 声明成员函数为虚函数，在类外定义虚函数时，不必再加virtual</p>
</li>
<li>
<p>在派生类中重新定义此函数时，函数名、函数类型、函数参数个数和类型必须与基类的虚函数相同，根据派生类的需要重新定义函数体</p>
<p>习惯上在每一层声明该函数时都加上 virtual</p>
<p>如果派生类中没有对基类的虚函数重新定义，则派生类简单地继承其直接基类的虚函数</p>
</li>
<li>
<p>定义一个指向基类对象的指针变量，并使它指向同一类族中需要调用该函数的对象</p>
</li>
<li>
<p>通过该指针变量调用此虚函数，此时调用的就是指针变量指向的对象的同名函数</p>
</li>
</ol>
<p><strong>注意：</strong></p>
<ul>
<li>在基类中定义的非虚函数会在派生类中被重新定义，如果用<strong>基类指针</strong>调用该成员函数，则系统会调用对象中<strong>基类部分的成员函数</strong>；如果用<strong>派生类指针</strong>调用该成员函数，则系统会调用<strong>派生类对象中的成员函数；</strong></li>
<li>只能用 virtual 声明类的成员函数，把它作为虚函数</li>
</ul>
<h2 id="62-虚析构函数">6.2 虚析构函数
</h2><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Point(){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#f92672">~</span>Point(){cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;executing Point destructor&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Circle</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Point
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Circle(){}
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Circle(){cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;executing Circle destructor&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> radius;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Point<span style="color:#f92672">*</span> p<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Circle;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> p;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>executing Circle destructor
</span></span><span style="display:flex;"><span>executing Point destructor
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#75715e">//如果没加virtual
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>executing Point destructor
</span></span></code></pre></div><h2 id="63-纯虚函数与抽象类">6.3 纯虚函数与抽象类
</h2><h3 id="纯虚函数">纯虚函数
</h3><p><strong>一般形式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">virtual</span> <span style="color:#960050;background-color:#1e0010">函数类型</span> <span style="color:#960050;background-color:#1e0010">函数名（参数列表）</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">；</span>
</span></span></code></pre></div><p><strong>具体：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">const</span> <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span></code></pre></div><p><strong>注意：</strong></p>
<ul>
<li>纯虚函数没有函数体</li>
<li>这是一个声明语句，最后应有分号</li>
<li>最后“=0”并不表示函数返回值为0，它只起形式上的作用</li>
</ul>
<h3 id="抽象类">抽象类
</h3><p>有时，定义一些类的唯一目的是用它作为基类去建立派生类</p>
<h3 id="实用实例">实用实例
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Shape</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> area() <span style="color:#66d9ef">const</span> <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">volume</span>() <span style="color:#66d9ef">const</span> <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shapeName</span>() <span style="color:#66d9ef">const</span> <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Shape
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> x,y;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Point(<span style="color:#66d9ef">float</span> a,<span style="color:#66d9ef">float</span> b)<span style="color:#f92672">:</span>x(a),y(b){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPoint</span>(<span style="color:#66d9ef">float</span> a,<span style="color:#66d9ef">float</span> b){x<span style="color:#f92672">=</span>a;y<span style="color:#f92672">=</span>b;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">getX</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> x;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">getY</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> y;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">const</span>{<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">volume</span>() <span style="color:#66d9ef">const</span>{<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shapeName</span>() <span style="color:#66d9ef">const</span> {cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Point:&#34;</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> ,<span style="color:#66d9ef">const</span> Point<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output,<span style="color:#66d9ef">const</span> Point<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;[&#34;</span><span style="color:#f92672">&lt;&lt;</span>p.x<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">&lt;&lt;</span>p.y<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;]&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Circle</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Point
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> radius;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Circle(<span style="color:#66d9ef">float</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">float</span> y<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">float</span> r<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">:</span>Point(x,y),radius(r){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setRadius</span>(<span style="color:#66d9ef">float</span> r){radius<span style="color:#f92672">=</span>r;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">getRadius</span>() <span style="color:#66d9ef">const</span>{<span style="color:#66d9ef">return</span> radius;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shapeName</span>() <span style="color:#66d9ef">const</span> {cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Circle:&#34;</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">const</span>{<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3.14159</span><span style="color:#f92672">*</span>radius<span style="color:#f92672">*</span>radius;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output,<span style="color:#66d9ef">const</span> Circle<span style="color:#f92672">&amp;</span> c);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output,<span style="color:#66d9ef">const</span> Circle<span style="color:#f92672">&amp;</span> c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;[&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.x<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.y<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;],r=&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.radius;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cylinder</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> Circle
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> height;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Cylinder(<span style="color:#66d9ef">float</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">float</span> y<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">float</span> r<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">float</span> h<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">:</span>Circle(x,y,r),height(h){}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setHeight</span>(<span style="color:#66d9ef">float</span> h){height<span style="color:#f92672">=</span>h;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">area</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>Circle<span style="color:#f92672">::</span>area()<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3.14159</span><span style="color:#f92672">*</span>radius<span style="color:#f92672">*</span>height;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shapeName</span>() <span style="color:#66d9ef">const</span> {cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Cylinder:&#34;</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">float</span> <span style="color:#a6e22e">volume</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> Circle<span style="color:#f92672">::</span>area()<span style="color:#f92672">*</span>height;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output,<span style="color:#66d9ef">const</span> Cylinder<span style="color:#f92672">&amp;</span> c);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ostream<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> output,<span style="color:#66d9ef">const</span> Cylinder<span style="color:#f92672">&amp;</span> c)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    output<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;[&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.x<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.y<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;],r=&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.radius<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;,h=&#34;</span><span style="color:#f92672">&lt;&lt;</span>c.height;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Point  point(<span style="color:#ae81ff">3.2</span>,<span style="color:#ae81ff">4.5</span>);
</span></span><span style="display:flex;"><span>    Circle circle(<span style="color:#ae81ff">2.4</span>,<span style="color:#ae81ff">1.2</span>,<span style="color:#ae81ff">5.6</span>);
</span></span><span style="display:flex;"><span>    Cylinder ctlinder(<span style="color:#ae81ff">3.5</span>,<span style="color:#ae81ff">6.4</span>,<span style="color:#ae81ff">5.2</span>,<span style="color:#ae81ff">10.5</span>);
</span></span><span style="display:flex;"><span>    point.shapeName();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>point<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    circle.shapeName();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>circle<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ctlinder.shapeName();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>ctlinder<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Shape<span style="color:#f92672">*</span> pt;
</span></span><span style="display:flex;"><span>    pt <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>point;
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">-&gt;</span>shapeName();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">=&amp;</span>circle;
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">-&gt;</span>shapeName();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">=&amp;</span>ctlinder;
</span></span><span style="display:flex;"><span>    pt<span style="color:#f92672">-&gt;</span>shapeName();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Point:[<span style="color:#ae81ff">3.2</span>,<span style="color:#ae81ff">4.5</span>]
</span></span><span style="display:flex;"><span>Circle:[<span style="color:#ae81ff">2.4</span>,<span style="color:#ae81ff">1.2</span>],r<span style="color:#f92672">=</span><span style="color:#ae81ff">5.6</span>
</span></span><span style="display:flex;"><span>Cylinder:[<span style="color:#ae81ff">3.5</span>,<span style="color:#ae81ff">6.4</span>],r<span style="color:#f92672">=</span><span style="color:#ae81ff">5.2</span>,h<span style="color:#f92672">=</span><span style="color:#ae81ff">10.5</span>
</span></span><span style="display:flex;"><span>Point:Circle:Cylinder:
</span></span></code></pre></div><h1 id="7-string函数补充">7、 String函数（补充）
</h1><ol>
<li>
<p><em><em>string 和 char</em> 的区别</em>*</p>
<ul>
<li>
<p>char*是一个指针</p>
</li>
<li>
<p>String是一个类，其内部封装好了char *，是一个char *型的容器</p>
</li>
</ul>
</li>
<li>
<p><strong>特点</strong></p>
<ul>
<li>
<p>String类内部封装了很多方法</p>
<p>例如：查找find，拷贝copy、删除delete、替换replace、插入insert</p>
</li>
<li>
<p>string管理char*所分配的内存，不用担心复制越界和取值越界等问题</p>
</li>
</ul>
</li>
<li>
<p><strong>string容器的构造方法</strong></p>
<ul>
<li>
<p>默认构造</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string s1;
</span></span></code></pre></div></li>
<li>
<p>用字符串s初始化</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> s<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hello world&#34;</span>;
</span></span><span style="display:flex;"><span>string <span style="color:#a6e22e">s2</span>(s);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;s2=&#34;</span><span style="color:#f92672">&lt;&lt;</span>s2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span></code></pre></div></li>
<li>
<p>用n个指定字符来初始化</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string <span style="color:#a6e22e">s4</span>(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;s4=&#34;</span><span style="color:#f92672">&lt;&lt;</span>s4<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span></code></pre></div></li>
</ul>
</li>
</ol>
<h2 id="1-string容器的赋值方式"><strong>1. string容器的赋值方式</strong>
</h2><ul>
<li>
<p>= 方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string str1;
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello world!&#34;</span>;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string str2;
</span></span><span style="display:flex;"><span>str2<span style="color:#f92672">=</span>str1;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str2 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string str3;
</span></span><span style="display:flex;"><span>str3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str3 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str3<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str1 <span style="color:#f92672">=</span> hello world<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>str2 <span style="color:#f92672">=</span> hello world<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>str3 <span style="color:#f92672">=</span> a
</span></span></code></pre></div></li>
<li>
<p>assign()函数方式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string str4;
</span></span><span style="display:flex;"><span>str4.assign(<span style="color:#e6db74">&#34;hello c++&#34;</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str4 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str4<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//取字符串str的前7个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>string str5;
</span></span><span style="display:flex;"><span>str5.assign(<span style="color:#e6db74">&#34;hello c++&#34;</span>,<span style="color:#ae81ff">7</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str5 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str5<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//将str5复制到str6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>string str6;
</span></span><span style="display:flex;"><span>str6.assign(str5);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str6 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str6<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//将5个x赋给str7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>string str7;
</span></span><span style="display:flex;"><span>str7.assign(<span style="color:#ae81ff">5</span>,<span style="color:#e6db74">&#39;x&#39;</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str7 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str7<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str4 <span style="color:#f92672">=</span> hello c<span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>str5 <span style="color:#f92672">=</span> hello c
</span></span><span style="display:flex;"><span>str6 <span style="color:#f92672">=</span> hello c
</span></span><span style="display:flex;"><span>str7 <span style="color:#f92672">=</span> xxxxx
</span></span></code></pre></div></li>
</ul>
<h2 id="2string容器的字符串拼接"><strong>2.string容器的字符串拼接</strong>
</h2><ul>
<li>
<p>+= 方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34; world&#34;</span>;	<span style="color:#75715e">//在str1的后面拼接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;!&#39;</span>;	<span style="color:#75715e">//也可以直接加一个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>string str2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;233&#34;</span>;
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">+=</span> str2;
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str1 <span style="color:#f92672">=</span> hello world
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">=</span> hello world<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">=</span> hello world<span style="color:#f92672">!</span><span style="color:#ae81ff">233</span>
</span></span></code></pre></div></li>
<li>
<p>append ()函数方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>string str3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>str3.append(<span style="color:#e6db74">&#34; world&#34;</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str3 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str3<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//str3 = hello world
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>str3.append(<span style="color:#e6db74">&#34;123456&#34;</span>,<span style="color:#ae81ff">3</span>);	<span style="color:#75715e">//只拼接前3个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str3 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str3<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//str3 = hello world123
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>string str4 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;str4&#34;</span>;
</span></span><span style="display:flex;"><span>str4.append(str3);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str4 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str4<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//str4 = str4hello world123
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//截取str3的字符，范围是从下标为0的字符到下标为5的字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str4.append(str3,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str4 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str4<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//str4 = str4hello world123hello
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//也可以直接将字符本身放进函数中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str4.append(<span style="color:#e6db74">&#34;hello world&#34;</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str4 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str4<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//str4 = str4hello world123hellohello
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str3 <span style="color:#f92672">=</span> hello world
</span></span><span style="display:flex;"><span>str3 <span style="color:#f92672">=</span> hello world123
</span></span><span style="display:flex;"><span>str4 <span style="color:#f92672">=</span> str4hello world123
</span></span><span style="display:flex;"><span>str4 <span style="color:#f92672">=</span> str4hello world123hello
</span></span><span style="display:flex;"><span>str4 <span style="color:#f92672">=</span> str4hello world123hellohello
</span></span></code></pre></div></li>
</ul>
<h2 id="3-string容器的字符串查找"><strong>3. string容器的字符串查找</strong>
</h2><ul>
<li>
<p>find（）函数</p>
<ul>
<li>
<p>只有一个参数，就是待查找的目标字符串</p>
</li>
<li>
<p><strong>返回值：</strong></p>
<p>若找到，则返回目标字符串第一次出现的 <strong>下标位置</strong>（从0开始）</p>
<p>反之，返回-1</p>
</li>
</ul>
</li>
<li>
<p>rfind（）函数</p>
<ul>
<li>
<p>参数与find（）函数相同</p>
</li>
<li>
<p>find（）函数是在原字符串中<em><strong>从左到右</strong></em>依次查找</p>
<p>rfind（）函数实在原字符串在<em><strong>从右到左</strong></em>依次查找</p>
</li>
<li>
<p>返回值：</p>
<p>若找到，则返回目标字符串第一次出现的 <strong>下标位置</strong></p>
<p>反之，返回-1</p>
</li>
</ul>
</li>
<li>
<p>代码示例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test04</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器的字符串的查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdefgdede&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> pos1 <span style="color:#f92672">=</span> str1.find(<span style="color:#e6db74">&#34;de&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pos1 <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//若未找到目标字符串，则返回 -1 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;未找到字符串&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//pos返回的是从左往右找的过程中第一次遇到 目标字符串的 第一个字符的下标位置（不是位序）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;找到字符串，pos1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>pos1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> pos2 <span style="color:#f92672">=</span> str1.rfind(<span style="color:#e6db74">&#34;de&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pos2 <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;未找到字符串&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//rfind()函数于find()函数几乎相同，只是rfind()函数是从右往左搜索，而find()函数是从左往右搜索
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;找到字符串，pos2 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>pos2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">找到字符串，</span>pos1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">找到字符串，</span>pos2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="4-string-容器的字符串替换"><strong>4. string 容器的字符串替换</strong>
</h2><ul>
<li>
<p>replace（）函数</p>
<p>共有三个参数：</p>
<ul>
<li>第一个参数：开始位置的下标</li>
<li>第二个参数：替换掉原字符串的长度</li>
<li>第三个参数：用来替换的字符串</li>
</ul>
</li>
<li>
<p>代码示例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test05</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器的字符串的替换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdefgdedee&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//replace()函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//第一个参数是从该 下标 开始
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//第二个参数是替换原字符串的多少个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//第三个参数是 拿什么字符串替换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    str1.replace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#e6db74">&#34;111111111&#34;</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str1 <span style="color:#f92672">=</span> a111111111efgdedee
</span></span></code></pre></div></li>
</ul>
<h2 id="5string-容器的字符串比较"><strong>5.string 容器的字符串比较</strong>
</h2><ul>
<li>
<p>compare（）函数</p>
<ul>
<li>只有一个参数，那就是待比较的字符串</li>
<li>结果有三种情况
<ol>
<li>= 相等，返回0</li>
<li>”&gt;“ 大于，返回1</li>
<li>“&lt;” 小于，返回-1</li>
</ol>
</li>
</ul>
</li>
<li>
<p>代码示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test06</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器的字符串比较
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//比较方式 按字符的 ASCII码值比较
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// = 返回 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// &gt; 返回 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// &lt; 返回 -1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello&#34;</span>;
</span></span><span style="display:flex;"><span>    string str2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ret <span style="color:#f92672">=</span> str1.compare(str2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ret <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//通常使用字符串比较只用比较其是否相等即可，至于谁大谁小意义不大
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 == str2&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 != str2&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>str1 <span style="color:#f92672">!=</span> str2
</span></span></code></pre></div></li>
</ul>
<h2 id="6string-容器的字符串存取"><strong>6.string 容器的字符串存取</strong>
</h2><ol>
<li>
<p><strong>用 [ ] 方法</strong></p>
<p>直接获取指定位置的字符</p>
</li>
<li>
<p><strong>用 at() 函数</strong></p>
<p>只有一个参数，那就是待获取的位置</p>
</li>
<li>
<p><strong>代码示例</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test07</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器的字符（串）存取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;algorithm&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//用 [] 方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>str1.size();i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>str1[i]<span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//用 at() 函数方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>str1.size();i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>str1.at(i)<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//xlgorithm
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    str1.at(<span style="color:#ae81ff">0</span>) <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;x&#39;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//xxgorithm
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    str1[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;x&#39;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>a l g o r i t h m
</span></span><span style="display:flex;"><span>a l g o r i t h m
</span></span><span style="display:flex;"><span>xlgorithm
</span></span><span style="display:flex;"><span>xxgorithm
</span></span></code></pre></div></li>
</ol>
<h2 id="7-string-容器的字符串的插入和删除"><strong>7. string 容器的字符串的插入和删除</strong>
</h2><ol>
<li>
<p><strong>插入</strong></p>
<p>有两个参数：</p>
<p>​	第一个参数：原字符串待插入的下标位置</p>
<p>​	第二个参数：插入的字符串</p>
</li>
<li>
<p><strong>删除</strong></p>
<p>有两个参数：</p>
<p>​	第一个参数：原字符串待删除的下标位置</p>
<p>​	第二个参数：删除的字符个数</p>
</li>
<li>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test08</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器的元素的插入和删除
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;algorithm&#34;</span>;
</span></span><span style="display:flex;"><span>    str1.insert(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#34;1111&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//在下标 1 后插入指定字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;插入后，str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    str1.erase(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//在下标 1 后删除 4 个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;删除后，str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//*******************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//插入和删除的起始下标都是从 0 开始
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//*******************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">插入后，</span>str1 <span style="color:#f92672">=</span> a1111lgorithm
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">删除后，</span>str1 <span style="color:#f92672">=</span> algorithm
</span></span></code></pre></div></li>
</ol>
<h2 id="8-string-容器的字符串取子串"><strong>8. string 容器的字符串取子串</strong>
</h2><ol>
<li>
<p><strong>substr( )函数</strong></p>
<p>有两个参数</p>
<p>​	第一个参数：原字符串中去子串的起始位置的下标</p>
<p>​	第二个参数：截取子串的长度</p>
</li>
<li>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test09</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//string 容器截取字串substring
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;algorithm&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第一个参数是起始位置的下标
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//第二个参数是截取 子串的长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string substr1 <span style="color:#f92672">=</span> str1.substr(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;substr1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>substr1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//截取后对原字符串无影响
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;str1 = &#34;</span><span style="color:#f92672">&lt;&lt;</span>str1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//实际应用示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string email <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;string@sina.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> pos <span style="color:#f92672">=</span> email.find(<span style="color:#e6db74">&#34;@&#34;</span>);
</span></span><span style="display:flex;"><span>    string userName <span style="color:#f92672">=</span> email.substr(<span style="color:#ae81ff">0</span>,pos);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;userName:&#34;</span><span style="color:#f92672">&lt;&lt;</span>userName<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>substr1 <span style="color:#f92672">=</span> algori
</span></span><span style="display:flex;"><span>str1 <span style="color:#f92672">=</span> algorithm
</span></span><span style="display:flex;"><span>userName:string
</span></span></code></pre></div></li>
</ol>
<h1 id="8多种输入补充">8、多种输入（补充）
</h1><h2 id="cinignore">cin.ignore()
</h2><p><strong>函数原型：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>istream<span style="color:#f92672">&amp;</span> ignore(<span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> , <span style="color:#66d9ef">int</span> delim <span style="color:#f92672">=</span> EOF);
</span></span></code></pre></div><p><strong>参数解析：</strong></p>
<ul>
<li>count参数：表示要忽略的字符数量，默认值为1</li>
<li>delim：表示停止忽略的条件，默认值为EOF，表示文件结束；</li>
<li>即cin.ignore() 会一直忽略字符，知道满足两个参数条件中的一个</li>
</ul>
<p>**返回值解析：**该函数返回一个引用到调用它的流对象，所以可以连接到其他输入流操作中</p>
<p><strong>两种形式：</strong></p>
<ul>
<li><code>cin.ignore(num);</code></li>
<li><code>cin.ignore(num,delim);</code></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">32</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> buf2[<span style="color:#ae81ff">32</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>buf;	<span style="color:#75715e">//&#34;hello&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span><span style="color:#75715e">//情况一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cin.ignore(<span style="color:#ae81ff">3</span>);	<span style="color:#75715e">//忽略三个字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//  cin.getline(buf2,32);	//输入&#34; world&#34;,实际只有rld
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cin<span style="color:#f92672">&gt;&gt;</span>buf2;  <span style="color:#75715e">//同理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#75715e">//情况二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cin.igonre(<span style="color:#ae81ff">3</span>,<span style="color:#e6db74">&#39;w&#39;</span>);
</span></span><span style="display:flex;"><span>    cin<span style="color:#f92672">&gt;&gt;</span>buf2;	<span style="color:#75715e">//orld
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;buf=&#34;</span><span style="color:#f92672">&lt;&lt;</span>buf<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;buf2=&#34;</span><span style="color:#f92672">&lt;&lt;</span>buf2<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    system(<span style="color:#e6db74">&#34;pause&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="cinget">cin.get()
</h2><p>此函数从输入流中读入一个<strong>字符</strong>（char非int，如果定义数组或变量为int就会出错），<strong>返回值为该字符的ASCII码</strong>，<strong>如果碰到输入的末尾，返回值为EOF</strong></p>
<h3 id="1-cinget字符变量名">1) cin.get(字符变量名)
</h3><p>用来接受字符，<strong>只获取一个字符</strong>，<strong>可以接受空格</strong>，<strong>遇到回车结束</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c[<span style="color:#ae81ff">20</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">20</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cin.get(c[i]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">20</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>c[i];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-cinget数组名接收字符数目">2) cin.get(数组名，接收字符数目)
</h3><p>用来<strong>接受字符串</strong>，<strong>可以接受空格</strong>，<strong>遇到回车结束</strong></p>
<p><strong>注意：</strong> <strong>数组的最后一位为‘\0’</strong>，如果设置接受n个字符，最多只能接受n-1而输入了大于等于n个字符，实际接受的只有n-1个字符，第n个为‘\0’（<strong>包括空格，不包括回车</strong>）所以预设数组大小时要比实际输入大小大1</p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    cin.get(c,<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="3-cinget">3) cin.get()
</h3><p>无参数主要用于<strong>舍弃输入流中不需要的字符，或舍弃回车</strong></p>
<h2 id="cingetline">cin.getline()
</h2><p><strong>用于读取字符数组</strong></p>
<p>有两个重载版本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>istream<span style="color:#f92672">&amp;</span> getline(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> buf,<span style="color:#66d9ef">int</span> bufSize);	<span style="color:#75715e">//读取bufSize-1个字符到缓冲区buff，或遇到\n为止（哪个条件先满足就停止输入），函数会自动在buf中读入数据的结尾添加\0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>istream<span style="color:#f92672">&amp;</span> getline(<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> buf,<span style="color:#66d9ef">int</span> bufsize,<span style="color:#66d9ef">char</span> delim);		<span style="color:#75715e">//读取bufSize-1个字符到缓冲区buff，或遇到delim为止（\n和delim不会被读入buff，但会被从输入流中取走，哪个条件先满足就停止输入），函数会自动在buf中读入数据的结尾添加\0
</span></span></span></code></pre></div><h3 id="1cingetline变量名输入大小">1）cin.getline(变量名，输入大小)
</h3><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    cin.getline(c,<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">123456</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">12</span>
</span></span></code></pre></div><h3 id="2cingetline变量名输入大小结束标志">2）cin.getline(变量名，输入大小，结束标志)
</h3><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c[<span style="color:#ae81ff">5</span>];
</span></span><span style="display:flex;"><span>    cin.getline(c,<span style="color:#ae81ff">5</span>,<span style="color:#e6db74">&#39;3&#39;</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>c<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">123456</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">12</span>
</span></span></code></pre></div><h2 id="getline">getline()
</h2><p><strong>用于string类</strong>，<strong>接受一个字符串</strong>，<strong>可以接收空格、回车</strong></p>
<p><strong>不会在数组结尾加’\0‘</strong>，</p>
<p>使用时<strong>需要包含头文件<code>#include&lt;string&gt;</code></strong></p>
<p><strong>格式：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">//格式一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>getline(cin,string s);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//格式二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>getline(cin,string s,<span style="color:#66d9ef">char</span> ch);	<span style="color:#75715e">//ch为结束标志位,结束符不放在缓存区
</span></span></span></code></pre></div><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e"> 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    getline(cin, name);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> name <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>harry poter
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>harry poter
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    string name;
</span></span><span style="display:flex;"><span>    getline(cin, name,<span style="color:#e6db74">&#39;e&#39;</span>);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> name <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>harry poter
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>harry pot
</span></span></code></pre></div><h1 id="9容器">9、容器
</h1><h2 id="1基本概念">1）基本概念
</h2><p><strong>功能：<strong>vector数据结构</strong>和数组非常相似</strong>，也称为<strong>单端数组</strong></p>
<p><strong>与普通数组区别：<strong>数组是静态空间（大小固定），而vector可以</strong>动态扩展</strong></p>
<p>（1）不是在原空间之后续接新空间，而是找更大的内存空间，然后将原数据拷贝到新空间，释放原空间</p>
<p>（2）vector容器的迭代器是支持随机访问的迭代器</p>
<h2 id="2vector-构造函数">2）vector 构造函数
</h2><p>**功能：**创建vector容器</p>
<p><strong>函数原型：</strong></p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  vector<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> v;	<span style="color:#75715e">//采用模板实现类实现，默认构造函数
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  vector(v.begin(),v.end());	<span style="color:#75715e">//将v(begin(), end()) 区间中的元素拷贝给本身 （前闭后开）
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  vector(n,elem);	<span style="color:#75715e">//构造函数，将n个elem拷贝给自身,elem数组类型根据vector的类型决定
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  vector(<span style="color:#66d9ef">const</span> vector <span style="color:#f92672">&amp;</span>vec);	<span style="color:#75715e">//拷贝构造函数
</span></span></span></code></pre></div></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">//vector单端数组构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;    <span style="color:#75715e">// vector&lt;int&gt;::iterator 拿到vector&lt;int&gt;这种容器的迭代器类型；
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                                     <span style="color:#75715e">//每个容器都有一个专属的迭代器类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(it<span style="color:#f92672">=</span>v.begin() ; it<span style="color:#f92672">!=</span>v.end() ; it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;*</span>it<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;     <span style="color:#75715e">// it是个迭代器类型，本是是个指针，需使用*解引用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1、默认构造，无参构造
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2、将v开始迭代器到结束迭代器之间的元素，赋给v1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v1(v.begin() , v.end());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 3、将10个10拷贝给v
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v2(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v2);  <span style="color:#75715e">// 调用Fun_Print()函数，遍历v2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 4、拷贝构造
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v3(v2);
</span></span><span style="display:flex;"><span>    Fun_Print(v3);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="3vector赋值操作">3）vector赋值操作
</h2><p>**功能：**给vector容器进行赋值</p>
<p><strong>函数原型：</strong></p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  vector <span style="color:#66d9ef">operator</span> <span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> vector <span style="color:#f92672">&amp;</span>vec);	<span style="color:#75715e">//重载等号运算符
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  assign(beg,end);	<span style="color:#75715e">//将[beg，end)区间的数据拷贝赋值给本身
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  assign(n,elem);		<span style="color:#75715e">//将n个elem拷贝给本身
</span></span></span></code></pre></div></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(it<span style="color:#f92672">=</span>v.begin() ; it<span style="color:#f92672">!=</span>v.end() ; it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;*</span>it<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 默认构造，无参构造
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v.push_back(i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1、赋值 operator=
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v1<span style="color:#f92672">=</span>v;
</span></span><span style="display:flex;"><span>    Fun_Print(v1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2、使用assign()函数，将容器v起始迭代器到结束迭代器之间的元素赋给v1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v2;
</span></span><span style="display:flex;"><span>    v2.assign(v.begin(),v.end());
</span></span><span style="display:flex;"><span>    Fun_Print(v2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 3、使用assign()函数，将10个&#39;a&#39;赋值给本身
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v3;
</span></span><span style="display:flex;"><span>    v3.assign(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v3);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span> <span style="color:#ae81ff">97</span>
</span></span></code></pre></div><h2 id="4vector容量和大小">4）vector容量和大小
</h2><p>**功能：**对vector容器的容量和大小操作</p>
<p><strong>函数原型：</strong></p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  empty();	<span style="color:#75715e">//判断容器是否为空
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  capacity();	<span style="color:#75715e">//容器的容量
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  size();	<span style="color:#75715e">//返回容器中元素的个数
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  resize(<span style="color:#66d9ef">int</span> num); 	<span style="color:#75715e">//重设容器的大小为num
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//若容器变长，则以默认值填充新位置 （默认填充0）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//如果容器变短，则末尾超出容器长度的元素被删除
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  resize(<span style="color:#66d9ef">int</span> num,T elem);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//重新设定容器的长度为num，若容器变长，则以elem值填充新位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//如果容器变短，则末尾超出容器长度的元素被删除
</span></span></span></code></pre></div></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(it<span style="color:#f92672">=</span>v.begin() ; it<span style="color:#f92672">!=</span>v.end() ; it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;*</span>it<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v.push_back(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    v.push_back(<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    v.push_back(<span style="color:#ae81ff">3</span>); <span style="color:#75715e">//v=1 2 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.push_back(<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(v.empty())
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器为空&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;容器不为空&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 2、capacity()返回容器的容量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的容量为：&#34;</span><span style="color:#f92672">&lt;&lt;</span>v.capacity()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3、size()返回容器的个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的个数为：&#34;</span><span style="color:#f92672">&lt;&lt;</span>v.size()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 4.1、resize()重新指定大小 ，若指定的更大，默认用0填充新位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.resize(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 4.2、resize()重新指定大小 ，若指定的更小，超出部分元素被删除
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.resize(<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 5.1、resize()重新指定大小 ，若指定的更大，默认用0填充新位置；可以利用重载版本替换默认填充，默认填充10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.resize(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 5.2、resize()重新指定大小 ，若指定的更小，超出部分元素被删除
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.resize(<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">50</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">容器不为空</span>
</span></span><span style="display:flex;"><span>v容器的容量为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>v容器的个数为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h2 id="5vector插入和删除">5）vector插入和删除
</h2><p>**功能：**对vector容器进行插入、删除操作</p>
<p><strong>函数原型：</strong></p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  push_back(ele);	<span style="color:#75715e">//尾部插入元素ele
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  pop_back();	<span style="color:#75715e">//删除最后一个元素
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  insert(const_iterator pos,T ele);	<span style="color:#75715e">//迭代器指向位置pos插入元素ele
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  insert(const_iterator pos,<span style="color:#66d9ef">int</span> count,T ele);	<span style="color:#75715e">//迭代器指向位置pos插入count个元素ele
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  erase(conset_iterator pos);	<span style="color:#75715e">//删除迭代器指向的元素
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  erase(const_iterator start,const_iterator end);	<span style="color:#75715e">//删除迭代器从start到end之间的元素
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  clear();	<span style="color:#75715e">//删除容器中所有元素
</span></span></span></code></pre></div></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(it<span style="color:#f92672">=</span>v.begin() ; it<span style="color:#f92672">!=</span>v.end() ; it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;*</span>it<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1、push_back()向容器尾部插入元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.push_back(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    v.push_back(<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    v.push_back(<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//1 2 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2、pop_back()插入容器尾部元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.pop_back();
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//1 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 3、insert()在容器的结束迭代器处，插入100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.insert(v.end(),<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//1 2 100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 4、insert()在容器的结束迭代器处，插入5个1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.insert(v.end(),<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//1 2 100 1000 1000 1000 1000 1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 5、erase()删除容器开始迭代器中的元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.erase(v.begin());
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//2 100 1000 1000 1000 1000 1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 6、erase()删除容器开始迭代器到结束迭代器中的元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.erase(v.begin(),v.end());
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 7、clear()情况容器中的元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.push_back(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.clear();
</span></span><span style="display:flex;"><span>    Fun_Print(v);   <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">100</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span> <span style="color:#ae81ff">100</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span></code></pre></div><h2 id="6vector数据存取">6）vector数据存取
</h2><p>**功能：**对vector中的数据的存取操作</p>
<p><strong>函数原型：</strong></p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  at<span style="color:#960050;background-color:#1e0010">（</span><span style="color:#66d9ef">int</span> idx);	<span style="color:#75715e">//返回索引idx所指的数据
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  <span style="color:#66d9ef">operator</span>[i];	<span style="color:#75715e">//返回索引idx所指的数据
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  front();	<span style="color:#75715e">//返回容器中第一个数据元素
</span></span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  back();	<span style="color:#75715e">//返回容器中最后一个数据元素
</span></span></span></code></pre></div></li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(it<span style="color:#f92672">=</span>v.begin() ; it<span style="color:#f92672">!=</span>v.end() ; it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;*</span>it<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v.push_back(i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1、at()返回索引i所指向的数据元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>v.size();i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v.at(i)<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2、[]返回容器下标i所指向的数据元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>v.size();i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 3、front()返回容器中的第一个数据元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的第一个元素为： &#34;</span><span style="color:#f92672">&lt;&lt;</span>v.front()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 4、back()返回容器中的最后一个数据元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的最后一个元素为： &#34;</span><span style="color:#f92672">&lt;&lt;</span>v.back()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span>v容器的第一个元素为<span style="color:#960050;background-color:#1e0010">：</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>v容器的最后一个元素为<span style="color:#960050;background-color:#1e0010">：</span> <span style="color:#ae81ff">9</span>
</span></span></code></pre></div><h2 id="7-vector互换容器">7） vector互换容器
</h2><p><strong>功能描述：</strong> 实现两个容器内元素进行互换</p>
<p><strong>函数原型：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>swap(vec);	<span style="color:#75715e">//将vec与本身的元素互换
</span></span></span></code></pre></div><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">// vector单端数组容器数据存取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 包含标准输入输出流头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;  <span style="color:#75715e">// 使用标准命名空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 使用vector单端数组容器，需包含头文件vector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v) {  <span style="color:#75715e">// 使用引用方式&amp;，传入vector&lt;int&gt;类型的形参v
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// vector&lt;int&gt;::iterator 拿到vector&lt;int&gt;这种容器的迭代器类型；每个容器都有一个专属的迭代器类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> (vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it <span style="color:#f92672">=</span> v.begin(); it <span style="color:#f92672">!=</span> v.end(); it<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;  <span style="color:#75715e">// it是个迭代器类型，本是是个指针，需使用*解引用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">// push_back()向容器尾部插入元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		v.push_back(i);
</span></span><span style="display:flex;"><span>		v1.push_back(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;容器互换前----------------------------&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>	Fun_Print(v);
</span></span><span style="display:flex;"><span>	Fun_Print(v1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	v.swap(v1);  <span style="color:#75715e">// swap()将v1容器中的数据元素与本身的数据元素进行互换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;容器互换后----------------------------&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>	Fun_Print(v);
</span></span><span style="display:flex;"><span>	Fun_Print(v1);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	test();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	system(<span style="color:#e6db74">&#34;pause&#34;</span>);  <span style="color:#75715e">// 相当于在本地 Windows 调试器中的：请按任意键继续...；暂停，方便看清楚输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;  <span style="color:#75715e">// 程序正常退出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">容器互换前</span><span style="color:#f92672">----------------------------</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span> <span style="color:#ae81ff">101</span> <span style="color:#ae81ff">102</span> <span style="color:#ae81ff">103</span> <span style="color:#ae81ff">104</span> <span style="color:#ae81ff">105</span> <span style="color:#ae81ff">106</span> <span style="color:#ae81ff">107</span> <span style="color:#ae81ff">108</span> <span style="color:#ae81ff">109</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">容器互换后</span><span style="color:#f92672">----------------------------</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span> <span style="color:#ae81ff">101</span> <span style="color:#ae81ff">102</span> <span style="color:#ae81ff">103</span> <span style="color:#ae81ff">104</span> <span style="color:#ae81ff">105</span> <span style="color:#ae81ff">106</span> <span style="color:#ae81ff">107</span> <span style="color:#ae81ff">108</span> <span style="color:#ae81ff">109</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span></code></pre></div><p><strong>实际用途：使用swap收缩内存空间</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">// vector单端数组容器数据存取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 包含标准输入输出流头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;  <span style="color:#75715e">// 使用标准命名空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 使用vector单端数组容器，需包含头文件vector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v) {  <span style="color:#75715e">// 使用引用方式&amp;，传入vector&lt;int&gt;类型的形参v
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// vector&lt;int&gt;::iterator 拿到vector&lt;int&gt;这种容器的迭代器类型；每个容器都有一个专属的迭代器类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> (vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it <span style="color:#f92672">=</span> v.begin(); it <span style="color:#f92672">!=</span> v.end(); it<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;  <span style="color:#75715e">// it是个迭代器类型，本是是个指针，需使用*解引用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">100000</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v.push_back(i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的容量为：&#34;</span><span style="color:#f92672">&lt;&lt;</span>v.capacity()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;v容器的个数为：&#34;</span><span style="color:#f92672">&lt;&lt;</span>v.size()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v.resize(<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;指定个数后------------------------------&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;v容器的容量为：&#34;</span> <span style="color:#f92672">&lt;&lt;</span> v.capacity() <span style="color:#f92672">&lt;&lt;</span> endl;  <span style="color:#75715e">// 138255
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;v容器的个数为：&#34;</span> <span style="color:#f92672">&lt;&lt;</span> v.size() <span style="color:#f92672">&lt;&lt;</span> endl;  <span style="color:#75715e">// 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// 收缩内存；使用swap收缩内存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(v).swap(v);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//vector&lt;int&gt;(v)匿名对象；相当于利用v来创建了一个新的对象，其实是调用拷贝构造函数创建一个新对象（x）；
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">//实际无名（x）；按照v来做初始化操作，会按v目前所用的元素个数来初始化匿名对象（x）的大小；
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">//所以匿名对象最开始大小和容量都为3；使用swap，容器交换后，匿名对象会进行回收
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 互换元素的本质：相当于指针的交换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">// 匿名对象特点：当前行代码执行完后，匿名对象立即被回收，系统回收
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;收缩内存后------------------------------&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;v容器的容量为：&#34;</span> <span style="color:#f92672">&lt;&lt;</span> v.capacity() <span style="color:#f92672">&lt;&lt;</span> endl;  <span style="color:#75715e">// 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;v容器的个数为：&#34;</span> <span style="color:#f92672">&lt;&lt;</span> v.size() <span style="color:#f92672">&lt;&lt;</span> endl;  <span style="color:#75715e">// 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	test();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	system(<span style="color:#e6db74">&#34;pause&#34;</span>);  <span style="color:#75715e">// 相当于在本地 Windows 调试器中的：请按任意键继续...；暂停，方便看清楚输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;  <span style="color:#75715e">// 程序正常退出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>v容器的容量为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">131072</span>
</span></span><span style="display:flex;"><span>v容器的个数为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">100000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">指定个数后</span><span style="color:#f92672">------------------------------</span>
</span></span><span style="display:flex;"><span>v容器的容量为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">131072</span>
</span></span><span style="display:flex;"><span>v容器的个数为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">收缩内存后</span><span style="color:#f92672">------------------------------</span>
</span></span><span style="display:flex;"><span>v容器的容量为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>v容器的个数为<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><h2 id="8vector预留空间">8）vector预留空间
</h2><p>**功能描述：**减少 vector 在动态扩展容量时的扩展次数</p>
<p><strong>函数原型：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>reserve(<span style="color:#66d9ef">int</span> len);	<span style="color:#75715e">//容器预留 len 个元素长度，预留位置不初始化，元素不可访问
</span></span></span></code></pre></div><p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">// vector单端数组容器数据存取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 包含标准输入输出流头文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;  <span style="color:#75715e">// 使用标准命名空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">  </span><span style="color:#75715e">// 使用vector单端数组容器，需包含头文件vector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Fun_Print</span>(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> v)    <span style="color:#75715e">// 使用引用方式&amp;，传入vector&lt;int&gt;类型的形参v
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// vector&lt;int&gt;::iterator 拿到vector&lt;int&gt;这种容器的迭代器类型；每个容器都有一个专属的迭代器类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it <span style="color:#f92672">=</span> v.begin(); it <span style="color:#f92672">!=</span> v.end(); it<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;  <span style="color:#75715e">// it是个迭代器类型，本是是个指针，需使用*解引用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 创建vector单端数组容器对象，并且通过模板参数指定容器中存放的数据的类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 利用reserve()预留空间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    v.reserve(<span style="color:#ae81ff">100</span>);  <span style="color:#75715e">//// 如果一开始就预留足够的空间，就不用连续开辟（动态扩展）30次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  <span style="color:#75715e">//统计开辟次数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p<span style="color:#f92672">=</span>NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">100000</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        v.push_back(i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">!=&amp;</span>v[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            p<span style="color:#f92672">=&amp;</span>v[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>            num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;num:&#34;</span><span style="color:#f92672">&lt;&lt;</span>num<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    test();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    system(<span style="color:#e6db74">&#34;pause&#34;</span>);  <span style="color:#75715e">// 相当于在本地 Windows 调试器中的：请按任意键继续...；暂停，方便看清楚输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;  <span style="color:#75715e">// 程序正常退出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>num:<span style="color:#ae81ff">11</span>
</span></span></code></pre></div><h1 id="10文件操作">10、文件操作
</h1><h2 id="91-文件流">9.1 文件流
</h2><p>C++总共有<strong>输入文件流</strong>、<strong>输出文件流</strong>和<strong>输入输出文件流</strong>3种</p>
<ul>
<li>要打开一个输入文件流，需要定义一个 <strong><code>ifstream</code></strong> 类型的对象</li>
<li>要打开一个输出文件流，需要定义一个**<code>ofstream</code>** 类型的对象</li>
<li>要打开一个输入输出文件流，需要定义一个**<code>fstream</code>** 类型的对象</li>
</ul>
<p>这3种类型都定义在头文件**&lt; fstream &gt;**中</p>
<h2 id="92-文件操作">9.2 文件操作
</h2><p>总结对文件进行操作的方法如下：</p>
<ol>
<li>
<p><strong>包含头文件 &lt; fstream &gt;</strong></p>
</li>
<li>
<p><strong>创建一个流对象</strong></p>
</li>
<li>
<p><strong>将这个流和相应的文件关联起来</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;fstream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">outstream</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ofstream ofs;
</span></span><span style="display:flex;"><span>    ofs.open(<span style="color:#e6db74">&#34;mytest.txt&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>因为 <strong><code>ifstream</code></strong> 、<strong><code>ofstream</code></strong> 、<strong><code>fstream</code></strong> 这3个类都<strong>具有自动打开文件的构造函数</strong>，而这个构造函数就具有**open（）**的功能</p>
<p>因此在创建流对象的时候</p>
<p>就可以关联文件<code>ofstream myStream(&quot;myTest.txt&quot;);</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;fstream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">outstream</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ofstream myStream(<span style="color:#e6db74">&#34;myTest.txt&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p><strong>操作文件流</strong></p>
</li>
</ol>
<h3 id="921-文本文件">9.2.1 文本文件
</h3><h4 id="1写文件">1.写文件
</h4><p><strong>注意：在写文件时，如果要打开的文件不存在或者路径错误那么会自动生成一个文件</strong></p>
<p><strong>open函数的原型如下：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">open</span>(<span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>,<span style="color:#66d9ef">int</span> filemode,<span style="color:#66d9ef">int</span> <span style="color:#f92672">=</span>filebuf<span style="color:#f92672">::</span>openprot);
</span></span></code></pre></div><p><strong>有3个参数：</strong></p>
<ul>
<li>第一个是要打开的文件名</li>
<li>第二个是文件的打开方式</li>
<li>第三个是文件的保护方式（一般都是用默认值）</li>
</ul>
<p><strong>其中第2个参数可以取下列的值：</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>打开方式</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>ios::in</td>
<td>打开文件进行读操作，这种方式可以避免删除现存文件的内容</td>
</tr>
<tr>
<td>ios::out</td>
<td>打开文件进行写操作，这是默认模式</td>
</tr>
<tr>
<td>ios::ate</td>
<td>打开一个已有的输入或输出文件并查找到文件尾开始(at the end)</td>
</tr>
<tr>
<td>ios::app</td>
<td>在文件尾追加方式写文件</td>
</tr>
<tr>
<td>ios::binary</td>
<td>指定文件以二进制方式打开，默认为文本方式</td>
</tr>
<tr>
<td>ios::trunc</td>
<td>如文件存在，将其长度截断为零并清除原有内容</td>
</tr>
</tbody>
</table></div>
<p><strong>这些值可以组合使用，如</strong></p>
<ul>
<li>
<p><strong>当你想要写入文件时从一个空文件开始，可以使用这个标志</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>ofstream ofs(<span style="color:#e6db74">&#34;example.txt&#34;</span>,ios<span style="color:#f92672">::</span>out <span style="color:#f92672">|</span> ios<span style="color:#f92672">::</span>trunc);
</span></span></code></pre></div></li>
<li>
<p><strong>以读写模式打开文件，并且如果文件已存在，其内容会被清空。如果文件不存在，将会创建一个新文件</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>fstream fs(<span style="color:#e6db74">&#34;example.txt&#34;</span>,ios<span style="color:#f92672">::</span>in <span style="color:#f92672">|</span> ios<span style="color:#f92672">::</span>out <span style="color:#f92672">|</span> ios<span style="color:#f92672">::</span>trunc);
</span></span></code></pre></div></li>
</ul>
<p><strong>例子：在文件末尾输入</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;fstream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">outprint</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ofstream ofs; <span style="color:#75715e">//打开一个写的文件流
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ofs.open(<span style="color:#e6db74">&#34;test.txt&#34;</span>, ios<span style="color:#f92672">::</span>app <span style="color:#f92672">|</span> ios<span style="color:#f92672">::</span>ate);  <span style="color:#75715e">//把这个流和文件关联起来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    ofs <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;姓名：张三&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    ofs <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;年龄：18&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    ofs <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;性别：男&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ofs.close();   <span style="color:#75715e">//操作完成记得close()关闭
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    outprint();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2读文件">2.读文件
</h3><p>函数功能</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>bad()</td>
<td>如果进行非法操作，返回true，否则返回false</td>
</tr>
<tr>
<td>clear()</td>
<td>设置内部错误状态，如果用缺省参量调用则清除所有错误位</td>
</tr>
<tr>
<td>eof()</td>
<td>如果提取操作已经到达文件尾，则返回true，否则返回false</td>
</tr>
<tr>
<td>good()</td>
<td>如果没有错误条件和没有设置文件结束位置，返回true，否则返回false</td>
</tr>
<tr>
<td>fail()</td>
<td>与good相反，操作失败返回false，否则返回true</td>
</tr>
<tr>
<td>is_open()</td>
<td>判定流对象是否成功地与文件关联，若是，返回true，否则返回false</td>
</tr>
</tbody>
</table></div>
<p><strong>例子：输出文件中的内容</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;fstream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">inputfile</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ifstream ofs;
</span></span><span style="display:flex;"><span>    ofs.open(<span style="color:#e6db74">&#34;test.txt&#34;</span>, ios<span style="color:#f92672">::</span>in);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ofs.is_open())
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;已成功和文件关联!!!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//方法一 遇到空格停止
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">char</span> chr[<span style="color:#ae81ff">1024</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (ofs <span style="color:#f92672">&gt;&gt;</span> chr)
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> chr <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//方法二 可以读入空格
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">char</span> ch1[<span style="color:#ae81ff">1024</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    	<span style="color:#66d9ef">while</span>(ifs.getline(ch1,<span style="color:#66d9ef">sizeof</span>(ch1)))
</span></span><span style="display:flex;"><span>        	cout<span style="color:#f92672">&lt;&lt;</span>ch1<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>   <span style="color:#75715e">//不为真
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;尚未与文件关联!!!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ofs.close();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    inputfile();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>注：打开文件流完成操作后一定要关闭文件流</strong></p>
<p>另外在写文件的时候使用is_open*()函数判断文件是否打开意义不大，		因为如果没有找到这个文件那么就会根据你填入的文件名自动创建一个		这样的文件无论有没有文件都会返回 true；</p>
<h1 id="11algorithm头文件">11、algorithm头文件
</h1><h2 id="1maxminabs函数">1）max()、min()、abs()函数
</h2><ul>
<li>**max()：**求两个数的最大值</li>
<li>**min()：**求两个数的最小值</li>
<li>**abs()：**求一个数的绝对值</li>
</ul>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a<span style="color:#f92672">=-</span><span style="color:#ae81ff">3</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> Max<span style="color:#f92672">=</span>max(a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> Min<span style="color:#f92672">=</span>min(a,b);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> Abs<span style="color:#f92672">=</span>abs(a);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>Max<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>Min<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>Abs<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>    
</span></span></code></pre></div><p><strong>注意：</strong></p>
<ol>
<li><strong>max()</strong> 和 <strong>min()</strong> 函数中的<strong>参数只能是两个</strong>，如果想求3个数的最大值，需要嵌套一下</li>
<li>写了<strong>algorithm</strong>头文件后，max就变成了函数名，在自己定义变量时，要避免使用max、min等</li>
<li><strong>abs()函数只能用于求整型变量的绝对值</strong>，<strong><code>#include&lt;cmath&gt;</code>中的fabs()函数可以用于浮点型变量的绝对值</strong></li>
</ol>
<h2 id="2交换函数swap">2）交换函数：swap()
</h2><p>**功能：**实现x,y值的交换</p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>b<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    swap(a,b);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>a<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>b<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><h2 id="3翻转函数reverse">3）翻转函数：reverse()
</h2><p>**功能：**翻转x-y区间的数组或容器的值,<strong>区间为左闭右开，[x,y)</strong></p>
<p><strong>（1）翻转整个数组</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>]<span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    reverse(a,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">55</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">22</span>
</span></span></code></pre></div><p><strong>（2）也可以实现对部分值的翻转</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>	reverse(a<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>) 
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> a[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> } 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">55</span> <span style="color:#ae81ff">44</span>
</span></span></code></pre></div><p><strong>（3）翻转整个容器：若想对容器中所有的数进行翻转，则需要用到begin()、end()函数</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    v.reserve(<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>         v.push_back(i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">!=&amp;</span>v[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>            p<span style="color:#f92672">=&amp;</span>v[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    reverse(v.begin(),v.end());
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>(4)翻转容器选定范围：容器的翻转也可以用迭代器，来实现指定位数的翻转</strong></p>
<p><strong>同样是左闭右开，[x,y)</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    v.reserve(<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span> ; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>         v.push_back(i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">!=&amp;</span>v[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>            p<span style="color:#f92672">=&amp;</span>v[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    it<span style="color:#f92672">=</span>v.begin();
</span></span><span style="display:flex;"><span>    reverse(it<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,it<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>v[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
</span></span></code></pre></div><h2 id="4排序函数sort">4）排序函数：sort()
</h2><p><strong>(1)对x-y区间的数组、容器进行排序，<a class="link" href="" >默认升序排序</a></strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">55</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">11</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sort(a,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">55</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">11</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">55</span>
</span></span></code></pre></div><p><strong>（2）如果想将数组降序排序，就需要写一个简单的函数，改变默认的排序功能</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sort(a,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>,cmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">55</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">55</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">11</span>
</span></span></code></pre></div><p><strong>（3）同理，如果对结构体排序，也需要自定义优先级</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//用sort函数对结构体排序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> high;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> weigh;
</span></span><span style="display:flex;"><span>}student[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#75715e">//a.high如果小于b.high，则a结构体的优先级更大， 也就是说：high小的结构体排在前面。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp</span>(Student a, Student b) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> a.high <span style="color:#f92672">&gt;</span> b.high;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		student[i].high <span style="color:#f92672">=</span> i ;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> student[i].high <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	sort(student, student<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>, cmp);		<span style="color:#75715e">//将自定义的函数添加上。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> student[i].high <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span> <span style="color:#ae81ff">8</span> <span style="color:#ae81ff">7</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p><strong>（4）如果想对容器排序，就需要使用迭代器，或<code>begin()</code>,<code>end()</code>函数</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>v;
</span></span><span style="display:flex;"><span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//输入：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>		v.push_back(i);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//输出：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v.size(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> v[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	it <span style="color:#f92672">=</span> v.begin();
</span></span><span style="display:flex;"><span>	sort(it, it<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>,cmp);
</span></span><span style="display:flex;"><span><span style="color:#75715e">//	sort(v.begin(), v.end())
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v.size(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		cout <span style="color:#f92672">&lt;&lt;</span> v[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p><strong>注意：</strong></p>
<ol>
<li><strong>sort()排序函数的时间复杂度大概在o(nlogn)，比冒泡、简单排序等效率高</strong> 。</li>
<li>和<code>reverse()</code>函数一样，可以自由指定排序范围，也是<strong>半开半闭区间（左闭右开）</strong></li>
</ol>
<h2 id="5查找函数find">5）查找函数：find()
</h2><p>**功能：**查找某数组指定区间x-y内是否有x，<strong>若有，则返回该位置的地址，若没有，则返回该数组第n+1个值的地址</strong></p>
<p><strong>注意：</strong></p>
<p>数组中查找是否有某值：<strong>一定一定一定要满足代码中这两个条件。</strong></p>
<ol>
<li><strong>p-a != 数组的长度；</strong> p是查找数值的地址，a是a[0]的地址。</li>
<li>*<strong>p == x;</strong> 也就是该地址指向的值等于我们要查找的值。</li>
</ol>
<p><strong>最后输出p-a+1</strong>； p-a相当于x所在位置的地址-a[0]所在位置的地址， 但因为是从0开始算， 所以最后需要+1。</p>
<p><strong>（1）对数组进行查找</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> find(a,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">33</span>);				<span style="color:#75715e">//定义指针，指向查找完成后返回的地址，5为a2数组长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(((p<span style="color:#f92672">-</span>a) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#f92672">*</span>p <span style="color:#f92672">==</span> <span style="color:#ae81ff">33</span>))		<span style="color:#75715e">//若同时满足这两个条件，则查找成功，输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout <span style="color:#f92672">&lt;&lt;</span> (p<span style="color:#f92672">-</span>a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);					<span style="color:#75715e">//输出所在位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><p><strong>（2）对容器进行查找</strong></p>
<p><strong>也要满足上述两个条件：</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>v;
</span></span><span style="display:flex;"><span>	vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it, it1;
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//输入： 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>) 
</span></span><span style="display:flex;"><span>		v.push_back(i); 
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//查找 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> v.size();					<span style="color:#75715e">//第一步：求长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	it <span style="color:#f92672">=</span> find(v.begin(), v.end(), <span style="color:#ae81ff">3</span>);		<span style="color:#75715e">//第二步：查找x在容器的位置，返回迭代器1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	it1 <span style="color:#f92672">=</span> v.begin();						<span style="color:#75715e">//第三步：令迭代器2指向容器头 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span>(((it<span style="color:#f92672">-</span>it1)<span style="color:#f92672">!=</span>size)<span style="color:#f92672">&amp;&amp;</span>(<span style="color:#f92672">*</span>it<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span>))			<span style="color:#75715e">//第四步：若同时满足这两个条件，则查找成功，输出 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		cout <span style="color:#f92672">&lt;&lt;</span> (it<span style="color:#f92672">-</span>it1<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">&lt;&lt;</span> endl;			<span style="color:#75715e">//输出所在位置 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> } 
</span></span></code></pre></div><h2 id="6查找函数upper_boundlower_bound">6)查找函数：upper_bound()、lower_bound()
</h2><ol>
<li>**upper_bound()：**查找第一个大于x的值的位置</li>
<li>**lower_bound()：**查找第一个大于等于x的值的位置</li>
</ol>
<p>同样是返回地址，<strong>用法和 find() 函数一样</strong>，<strong>限制条件也一样</strong></p>
<h2 id="7填充函数fill">7）填充函数：fill()
</h2><p><strong>功能：<strong>在区间内填充某一个值。同样</strong>适用所有类型数组，容器</strong>。<strong>范围左开右闭</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">22</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> a[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    fill(a<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>,a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">9999</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> a[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">22</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">9999</span> <span style="color:#ae81ff">9999</span> <span style="color:#ae81ff">9999</span>
</span></span></code></pre></div><h2 id="8查找某值出现的次数count">8）查找某值出现的次数：count()
</h2><p><strong>（1）在数组中查找x 在某区间出现的次数：</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {  
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">22</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">44</span>};
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> count(a, a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">44</span>);	
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> } 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>（2）<strong>在容器中查找同理，只是需要用<code>iterator</code>迭代器或<code>begin()</code>、<code>end()</code>函数。</strong></p>
<p>**注意：**和前几个函数一样，如果需要指定区间查询，<strong>注意是半开半闭区间(左闭右开区间)</strong>。</p>
<h2 id="9求最大公因数___gcd">9）求最大公因数：___gcd()
</h2><p>另外，用二者乘积除以最大公因数即可得到最小公倍数。 因此没有求最小公倍数的函数。</p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {  
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> Gcd <span style="color:#f92672">=</span> __gcd(a,b);
</span></span><span style="display:flex;"><span>	cout <span style="color:#f92672">&lt;&lt;</span> Gcd;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> } 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">4</span>
</span></span></code></pre></div><p>**注意： ** <strong>__gcd() 需要写两个下划线</strong></p>
<h2 id="10求交集并集差集set_intersectionset_unionset_difference">10）求交集、并集、差集：set_intersection()、set_union()、set_difference()
</h2><p><strong>（1）求交集：</strong></p>
<ol>
<li>
<p><strong>将两个数组的交集赋给一个容器</strong></p>
<p>（为什么不能赋给数组呢？因为数组不能动态开辟，且inserter()函数中的参数必须是指向容器的迭代器）</p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>}, b[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>v4;
</span></span><span style="display:flex;"><span>    set_intersection(a, a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>, b, b<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>, inserter(v4,v4.begin()));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v4.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> v4[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div></li>
<li>
<p><strong>将两个容器的交集赋给另一个容器：</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v1, v2, v3;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v1.push_back(i);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">8</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v2.push_back(i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    set_intersection(v1.begin(), v1.end(), v2.begin(), v2.end(), inserter(v3,v3.begin()));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v3.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> v3[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
</span></span></code></pre></div></li>
</ol>
<p><strong>（2）求并集：</strong></p>
<ol>
<li>
<p><strong>将两个数组的并集赋给一个容器</strong></p>
<p>（为什么不能赋给数组呢？因为数组不能动态开辟，且inserter()函数中的参数必须是指向容器的迭代器）</p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>}, b[<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">33</span>,<span style="color:#ae81ff">44</span>,<span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator it;
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>v4;
</span></span><span style="display:flex;"><span>    set_union(a, a<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>, b, b<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>, inserter(v4,v4.begin()));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v4.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> v4[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">33</span> <span style="color:#ae81ff">44</span> <span style="color:#ae81ff">55</span>
</span></span></code></pre></div></li>
<li>
<p><strong>将两个容器的并集赋给另一个容器</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;vector&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v1, v2, v3;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v1.push_back(i);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">8</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        v2.push_back(i);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    set_union(v1.begin(), v1.end(), v2.begin(), v2.end(), inserter(v3,v3.begin()));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> v3.size(); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> v3[i] <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">7</span>
</span></span></code></pre></div></li>
<li>
<p><strong>差集完全同理</strong></p>
</li>
</ol>
<p><strong>注意：</strong> <strong>inserter(c,c.begin()）为插入迭代器
此函数接受第二个参数，这个参数必须是一个指向给定容器的迭代器。元素将被插入到给定迭代器所表示的元素之前。</strong></p>
<h2 id="11全排列next_permutation">11）全排列：next_permutation()
</h2><p>**功能：**将给定区间的数组、容器全排列</p>
<p><strong>（1）将给定区间的数组全排列</strong></p>
<p><strong>代码示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span>a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">&lt;&lt;</span>a[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">&lt;&lt;</span>a[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(next_permutation(a,a<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>));	<span style="color:#75715e">//输出1、2、3的全排列
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">123</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">132</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">213</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">231</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">312</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">321</span>
</span></span></code></pre></div><p><strong>（2）容器全排列同理：只不过将参数换成<code>iterator</code>迭代器或<code>begin()</code>、<code>end()</code>函数。</strong></p>
<p><strong>注意：</strong> <strong>和之前的一样，如果指定全排列区间，则该区间是半开半闭区间（左闭右开）</strong></p>
<h1 id="12unordered_map">12、unordered_map
</h1><h2 id="1-简介">1. 简介
</h2><ul>
<li>unordered_map是一个将key和Value关联起来的容器，可以高效的根据单个key值查找对应的Value</li>
<li>key值应该是唯一的，key和Value的数据类型可以不相同</li>
<li>unordered_map存储元素时是没有顺序的，只是根据key的哈希值，将元素存在指定位置</li>
<li>unordered_map查询单个key的时候效率比map高，但是要查询某一范围内的key值是比map效率低</li>
<li>可以使用[]操作符来访问key值对应的Value值</li>
</ul>
<h2 id="2具体应用">2.具体应用
</h2><p>力扣13.罗马数字转整数</p>
<p>罗马数字包含以下七种字符: <code>I</code>， <code>V</code>， <code>X</code>， <code>L</code>，<code>C</code>，<code>D</code> 和 <code>M</code>。</p>
<pre tabindex="0"><code>字符          数值
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
</code></pre><p>例如， 罗马数字 <code>2</code> 写做 <code>II</code> ，即为两个并列的 1 。<code>12</code> 写做 <code>XII</code> ，即为 <code>X</code> + <code>II</code> 。 <code>27</code> 写做 <code>XXVII</code>, 即为 <code>XX</code> + <code>V</code> + <code>II</code> 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 <code>IIII</code>，而是 <code>IV</code>。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 <code>IX</code>。这个特殊的规则只适用于以下六种情况：</p>
<ul>
<li><code>I</code> 可以放在 <code>V</code> (5) 和 <code>X</code> (10) 的左边，来表示 4 和 9。</li>
<li><code>X</code> 可以放在 <code>L</code> (50) 和 <code>C</code> (100) 的左边，来表示 40 和 90。</li>
<li><code>C</code> 可以放在 <code>D</code> (500) 和 <code>M</code> (1000) 的左边，来表示 400 和 900。</li>
</ul>
<p>给定一个罗马数字，将其转换成整数。</p>
<p><strong>示例 1:</strong></p>
<pre tabindex="0"><code>输入: s = &#34;III&#34;
输出: 3
</code></pre><p><strong>示例 2:</strong></p>
<pre tabindex="0"><code>输入: s = &#34;IV&#34;
输出: 4
</code></pre><p><strong>示例 3:</strong></p>
<pre tabindex="0"><code>输入: s = &#34;IX&#34;
输出: 9
</code></pre><p><strong>示例 4:</strong></p>
<pre tabindex="0"><code>输入: s = &#34;LVIII&#34;
输出: 58
解释: L = 50, V= 5, III = 3.
</code></pre><p><strong>示例 5:</strong></p>
<pre tabindex="0"><code>输入: s = &#34;MCMXCIV&#34;
输出: 1994
解释: M = 1000, CM = 900, XC = 90, IV = 4.
</code></pre><p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 15</code></li>
<li><code>s</code> 仅含字符 <code>('I', 'V', 'X', 'L', 'C', 'D', 'M')</code></li>
<li>题目数据保证 <code>s</code> 是一个有效的罗马数字，且表示整数在范围 <code>[1, 3999]</code> 内</li>
<li>题目所给测试用例皆符合罗马数字书写规则，不会出现跨位等情况。</li>
<li>IL 和 IM 这样的例子并不符合题目要求，49 应该写作 XLIX，999 应该写作 CMXCIX 。</li>
<li>关于罗马数字的详尽书写规则，可以参考 <a class="link" href="https://baike.baidu.com/item/%e7%bd%97%e9%a9%ac%e6%95%b0%e5%ad%97/772296"  target="_blank" rel="noopener"
    >罗马数字 - 百度百科</a>。</li>
</ul>
<p><strong>具体代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> romanToInt(string s) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        unordered_map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">char</span>,<span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> LuoMaNumber <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;I&#39;</span>,<span style="color:#ae81ff">1</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;V&#39;</span>,<span style="color:#ae81ff">5</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;X&#39;</span>,<span style="color:#ae81ff">10</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;L&#39;</span>,<span style="color:#ae81ff">50</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#ae81ff">100</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#ae81ff">500</span>},
</span></span><span style="display:flex;"><span>            {<span style="color:#e6db74">&#39;M&#39;</span>,<span style="color:#ae81ff">1000</span>},
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>s.length();i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> value1<span style="color:#f92672">=</span>LuoMaNumber[s[i]],value2<span style="color:#f92672">=</span>LuoMaNumber[s[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">==</span>s.length()<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                sum<span style="color:#f92672">+=</span>value1;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(value1<span style="color:#f92672">&lt;</span>value2)
</span></span><span style="display:flex;"><span>            sum<span style="color:#f92672">-=</span>value1;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> sum<span style="color:#f92672">+=</span>value1;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h1 id="13stack">13、Stack
</h1><p>Stack就是栈</p>
<p><strong>使用stack需要包含头文件：<code>#include&lt;stack&gt;</code></strong></p>
<h2 id="1-stack的定义及初始化">1. stack的定义及初始化
</h2><ul>
<li>
<p>**格式：**stack&lt;数据类型&gt; 容器名</p>
</li>
<li>
<p><strong>示例：</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>stack<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> s1;
</span></span><span style="display:flex;"><span>stack<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span> s2;
</span></span><span style="display:flex;"><span>stack<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> s3;
</span></span><span style="display:flex;"><span>stack<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">结构体类型</span><span style="color:#f92672">&gt;</span> s4;
</span></span><span style="display:flex;"><span>stack<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> s5[N];	<span style="color:#75715e">//定义一个存储数据类型为int的stack容器数组，N为大小
</span></span></span></code></pre></div></li>
</ul>
<h2 id="2stack常用的成员函数">2.stack常用的成员函数
</h2><ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>  empty();<span style="color:#75715e">//判断堆栈是否为空
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  pop();	<span style="color:#75715e">//弹出堆栈顶部的元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  push();	<span style="color:#75715e">//向堆栈顶部添加元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  size();	<span style="color:#75715e">//返回堆栈中元素的个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  top();	<span style="color:#75715e">//返回堆栈顶部元素
</span></span></span></code></pre></div></li>
<li>
<p><strong>示例代码</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include&lt;stack&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    stack<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> s;
</span></span><span style="display:flex;"><span>    s.push(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    s.push(<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    s.push(<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    s.push(<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;堆栈中的元素个数为:&#34;</span><span style="color:#f92672">&lt;&lt;</span>s.size()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(s.empty())
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;堆栈为空&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;堆栈不为空&#34;</span><span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;堆栈的最顶部元素为:&#34;</span><span style="color:#f92672">&lt;&lt;</span>s.top()<span style="color:#f92672">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>    s.pop();
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;弹出最高位后堆栈的最顶部元素为:&#34;</span><span style="color:#f92672">&lt;&lt;</span>s.top();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">//输出结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">堆栈中的元素个数为</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">堆栈不为空</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">堆栈的最顶部元素为</span><span style="color:#f92672">:</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">弹出最高位后堆栈的最顶部元素为</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div></li>
</ul>
<h1 id="forchar-chs">for(char ch:s)
</h1><p>功能为遍历字符串，功能等效于</p>
<p><code>for(int i=0;i&lt;s.length();i++)</code></p>

</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 Carp&#39;s blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.26.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
